/*! For license information please see exafs-bundle.js.LICENSE.txt */
var ExaFS;(()=>{"use strict";var e={169:(e,t,i)=>{i.r(t),i.d(t,{Alert:()=>Tt,Button:()=>It,Carousel:()=>jt,Collapse:()=>Wt,Dropdown:()=>di,Modal:()=>Si,Offcanvas:()=>qi,Popover:()=>hn,ScrollSpy:()=>bn,Tab:()=>Pn,Toast:()=>Fn,Tooltip:()=>cn});var n={};i.r(n),i.d(n,{afterMain:()=>E,afterRead:()=>y,afterWrite:()=>C,applyStyles:()=>S,arrow:()=>Q,auto:()=>l,basePlacements:()=>c,beforeMain:()=>w,beforeRead:()=>b,beforeWrite:()=>I,bottom:()=>o,clippingParents:()=>h,computeStyles:()=>te,createPopper:()=>Le,createPopperBase:()=>xe,createPopperLite:()=>ke,detectOverflow:()=>ge,end:()=>u,eventListeners:()=>ne,flip:()=>_e,hide:()=>ye,left:()=>a,main:()=>T,modifierPhases:()=>O,offset:()=>we,placements:()=>_,popper:()=>f,popperGenerator:()=>Pe,popperOffsets:()=>Te,preventOverflow:()=>Ee,read:()=>v,reference:()=>m,right:()=>r,start:()=>d,top:()=>s,variationPlacements:()=>g,viewport:()=>p,write:()=>A});var s="top",o="bottom",r="right",a="left",l="auto",c=[s,o,r,a],d="start",u="end",h="clippingParents",p="viewport",f="popper",m="reference",g=c.reduce((function(e,t){return e.concat([t+"-"+d,t+"-"+u])}),[]),_=[].concat(c,[l]).reduce((function(e,t){return e.concat([t,t+"-"+d,t+"-"+u])}),[]),b="beforeRead",v="read",y="afterRead",w="beforeMain",T="main",E="afterMain",I="beforeWrite",A="write",C="afterWrite",O=[b,v,y,w,T,E,I,A,C];function P(e){return e?(e.nodeName||"").toLowerCase():null}function x(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function L(e){return e instanceof x(e).Element||e instanceof Element}function k(e){return e instanceof x(e).HTMLElement||e instanceof HTMLElement}function N(e){return"undefined"!=typeof ShadowRoot&&(e instanceof x(e).ShadowRoot||e instanceof ShadowRoot)}const S={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},s=t.elements[e];k(s)&&P(s)&&(Object.assign(s.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],s=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});k(n)&&P(n)&&(Object.assign(n.style,o),Object.keys(s).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};function F(e){return e.split("-")[0]}var D=Math.max,M=Math.min,R=Math.round;function $(e,t){void 0===t&&(t=!1);var i=e.getBoundingClientRect(),n=1,s=1;if(k(e)&&t){var o=e.offsetHeight,r=e.offsetWidth;r>0&&(n=R(i.width)/r||1),o>0&&(s=R(i.height)/o||1)}return{width:i.width/n,height:i.height/s,top:i.top/s,right:i.right/n,bottom:i.bottom/s,left:i.left/n,x:i.left/n,y:i.top/s}}function j(e){var t=$(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function H(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&N(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function B(e){return x(e).getComputedStyle(e)}function q(e){return["table","td","th"].indexOf(P(e))>=0}function V(e){return((L(e)?e.ownerDocument:e.document)||window.document).documentElement}function U(e){return"html"===P(e)?e:e.assignedSlot||e.parentNode||(N(e)?e.host:null)||V(e)}function z(e){return k(e)&&"fixed"!==B(e).position?e.offsetParent:null}function W(e){for(var t=x(e),i=z(e);i&&q(i)&&"static"===B(i).position;)i=z(i);return i&&("html"===P(i)||"body"===P(i)&&"static"===B(i).position)?t:i||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&k(e)&&"fixed"===B(e).position)return null;var i=U(e);for(N(i)&&(i=i.host);k(i)&&["html","body"].indexOf(P(i))<0;){var n=B(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}function K(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Y(e,t,i){return D(e,M(t,i))}function G(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function X(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}const Q={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,l=e.options,d=i.elements.arrow,u=i.modifiersData.popperOffsets,h=F(i.placement),p=K(h),f=[a,r].indexOf(h)>=0?"height":"width";if(d&&u){var m=function(e,t){return G("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:X(e,c))}(l.padding,i),g=j(d),_="y"===p?s:a,b="y"===p?o:r,v=i.rects.reference[f]+i.rects.reference[p]-u[p]-i.rects.popper[f],y=u[p]-i.rects.reference[p],w=W(d),T=w?"y"===p?w.clientHeight||0:w.clientWidth||0:0,E=v/2-y/2,I=m[_],A=T-g[f]-m[b],C=T/2-g[f]/2+E,O=Y(I,C,A),P=p;i.modifiersData[n]=((t={})[P]=O,t.centerOffset=O-C,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&H(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Z(e){return e.split("-")[1]}var J={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ee(e){var t,i=e.popper,n=e.popperRect,l=e.placement,c=e.variation,d=e.offsets,h=e.position,p=e.gpuAcceleration,f=e.adaptive,m=e.roundOffsets,g=e.isFixed,_=d.x,b=void 0===_?0:_,v=d.y,y=void 0===v?0:v,w="function"==typeof m?m({x:b,y}):{x:b,y};b=w.x,y=w.y;var T=d.hasOwnProperty("x"),E=d.hasOwnProperty("y"),I=a,A=s,C=window;if(f){var O=W(i),P="clientHeight",L="clientWidth";O===x(i)&&"static"!==B(O=V(i)).position&&"absolute"===h&&(P="scrollHeight",L="scrollWidth"),(l===s||(l===a||l===r)&&c===u)&&(A=o,y-=(g&&O===C&&C.visualViewport?C.visualViewport.height:O[P])-n.height,y*=p?1:-1),l!==a&&(l!==s&&l!==o||c!==u)||(I=r,b-=(g&&O===C&&C.visualViewport?C.visualViewport.width:O[L])-n.width,b*=p?1:-1)}var k,N=Object.assign({position:h},f&&J),S=!0===m?function(e){var t=e.x,i=e.y,n=window.devicePixelRatio||1;return{x:R(t*n)/n||0,y:R(i*n)/n||0}}({x:b,y}):{x:b,y};return b=S.x,y=S.y,p?Object.assign({},N,((k={})[A]=E?"0":"",k[I]=T?"0":"",k.transform=(C.devicePixelRatio||1)<=1?"translate("+b+"px, "+y+"px)":"translate3d("+b+"px, "+y+"px, 0)",k)):Object.assign({},N,((t={})[A]=E?y+"px":"",t[I]=T?b+"px":"",t.transform="",t))}const te={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,s=void 0===n||n,o=i.adaptive,r=void 0===o||o,a=i.roundOffsets,l=void 0===a||a,c={placement:F(t.placement),variation:Z(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ee(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ee(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ie={passive:!0};const ne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,n=e.options,s=n.scroll,o=void 0===s||s,r=n.resize,a=void 0===r||r,l=x(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",i.update,ie)})),a&&l.addEventListener("resize",i.update,ie),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",i.update,ie)})),a&&l.removeEventListener("resize",i.update,ie)}},data:{}};var se={left:"right",right:"left",bottom:"top",top:"bottom"};function oe(e){return e.replace(/left|right|bottom|top/g,(function(e){return se[e]}))}var re={start:"end",end:"start"};function ae(e){return e.replace(/start|end/g,(function(e){return re[e]}))}function le(e){var t=x(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ce(e){return $(V(e)).left+le(e).scrollLeft}function de(e){var t=B(e),i=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function ue(e){return["html","body","#document"].indexOf(P(e))>=0?e.ownerDocument.body:k(e)&&de(e)?e:ue(U(e))}function he(e,t){var i;void 0===t&&(t=[]);var n=ue(e),s=n===(null==(i=e.ownerDocument)?void 0:i.body),o=x(n),r=s?[o].concat(o.visualViewport||[],de(n)?n:[]):n,a=t.concat(r);return s?a:a.concat(he(U(r)))}function pe(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function fe(e,t){return t===p?pe(function(e){var t=x(e),i=V(e),n=t.visualViewport,s=i.clientWidth,o=i.clientHeight,r=0,a=0;return n&&(s=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=n.offsetLeft,a=n.offsetTop)),{width:s,height:o,x:r+ce(e),y:a}}(e)):L(t)?function(e){var t=$(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):pe(function(e){var t,i=V(e),n=le(e),s=null==(t=e.ownerDocument)?void 0:t.body,o=D(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=D(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-n.scrollLeft+ce(e),l=-n.scrollTop;return"rtl"===B(s||i).direction&&(a+=D(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:a,y:l}}(V(e)))}function me(e){var t,i=e.reference,n=e.element,l=e.placement,c=l?F(l):null,h=l?Z(l):null,p=i.x+i.width/2-n.width/2,f=i.y+i.height/2-n.height/2;switch(c){case s:t={x:p,y:i.y-n.height};break;case o:t={x:p,y:i.y+i.height};break;case r:t={x:i.x+i.width,y:f};break;case a:t={x:i.x-n.width,y:f};break;default:t={x:i.x,y:i.y}}var m=c?K(c):null;if(null!=m){var g="y"===m?"height":"width";switch(h){case d:t[m]=t[m]-(i[g]/2-n[g]/2);break;case u:t[m]=t[m]+(i[g]/2-n[g]/2)}}return t}function ge(e,t){void 0===t&&(t={});var i=t,n=i.placement,a=void 0===n?e.placement:n,l=i.boundary,d=void 0===l?h:l,u=i.rootBoundary,g=void 0===u?p:u,_=i.elementContext,b=void 0===_?f:_,v=i.altBoundary,y=void 0!==v&&v,w=i.padding,T=void 0===w?0:w,E=G("number"!=typeof T?T:X(T,c)),I=b===f?m:f,A=e.rects.popper,C=e.elements[y?I:b],O=function(e,t,i){var n="clippingParents"===t?function(e){var t=he(U(e)),i=["absolute","fixed"].indexOf(B(e).position)>=0&&k(e)?W(e):e;return L(i)?t.filter((function(e){return L(e)&&H(e,i)&&"body"!==P(e)})):[]}(e):[].concat(t),s=[].concat(n,[i]),o=s[0],r=s.reduce((function(t,i){var n=fe(e,i);return t.top=D(n.top,t.top),t.right=M(n.right,t.right),t.bottom=M(n.bottom,t.bottom),t.left=D(n.left,t.left),t}),fe(e,o));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}(L(C)?C:C.contextElement||V(e.elements.popper),d,g),x=$(e.elements.reference),N=me({reference:x,element:A,strategy:"absolute",placement:a}),S=pe(Object.assign({},A,N)),F=b===f?S:x,R={top:O.top-F.top+E.top,bottom:F.bottom-O.bottom+E.bottom,left:O.left-F.left+E.left,right:F.right-O.right+E.right},j=e.modifiersData.offset;if(b===f&&j){var q=j[a];Object.keys(R).forEach((function(e){var t=[r,o].indexOf(e)>=0?1:-1,i=[s,o].indexOf(e)>=0?"y":"x";R[e]+=q[i]*t}))}return R}const _e={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var u=i.mainAxis,h=void 0===u||u,p=i.altAxis,f=void 0===p||p,m=i.fallbackPlacements,b=i.padding,v=i.boundary,y=i.rootBoundary,w=i.altBoundary,T=i.flipVariations,E=void 0===T||T,I=i.allowedAutoPlacements,A=t.options.placement,C=F(A),O=m||(C!==A&&E?function(e){if(F(e)===l)return[];var t=oe(e);return[ae(e),t,ae(t)]}(A):[oe(A)]),P=[A].concat(O).reduce((function(e,i){return e.concat(F(i)===l?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,d=void 0===l?_:l,u=Z(n),h=u?a?g:g.filter((function(e){return Z(e)===u})):c,p=h.filter((function(e){return d.indexOf(e)>=0}));0===p.length&&(p=h);var f=p.reduce((function(t,i){return t[i]=ge(e,{placement:i,boundary:s,rootBoundary:o,padding:r})[F(i)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:i,boundary:v,rootBoundary:y,padding:b,flipVariations:E,allowedAutoPlacements:I}):i)}),[]),x=t.rects.reference,L=t.rects.popper,k=new Map,N=!0,S=P[0],D=0;D<P.length;D++){var M=P[D],R=F(M),$=Z(M)===d,j=[s,o].indexOf(R)>=0,H=j?"width":"height",B=ge(t,{placement:M,boundary:v,rootBoundary:y,altBoundary:w,padding:b}),q=j?$?r:a:$?o:s;x[H]>L[H]&&(q=oe(q));var V=oe(q),U=[];if(h&&U.push(B[R]<=0),f&&U.push(B[q]<=0,B[V]<=0),U.every((function(e){return e}))){S=M,N=!1;break}k.set(M,U)}if(N)for(var z=function(e){var t=P.find((function(t){var i=k.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},W=E?3:1;W>0&&"break"!==z(W);W--);t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function be(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function ve(e){return[s,r,o,a].some((function(t){return e[t]>=0}))}const ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,s=t.rects.popper,o=t.modifiersData.preventOverflow,r=ge(t,{elementContext:"reference"}),a=ge(t,{altBoundary:!0}),l=be(r,n),c=be(a,s,o),d=ve(l),u=ve(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}},we={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,l=void 0===o?[0,0]:o,c=_.reduce((function(e,i){return e[i]=function(e,t,i){var n=F(e),o=[a,s].indexOf(n)>=0?-1:1,l="function"==typeof i?i(Object.assign({},t,{placement:e})):i,c=l[0],d=l[1];return c=c||0,d=(d||0)*o,[a,r].indexOf(n)>=0?{x:d,y:c}:{x:c,y:d}}(i,t.rects,l),e}),{}),d=c[t.placement],u=d.x,h=d.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=c}},Te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=me({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ee={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,l=i.mainAxis,c=void 0===l||l,u=i.altAxis,h=void 0!==u&&u,p=i.boundary,f=i.rootBoundary,m=i.altBoundary,g=i.padding,_=i.tether,b=void 0===_||_,v=i.tetherOffset,y=void 0===v?0:v,w=ge(t,{boundary:p,rootBoundary:f,padding:g,altBoundary:m}),T=F(t.placement),E=Z(t.placement),I=!E,A=K(T),C="x"===A?"y":"x",O=t.modifiersData.popperOffsets,P=t.rects.reference,x=t.rects.popper,L="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,k="number"==typeof L?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(O){if(c){var R,$="y"===A?s:a,H="y"===A?o:r,B="y"===A?"height":"width",q=O[A],V=q+w[$],U=q-w[H],z=b?-x[B]/2:0,G=E===d?P[B]:x[B],X=E===d?-x[B]:-P[B],Q=t.elements.arrow,J=b&&Q?j(Q):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[$],ie=ee[H],ne=Y(0,P[B],J[B]),se=I?P[B]/2-z-ne-te-k.mainAxis:G-ne-te-k.mainAxis,oe=I?-P[B]/2+z+ne+ie+k.mainAxis:X+ne+ie+k.mainAxis,re=t.elements.arrow&&W(t.elements.arrow),ae=re?"y"===A?re.clientTop||0:re.clientLeft||0:0,le=null!=(R=null==N?void 0:N[A])?R:0,ce=q+oe-le,de=Y(b?M(V,q+se-le-ae):V,q,b?D(U,ce):U);O[A]=de,S[A]=de-q}if(h){var ue,he="x"===A?s:a,pe="x"===A?o:r,fe=O[C],me="y"===C?"height":"width",_e=fe+w[he],be=fe-w[pe],ve=-1!==[s,a].indexOf(T),ye=null!=(ue=null==N?void 0:N[C])?ue:0,we=ve?_e:fe-P[me]-x[me]-ye+k.altAxis,Te=ve?fe+P[me]+x[me]-ye-k.altAxis:be,Ee=b&&ve?function(e,t,i){var n=Y(e,t,i);return n>i?i:n}(we,fe,Te):Y(b?we:_e,fe,b?Te:be);O[C]=Ee,S[C]=Ee-fe}t.modifiersData[n]=S}},requiresIfExists:["offset"]};function Ie(e,t,i){void 0===i&&(i=!1);var n,s,o=k(t),r=k(t)&&function(e){var t=e.getBoundingClientRect(),i=R(t.width)/e.offsetWidth||1,n=R(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),a=V(t),l=$(e,r),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!i)&&(("body"!==P(t)||de(a))&&(c=(n=t)!==x(n)&&k(n)?{scrollLeft:(s=n).scrollLeft,scrollTop:s.scrollTop}:le(n)),k(t)?((d=$(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=ce(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function Ae(e){var t=new Map,i=new Set,n=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&s(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),n}var Ce={placement:"bottom",modifiers:[],strategy:"absolute"};function Oe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Pe(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,s=t.defaultOptions,o=void 0===s?Ce:s;return function(e,t,i){void 0===i&&(i=o);var s,r,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ce,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(i){var s="function"==typeof i?i(a.options):i;u(),a.options=Object.assign({},o,a.options,s),a.scrollParents={reference:L(e)?he(e):e.contextElement?he(e.contextElement):[],popper:he(t)};var r,c,h=function(e){var t=Ae(e);return O.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((r=[].concat(n,a.options.modifiers),c=r.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=h.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var o=s({state:a,name:t,instance:d,options:n});l.push(o||function(){})}})),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(Oe(t,i)){a.rects={reference:Ie(t,W(i),"fixed"===a.options.strategy),popper:j(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<a.orderedModifiers.length;n++)if(!0!==a.reset){var s=a.orderedModifiers[n],o=s.fn,r=s.options,l=void 0===r?{}:r,u=s.name;"function"==typeof o&&(a=o({state:a,options:l,name:u,instance:d})||a)}else a.reset=!1,n=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return r||(r=new Promise((function(e){Promise.resolve().then((function(){r=void 0,e(s())}))}))),r}),destroy:function(){u(),c=!0}};if(!Oe(e,t))return d;function u(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(i).then((function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}var xe=Pe(),Le=Pe({defaultModifiers:[ne,Te,te,S,we,_e,Ee,Q,ye]}),ke=Pe({defaultModifiers:[ne,Te,te,S]});const Ne="transitionend",Se=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&"#"!==i?i.trim():null}return t},Fe=e=>{const t=Se(e);return t&&document.querySelector(t)?t:null},De=e=>{const t=Se(e);return t?document.querySelector(t):null},Me=e=>{e.dispatchEvent(new Event(Ne))},Re=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),$e=e=>Re(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(e):null,je=e=>{if(!Re(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const t=e.closest("summary");if(t&&t.parentNode!==i)return!1;if(null===t)return!1}return t},He=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),Be=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Be(e.parentNode):null},qe=()=>{},Ve=e=>{e.offsetHeight},Ue=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ze=[],We=()=>"rtl"===document.documentElement.dir,Ke=e=>{var t;t=()=>{const t=Ue();if(t){const i=e.NAME,n=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=n,e.jQueryInterface)}},"loading"===document.readyState?(ze.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of ze)e()})),ze.push(t)):t()},Ye=e=>{"function"==typeof e&&e()},Ge=(e,t,i=!0)=>{if(!i)return void Ye(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const n=Number.parseFloat(t),s=Number.parseFloat(i);return n||s?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let s=!1;const o=({target:i})=>{i===t&&(s=!0,t.removeEventListener(Ne,o),Ye(e))};t.addEventListener(Ne,o),setTimeout((()=>{s||Me(t)}),n)},Xe=(e,t,i,n)=>{const s=e.length;let o=e.indexOf(t);return-1===o?!i&&n?e[s-1]:e[0]:(o+=i?1:-1,n&&(o=(o+s)%s),e[Math.max(0,Math.min(o,s-1))])},Qe=/[^.]*(?=\..*)\.|.*/,Ze=/\..*/,Je=/::\d+$/,et={};let tt=1;const it={mouseenter:"mouseover",mouseleave:"mouseout"},nt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function st(e,t){return t&&`${t}::${tt++}`||e.uidEvent||tt++}function ot(e){const t=st(e);return e.uidEvent=t,et[t]=et[t]||{},et[t]}function rt(e,t,i=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===i))}function at(e,t,i){const n="string"==typeof t,s=n?i:t||i;let o=ut(e);return nt.has(o)||(o=e),[n,s,o]}function lt(e,t,i,n,s){if("string"!=typeof t||!e)return;let[o,r,a]=at(t,i,n);if(t in it){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};r=e(r)}const l=ot(e),c=l[a]||(l[a]={}),d=rt(c,r,o?i:null);if(d)return void(d.oneOff=d.oneOff&&s);const u=st(r,t.replace(Qe,"")),h=o?function(e,t,i){return function n(s){const o=e.querySelectorAll(t);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const a of o)if(a===r)return pt(s,{delegateTarget:r}),n.oneOff&&ht.off(e,s.type,t,i),i.apply(r,[s])}}(e,i,r):function(e,t){return function i(n){return pt(n,{delegateTarget:e}),i.oneOff&&ht.off(e,n.type,t),t.apply(e,[n])}}(e,r);h.delegationSelector=o?i:null,h.callable=r,h.oneOff=s,h.uidEvent=u,c[u]=h,e.addEventListener(a,h,o)}function ct(e,t,i,n,s){const o=rt(t[i],n,s);o&&(e.removeEventListener(i,o,Boolean(s)),delete t[i][o.uidEvent])}function dt(e,t,i,n){const s=t[i]||{};for(const o of Object.keys(s))if(o.includes(n)){const n=s[o];ct(e,t,i,n.callable,n.delegationSelector)}}function ut(e){return e=e.replace(Ze,""),it[e]||e}const ht={on(e,t,i,n){lt(e,t,i,n,!1)},one(e,t,i,n){lt(e,t,i,n,!0)},off(e,t,i,n){if("string"!=typeof t||!e)return;const[s,o,r]=at(t,i,n),a=r!==t,l=ot(e),c=l[r]||{},d=t.startsWith(".");if(void 0===o){if(d)for(const i of Object.keys(l))dt(e,l,i,t.slice(1));for(const i of Object.keys(c)){const n=i.replace(Je,"");if(!a||t.includes(n)){const t=c[i];ct(e,l,r,t.callable,t.delegationSelector)}}}else{if(!Object.keys(c).length)return;ct(e,l,r,o,s?i:null)}},trigger(e,t,i){if("string"!=typeof t||!e)return null;const n=Ue();let s=null,o=!0,r=!0,a=!1;t!==ut(t)&&n&&(s=n.Event(t,i),n(e).trigger(s),o=!s.isPropagationStopped(),r=!s.isImmediatePropagationStopped(),a=s.isDefaultPrevented());let l=new Event(t,{bubbles:o,cancelable:!0});return l=pt(l,i),a&&l.preventDefault(),r&&e.dispatchEvent(l),l.defaultPrevented&&s&&s.preventDefault(),l}};function pt(e,t){for(const[i,n]of Object.entries(t||{}))try{e[i]=n}catch(t){Object.defineProperty(e,i,{configurable:!0,get:()=>n})}return e}const ft=new Map,mt={set(e,t,i){ft.has(e)||ft.set(e,new Map);const n=ft.get(e);n.has(t)||0===n.size?n.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`)},get:(e,t)=>ft.has(e)&&ft.get(e).get(t)||null,remove(e,t){if(!ft.has(e))return;const i=ft.get(e);i.delete(t),0===i.size&&ft.delete(e)}};function gt(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function _t(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const bt={setDataAttribute(e,t,i){e.setAttribute(`data-bs-${_t(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${_t(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const n of i){let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),t[i]=gt(e.dataset[n])}return t},getDataAttribute:(e,t)=>gt(e.getAttribute(`data-bs-${_t(t)}`))};class vt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const i=Re(t)?bt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...Re(t)?bt.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const n of Object.keys(t)){const s=t[n],o=e[n],r=Re(o)?"element":null==(i=o)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${s}".`)}var i}}class yt extends vt{constructor(e,t){super(),(e=$e(e))&&(this._element=e,this._config=this._getConfig(t),mt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){mt.remove(this._element,this.constructor.DATA_KEY),ht.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,i=!0){Ge(e,t,i)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return mt.get($e(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.2.0"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const wt=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;ht.on(document,i,`[data-bs-dismiss="${n}"]`,(function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),He(this))return;const s=De(this)||this.closest(`.${n}`);e.getOrCreateInstance(s)[t]()}))};class Tt extends yt{static get NAME(){return"alert"}close(){if(ht.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),ht.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Tt.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}wt(Tt,"close"),Ke(Tt);const Et='[data-bs-toggle="button"]';class It extends yt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=It.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}ht.on(document,"click.bs.button.data-api",Et,(e=>{e.preventDefault();const t=e.target.closest(Et);It.getOrCreateInstance(t).toggle()})),Ke(It);const At={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const i=[];let n=e.parentNode.closest(t);for(;n;)i.push(n),n=n.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!He(e)&&je(e)))}},Ct={endCallback:null,leftCallback:null,rightCallback:null},Ot={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Pt extends vt{constructor(e,t){super(),this._element=e,e&&Pt.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ct}static get DefaultType(){return Ot}static get NAME(){return"swipe"}dispose(){ht.off(this._element,".bs.swipe")}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ye(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&Ye(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ht.on(this._element,"pointerdown.bs.swipe",(e=>this._start(e))),ht.on(this._element,"pointerup.bs.swipe",(e=>this._end(e))),this._element.classList.add("pointer-event")):(ht.on(this._element,"touchstart.bs.swipe",(e=>this._start(e))),ht.on(this._element,"touchmove.bs.swipe",(e=>this._move(e))),ht.on(this._element,"touchend.bs.swipe",(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xt="next",Lt="prev",kt="left",Nt="right",St="slid.bs.carousel",Ft="carousel",Dt="active",Mt={ArrowLeft:Nt,ArrowRight:kt},Rt={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},$t={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class jt extends yt{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=At.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ft&&this.cycle()}static get Default(){return Rt}static get DefaultType(){return $t}static get NAME(){return"carousel"}next(){this._slide(xt)}nextWhenVisible(){!document.hidden&&je(this._element)&&this.next()}prev(){this._slide(Lt)}pause(){this._isSliding&&Me(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?ht.one(this._element,St,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void ht.one(this._element,St,(()=>this.to(e)));const i=this._getItemIndex(this._getActive());if(i===e)return;const n=e>i?xt:Lt;this._slide(n,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&ht.on(this._element,"keydown.bs.carousel",(e=>this._keydown(e))),"hover"===this._config.pause&&(ht.on(this._element,"mouseenter.bs.carousel",(()=>this.pause())),ht.on(this._element,"mouseleave.bs.carousel",(()=>this._maybeEnableCycle()))),this._config.touch&&Pt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of At.find(".carousel-item img",this._element))ht.on(e,"dragstart.bs.carousel",(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(kt)),rightCallback:()=>this._slide(this._directionToOrder(Nt)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Pt(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Mt[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=At.findOne(".active",this._indicatorsElement);t.classList.remove(Dt),t.removeAttribute("aria-current");const i=At.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);i&&(i.classList.add(Dt),i.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const i=this._getActive(),n=e===xt,s=t||Xe(this._getItems(),i,n,this._config.wrap);if(s===i)return;const o=this._getItemIndex(s),r=t=>ht.trigger(this._element,t,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(i),to:o});if(r("slide.bs.carousel").defaultPrevented)return;if(!i||!s)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=s;const l=n?"carousel-item-start":"carousel-item-end",c=n?"carousel-item-next":"carousel-item-prev";s.classList.add(c),Ve(s),i.classList.add(l),s.classList.add(l),this._queueCallback((()=>{s.classList.remove(l,c),s.classList.add(Dt),i.classList.remove(Dt,c,l),this._isSliding=!1,r(St)}),i,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return At.findOne(".active.carousel-item",this._element)}_getItems(){return At.find(".carousel-item",this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return We()?e===kt?Lt:xt:e===kt?xt:Lt}_orderToDirection(e){return We()?e===Lt?kt:Nt:e===Lt?Nt:kt}static jQueryInterface(e){return this.each((function(){const t=jt.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}ht.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",(function(e){const t=De(this);if(!t||!t.classList.contains(Ft))return;e.preventDefault();const i=jt.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");return n?(i.to(n),void i._maybeEnableCycle()):"next"===bt.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())})),ht.on(window,"load.bs.carousel.data-api",(()=>{const e=At.find('[data-bs-ride="carousel"]');for(const t of e)jt.getOrCreateInstance(t)})),Ke(jt);const Ht="show",Bt="collapse",qt="collapsing",Vt='[data-bs-toggle="collapse"]',Ut={parent:null,toggle:!0},zt={parent:"(null|element)",toggle:"boolean"};class Wt extends yt{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const i=At.find(Vt);for(const e of i){const t=Fe(e),i=At.find(t).filter((e=>e===this._element));null!==t&&i.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ut}static get DefaultType(){return zt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Wt.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(ht.trigger(this._element,"show.bs.collapse").defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Bt),this._element.classList.add(qt),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(qt),this._element.classList.add(Bt,Ht),this._element.style[t]="",ht.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[t]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(ht.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,Ve(this._element),this._element.classList.add(qt),this._element.classList.remove(Bt,Ht);for(const e of this._triggerArray){const t=De(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(qt),this._element.classList.add(Bt),ht.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Ht)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=$e(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Vt);for(const t of e){const e=De(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=At.find(":scope .collapse .collapse",this._config.parent);return At.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const i of e)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const i=Wt.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e]()}}))}}ht.on(document,"click.bs.collapse.data-api",Vt,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const t=Fe(this),i=At.find(t);for(const e of i)Wt.getOrCreateInstance(e,{toggle:!1}).toggle()})),Ke(Wt);const Kt="dropdown",Yt="ArrowUp",Gt="ArrowDown",Xt="click.bs.dropdown.data-api",Qt="keydown.bs.dropdown.data-api",Zt="show",Jt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ei=`${Jt}.show`,ti=".dropdown-menu",ii=We()?"top-end":"top-start",ni=We()?"top-start":"top-end",si=We()?"bottom-end":"bottom-start",oi=We()?"bottom-start":"bottom-end",ri=We()?"left-start":"right-start",ai=We()?"right-start":"left-start",li={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ci={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class di extends yt{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=At.findOne(ti,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return li}static get DefaultType(){return ci}static get NAME(){return Kt}toggle(){return this._isShown()?this.hide():this.show()}show(){if(He(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!ht.trigger(this._element,"show.bs.dropdown",e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))ht.on(e,"mouseover",qe);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Zt),this._element.classList.add(Zt),ht.trigger(this._element,"shown.bs.dropdown",e)}}hide(){if(He(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!ht.trigger(this._element,"hide.bs.dropdown",e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.off(e,"mouseover",qe);this._popper&&this._popper.destroy(),this._menu.classList.remove(Zt),this._element.classList.remove(Zt),this._element.setAttribute("aria-expanded","false"),bt.removeDataAttribute(this._menu,"popper"),ht.trigger(this._element,"hidden.bs.dropdown",e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!Re(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${Kt.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:Re(this._config.reference)?e=$e(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Le(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Zt)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return ri;if(e.classList.contains("dropstart"))return ai;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?ni:ii:t?oi:si}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(bt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_selectMenuItem({key:e,target:t}){const i=At.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>je(e)));i.length&&Xe(i,t,e===Gt,!i.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=di.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=At.find(ei);for(const i of t){const t=di.getInstance(i);if(!t||!1===t._config.autoClose)continue;const n=e.composedPath(),s=n.includes(t._menu);if(n.includes(t._element)||"inside"===t._config.autoClose&&!s||"outside"===t._config.autoClose&&s)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),i="Escape"===e.key,n=[Yt,Gt].includes(e.key);if(!n&&!i)return;if(t&&!i)return;e.preventDefault();const s=At.findOne(Jt,e.delegateTarget.parentNode),o=di.getOrCreateInstance(s);if(n)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),s.focus())}}ht.on(document,Qt,Jt,di.dataApiKeydownHandler),ht.on(document,Qt,ti,di.dataApiKeydownHandler),ht.on(document,Xt,di.clearMenus),ht.on(document,"keyup.bs.dropdown.data-api",di.clearMenus),ht.on(document,Xt,Jt,(function(e){e.preventDefault(),di.getOrCreateInstance(this).toggle()})),Ke(di);const ui=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",hi=".sticky-top",pi="padding-right",fi="margin-right";class mi{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,pi,(t=>t+e)),this._setElementAttributes(ui,pi,(t=>t+e)),this._setElementAttributes(hi,fi,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,pi),this._resetElementAttributes(ui,pi),this._resetElementAttributes(hi,fi)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,i){const n=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);const s=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${i(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(e,t){const i=e.style.getPropertyValue(t);i&&bt.setDataAttribute(e,t,i)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const i=bt.getDataAttribute(e,t);null!==i?(bt.removeDataAttribute(e,t),e.style.setProperty(t,i)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(Re(e))t(e);else for(const i of At.find(e,this._element))t(i)}}const gi="show",_i="mousedown.bs.backdrop",bi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},vi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class yi extends vt{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return bi}static get DefaultType(){return vi}static get NAME(){return"backdrop"}show(e){if(!this._config.isVisible)return void Ye(e);this._append();const t=this._getElement();this._config.isAnimated&&Ve(t),t.classList.add(gi),this._emulateAnimation((()=>{Ye(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(gi),this._emulateAnimation((()=>{this.dispose(),Ye(e)}))):Ye(e)}dispose(){this._isAppended&&(ht.off(this._element,_i),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=$e(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),ht.on(e,_i,(()=>{Ye(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){Ge(e,this._getElement(),this._config.isAnimated)}}const wi=".bs.focustrap",Ti="backward",Ei={autofocus:!0,trapElement:null},Ii={autofocus:"boolean",trapElement:"element"};class Ai extends vt{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ei}static get DefaultType(){return Ii}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ht.off(document,wi),ht.on(document,"focusin.bs.focustrap",(e=>this._handleFocusin(e))),ht.on(document,"keydown.tab.bs.focustrap",(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ht.off(document,wi))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const i=At.focusableChildren(t);0===i.length?t.focus():this._lastTabNavDirection===Ti?i[i.length-1].focus():i[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Ti:"forward")}}const Ci="hidden.bs.modal",Oi="show.bs.modal",Pi="modal-open",xi="show",Li="modal-static",ki={backdrop:!0,focus:!0,keyboard:!0},Ni={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Si extends yt{constructor(e,t){super(e,t),this._dialog=At.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new mi,this._addEventListeners()}static get Default(){return ki}static get DefaultType(){return Ni}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||ht.trigger(this._element,Oi,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Pi),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(ht.trigger(this._element,"hide.bs.modal").defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xi),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){for(const e of[window,this._dialog])ht.off(e,".bs.modal");this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new yi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ai({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=At.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),Ve(this._element),this._element.classList.add(xi),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ht.trigger(this._element,"shown.bs.modal",{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){ht.on(this._element,"keydown.dismiss.bs.modal",(e=>{if("Escape"===e.key)return this._config.keyboard?(e.preventDefault(),void this.hide()):void this._triggerBackdropTransition()})),ht.on(window,"resize.bs.modal",(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),ht.on(this._element,"mousedown.dismiss.bs.modal",(e=>{e.target===e.currentTarget&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Pi),this._resetAdjustments(),this._scrollBar.reset(),ht.trigger(this._element,Ci)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(ht.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Li)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Li),this._queueCallback((()=>{this._element.classList.remove(Li),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),i=t>0;if(i&&!e){const e=We()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!i&&e){const e=We()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const i=Si.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw new TypeError(`No method named "${e}"`);i[e](t)}}))}}ht.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(e){const t=De(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ht.one(t,Oi,(e=>{e.defaultPrevented||ht.one(t,Ci,(()=>{je(this)&&this.focus()}))}));const i=At.findOne(".modal.show");i&&Si.getInstance(i).hide(),Si.getOrCreateInstance(t).toggle(this)})),wt(Si),Ke(Si);const Fi="show",Di="showing",Mi="hiding",Ri=".offcanvas.show",$i="hidePrevented.bs.offcanvas",ji="hidden.bs.offcanvas",Hi={backdrop:!0,keyboard:!0,scroll:!1},Bi={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class qi extends yt{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Hi}static get DefaultType(){return Bi}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||ht.trigger(this._element,"show.bs.offcanvas",{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new mi).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Di),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Fi),this._element.classList.remove(Di),ht.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(ht.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Mi),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Fi,Mi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new mi).reset(),ht.trigger(this._element,ji)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new yi({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():ht.trigger(this._element,$i)}:null})}_initializeFocusTrap(){return new Ai({trapElement:this._element})}_addEventListeners(){ht.on(this._element,"keydown.dismiss.bs.offcanvas",(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():ht.trigger(this._element,$i))}))}static jQueryInterface(e){return this.each((function(){const t=qi.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}ht.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(e){const t=De(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),He(this))return;ht.one(t,ji,(()=>{je(this)&&this.focus()}));const i=At.findOne(Ri);i&&i!==t&&qi.getInstance(i).hide(),qi.getOrCreateInstance(t).toggle(this)})),ht.on(window,"load.bs.offcanvas.data-api",(()=>{for(const e of At.find(Ri))qi.getOrCreateInstance(e).show()})),ht.on(window,"resize.bs.offcanvas",(()=>{for(const e of At.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&qi.getOrCreateInstance(e).hide()})),wt(qi),Ke(qi);const Vi=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Ui=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,zi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Wi=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?!Vi.has(i)||Boolean(Ui.test(e.nodeValue)||zi.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(i)))},Ki={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yi={allowList:Ki,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Gi={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Xi={entry:"(string|element|function|null)",selector:"(string|element)"};class Qi extends vt{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Yi}static get DefaultType(){return Gi}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(e,i,t);const t=e.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,i]of Object.entries(e))super._typeCheckConfig({selector:t,entry:i},Xi)}_setContent(e,t,i){const n=At.findOne(i,e);n&&((t=this._resolvePossibleFunction(t))?Re(t)?this._putElementInTemplate($e(t),n):this._config.html?n.innerHTML=this._maybeSanitize(t):n.textContent=t:n.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,i){if(!e.length)return e;if(i&&"function"==typeof i)return i(e);const n=(new window.DOMParser).parseFromString(e,"text/html"),s=[].concat(...n.body.querySelectorAll("*"));for(const e of s){const i=e.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){e.remove();continue}const n=[].concat(...e.attributes),s=[].concat(t["*"]||[],t[i]||[]);for(const t of n)Wi(t,s)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return"function"==typeof e?e(this):e}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Zi=new Set(["sanitize","allowList","sanitizeFn"]),Ji="fade",en="show",tn=".modal",nn="hide.bs.modal",sn="hover",on="focus",rn={AUTO:"auto",TOP:"top",RIGHT:We()?"left":"right",BOTTOM:"bottom",LEFT:We()?"right":"left"},an={allowList:Ki,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},ln={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class cn extends yt{constructor(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=!1,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return an}static get DefaultType(){return ln}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(e){if(this._isEnabled){if(e){const t=this._initializeOnDelegatedTarget(e);return t._activeTrigger.click=!t._activeTrigger.click,void(t._isWithActiveTrigger()?t._enter():t._leave())}this._isShown()?this._leave():this._enter()}}dispose(){clearTimeout(this._timeout),ht.off(this._element.closest(tn),nn,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=ht.trigger(this._element,this.constructor.eventName("show")),t=(Be(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this.tip&&(this.tip.remove(),this.tip=null);const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(i),ht.trigger(this._element,this.constructor.eventName("inserted"))),this._popper?this._popper.update():this._popper=this._createPopper(i),i.classList.add(en),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.on(e,"mouseover",qe);this._queueCallback((()=>{const e=this._isHovered;this._isHovered=!1,ht.trigger(this._element,this.constructor.eventName("shown")),e&&this._leave()}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(ht.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;const e=this._getTipElement();if(e.classList.remove(en),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))ht.off(e,"mouseover",qe);this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,this._isHovered=!1,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||e.remove(),this._element.removeAttribute("aria-describedby"),ht.trigger(this._element,this.constructor.eventName("hidden")),this._disposePopper())}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Ji,en),t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(Ji),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Qi({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ji)}_isShown(){return this.tip&&this.tip.classList.contains(en)}_createPopper(e){const t="function"==typeof this._config.placement?this._config.placement.call(this,e,this._element):this._config.placement,i=rn[t.toUpperCase()];return Le(this._element,e,this._getPopperConfig(i))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return"function"==typeof e?e.call(this._element):e}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)ht.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>this.toggle(e)));else if("manual"!==t){const e=t===sn?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=t===sn?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");ht.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?on:sn]=!0,t._enter()})),ht.on(this._element,i,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?on:sn]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},ht.on(this._element.closest(tn),nn,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const e=this._config.originalTitle;e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=bt.getDataAttributes(this._element);for(const e of Object.keys(t))Zi.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:$e(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e.originalTitle=this._element.getAttribute("title")||"","number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const t in this._config)this.constructor.Default[t]!==this._config[t]&&(e[t]=this._config[t]);return e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(e){return this.each((function(){const t=cn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ke(cn);const dn={...cn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},un={...cn.DefaultType,content:"(null|string|element|function)"};class hn extends cn{static get Default(){return dn}static get DefaultType(){return un}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=hn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ke(hn);const pn="click.bs.scrollspy",fn="active",mn="[href]",gn={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null},_n={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element"};class bn extends yt{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return gn}static get DefaultType(){return _n}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=$e(e.target)||document.body,e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ht.off(this._config.target,pn),ht.on(this._config.target,pn,mn,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const i=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:n,behavior:"smooth"});i.scrollTop=n}})))}_getNewObserver(){const e={root:this._rootElement,threshold:[.1,.5,1],rootMargin:this._getRootMargin()};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),i=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,s=n>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=n;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&e){if(i(o),!n)return}else s||e||i(o)}}_getRootMargin(){return this._config.offset?`${this._config.offset}px 0px -30%`:this._config.rootMargin}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=At.find(mn,this._config.target);for(const t of e){if(!t.hash||He(t))continue;const e=At.findOne(t.hash,this._element);je(e)&&(this._targetLinks.set(t.hash,t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(fn),this._activateParents(e),ht.trigger(this._element,"activate.bs.scrollspy",{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))At.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(fn);else for(const t of At.parents(e,".nav, .list-group"))for(const e of At.prev(t,".nav-link, .nav-item > .nav-link, .list-group-item"))e.classList.add(fn)}_clearActiveClass(e){e.classList.remove(fn);const t=At.find("[href].active",e);for(const e of t)e.classList.remove(fn)}static jQueryInterface(e){return this.each((function(){const t=bn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ht.on(window,"load.bs.scrollspy.data-api",(()=>{for(const e of At.find('[data-bs-spy="scroll"]'))bn.getOrCreateInstance(e)})),Ke(bn);const vn="ArrowLeft",yn="ArrowRight",wn="ArrowUp",Tn="ArrowDown",En="active",In="fade",An="show",Cn='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',On=`.nav-link:not(.dropdown-toggle), .list-group-item:not(.dropdown-toggle), [role="tab"]:not(.dropdown-toggle), ${Cn}`;class Pn extends yt{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ht.on(this._element,"keydown.bs.tab",(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),i=t?ht.trigger(t,"hide.bs.tab",{relatedTarget:e}):null;ht.trigger(e,"show.bs.tab",{relatedTarget:t}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(En),this._activate(De(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),ht.trigger(e,"shown.bs.tab",{relatedTarget:t})):e.classList.add(An)}),e,e.classList.contains(In)))}_deactivate(e,t){e&&(e.classList.remove(En),e.blur(),this._deactivate(De(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),ht.trigger(e,"hidden.bs.tab",{relatedTarget:t})):e.classList.remove(An)}),e,e.classList.contains(In)))}_keydown(e){if(![vn,yn,wn,Tn].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[yn,Tn].includes(e.key),i=Xe(this._getChildren().filter((e=>!He(e))),e.target,t,!0);i&&Pn.getOrCreateInstance(i).show()}_getChildren(){return At.find(On,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),i=this._getOuterElement(e);e.setAttribute("aria-selected",t),i!==e&&this._setAttributeIfNotExists(i,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=De(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`#${e.id}`))}_toggleDropDown(e,t){const i=this._getOuterElement(e);if(!i.classList.contains("dropdown"))return;const n=(e,n)=>{const s=At.findOne(e,i);s&&s.classList.toggle(n,t)};n(".dropdown-toggle",En),n(".dropdown-menu",An),n(".dropdown-item",En),i.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,i){e.hasAttribute(t)||e.setAttribute(t,i)}_elemIsActive(e){return e.classList.contains(En)}_getInnerElement(e){return e.matches(On)?e:At.findOne(On,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Pn.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}ht.on(document,"click.bs.tab",Cn,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),He(this)||Pn.getOrCreateInstance(this).show()})),ht.on(window,"load.bs.tab",(()=>{for(const e of At.find('.active[data-bs-toggle="tab"], .active[data-bs-toggle="pill"], .active[data-bs-toggle="list"]'))Pn.getOrCreateInstance(e)})),Ke(Pn);const xn="hide",Ln="show",kn="showing",Nn={animation:"boolean",autohide:"boolean",delay:"number"},Sn={animation:!0,autohide:!0,delay:5e3};class Fn extends yt{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Sn}static get DefaultType(){return Nn}static get NAME(){return"toast"}show(){ht.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(xn),Ve(this._element),this._element.classList.add(Ln,kn),this._queueCallback((()=>{this._element.classList.remove(kn),ht.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(ht.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(kn),this._queueCallback((()=>{this._element.classList.add(xn),this._element.classList.remove(kn,Ln),ht.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ln),super.dispose()}isShown(){return this._element.classList.contains(Ln)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=e.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){ht.on(this._element,"mouseover.bs.toast",(e=>this._onInteraction(e,!0))),ht.on(this._element,"mouseout.bs.toast",(e=>this._onInteraction(e,!1))),ht.on(this._element,"focusin.bs.toast",(e=>this._onInteraction(e,!0))),ht.on(this._element,"focusout.bs.toast",(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Fn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}wt(Fn),Ke(Fn)},9:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateRangeValText=t.setErrorMessage=t.createPresetFormField=t.creteEnumPresetFormField=t.createRangePresetFormField=t.creteBoolPresetFormField=void 0;const n=i(154),s=i(48),o=i(435),r=i(277);function a(e,t,i=!1){return`<div class="form-check form-switch">\n<input class="form-check-input" type="checkbox" value="${e}" id="presetInput${t}" ${l(i)}></div>`}function l(e){return e?"disabled":""}function c(e,t,i,r=!1){if(e.type!==n.PresetFieldType.RANGE||void 0===e.options)return;const a=e.options;void 0===i?i=50:a.type===n.SliderType.LOGARITHMIC&&(i=(0,s.posFromLogarithmicValue)(i,a.low,a.high));let c="",d="";switch(a.type){case n.SliderType.LINEAR:c=(0,o.formatSIUnitNumber)(i,2,a.unit),d=`min=${a.low} max=${a.high}`;break;case n.SliderType.LOGARITHMIC:c=(0,o.formatSIUnitNumber)((0,s.logarithmicValueFromPos)(i,a.low,a.high),2,a.unit),d="min=0 max=100"}return`\n<div class="row form-text">\n<div class="col-4">Restrictive</div>\n<div class="col-4 text-center" id="rangeVal${t}">${c}</div>\n<div class="col-4 text-end">Permissive</div>\n</div>\n<input class="form-range" type="range" value="${i}" id="presetInput${t}" ${d} step=1 ${l(r)}\nonChange="ExaFS.updateRangeValText(this, ${t}, ${a.low}, ${a.high}, ${a.type}, '${a.unit}')" name="ddp_${e.name}"\nonInput="ExaFS.updateRangeValText(this, ${t}, ${a.low}, ${a.high}, ${a.type}, '${a.unit}')">`}function d(e,t,i,s=!1){if(e.type!==n.PresetFieldType.ENUM||void 0===e.options)return;let o=e.options,r="";if(o.multi){const n=null==i?void 0:i.split(",");for(const i of o.values)r+=`<div class="form-check form-check-inline">\n                      <input class="form-check-input" \n                          type="checkbox" \n                          name="ddp_${e.name}"\n                          id="${i}Check${t}" \n                          value="${i}"\n                          ${l(s)}\n                          ${(null==n?void 0:n.includes(i))?'checked="checked"':""}>\n                      <label class="form-check-label" for="${i}Check${t}">${i}</label>\n                    </div>`;return`<div class="form-check form-check-inline" id="presetInput${t}">${r}</div>`}for(const e of o.values)r+=`<option value=${e} ${e===i?"selected":""}>${e}</option>`;return`<select class="form-select" id="presetInput${t}" ${l(s)} name="ddp_${e.name}">${r}</select>`}t.creteBoolPresetFormField=a,t.createRangePresetFormField=c,t.creteEnumPresetFormField=d,t.createPresetFormField=function(e,t,i,s=!1){let o='<div class="fade-in-fwd">';void 0===i&&(i=e.defaultValue);const r=e.validators?`onInput="ExaFS.validateField('${e.name}', this, ${t})"`:"";switch(e.type){case n.PresetFieldType.TEXT:o+=`<input class="form-control" ${r} name="ddp_${e.name}" type="text" value="${i}" id="presetInput${t}" ${l(s)}>`;break;case n.PresetFieldType.NUMBER:o+=`<input class="form-control" ${r} type="number" name="ddp_${e.name}" value="${i}" id="presetInput${t}" ${l(s)}>`;break;case n.PresetFieldType.RANGE:o+=c(e,t,i,s);break;case n.PresetFieldType.BOOL:o+=a(i,t,s);break;case n.PresetFieldType.ENUM:o+=d(e,t,i,s)}return o+=`<p class="form-text text-danger" id="form-value-error-msg${t}"></p>`,e.description&&(o+=`<div class="form-text">${e.description}</div>`),o+="</div>",o},t.setErrorMessage=function(e,t){const i=document.getElementById("form-value-error-msg"+e);i&&(i.innerHTML=t)},t.updateRangeValText=function(e,t,i,a,l,c=""){const d=document.getElementById("rangeVal"+t);d&&(l===n.SliderType.LINEAR?d.innerText=(0,o.formatSIUnitNumber)(e.valueAsNumber,2,c):l===n.SliderType.LOGARITHMIC&&(d.innerText=(0,o.formatSIUnitNumber)((0,s.logarithmicValueFromPos)(e.valueAsNumber,i,a),2,c)),(0,r.validateField)(e.name.slice(4),e,t))}},300:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DDPPresetEditForm=void 0;const n=i(154),s=i(9),o=i(505),r=i(48),a=i(562);class l{constructor(e,t,i,s){this.changes=!1,this._maxId=0,this._ruleType=n.DDPRuleType.FILTER,this._activeFields=[],this._availableFields=[],this.containerId=e,this.ruleTypeSelect=document.getElementById(t),this.presetNameInput=document.getElementById(i),this.varName=s,this.onRuleTypeChange()}initFromPreset(e){this.ruleTypeSelect.value=e.fields.rule_type,this.onRuleTypeChange(),Object.entries(e.fields).forEach((([t,i],n)=>{if("rule_type"!==t){const n=this.addField(t,i);-1!==n&&(document.getElementById(`userEditable${n}`).checked=e.editable.includes(t))}})),this.checkFieldRequirements()}addField(e,t){let i=Object.assign({},(0,n.getPresetField)(e));if(i){this.changes=!0;const n=(0,s.createPresetFormField)(i,this._maxId,t,!1),r=this._wrapField(n,this._maxId,e);return i.formId=this._maxId,this._activeFields.push(i),this._maxId++,(0,o.createChild)(r,this.containerId),this.checkForDuplicates(i.formId,e),i.formId}return-1}removeField(e){var t;const i=document.getElementById(`fieldContainer${e}`);if(i){this.changes=!0,null===(t=i.parentElement)||void 0===t||t.removeChild(i);const n=this._activeFields.findIndex((t=>t.formId===e));-1!==n&&(this._clearInvalidDuplicateWarnings(e,this._activeFields[n].name),this._activeFields.splice(n,1))}}updatePresetInputField(e,t){const i=this._getFieldIndexById(t),o=this._activeFields[i].name,r=Object.assign({},(0,n.getPresetField)(e.value)),a=document.getElementById(`fieldValueContainer${t}`);this._removeInvalidSelectOptions(e,t),this._clearInvalidDuplicateWarnings(t,o),r?(this.changes=!0,r.formId=t,a&&(a.innerHTML=(0,s.createPresetFormField)(r,t)),-1!==i&&(this._activeFields[i]=r),this.checkForDuplicates(t,e.value)):a&&(a.innerHTML='<p class="text-danger">Invalid rule field name!</p>')}save(e,t,i,n){if(this.checkFieldRequirements(),l._formHasErrors())return void alert("Preset has errors! Fix them before saving.");this.changes=!1;let s=new FormData;const o=this._getPresetName();if(null===o)return;s.append("name",o),s.append("rule_type",this._ruleType.toString()),s.append("csrf_token",e);const r=this._collectFormData(s);s.append("editable",r);let c="",d=null;n&&(d=document.getElementById(n)),d&&(c=d.innerHTML,d.setAttribute("disabled",""),d.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Saving...'),(0,a.sendFormDataToBackend)(s,t,a.HTTP_METHOD.POST).then((e=>{this._handleSaveResponse(e,i,d)})).catch((e=>{console.error(e),d&&(d.innerHTML=c,d.removeAttribute("disabled")),alert("Could not save preset: "+e)}))}onRuleTypeChange(){this._ruleType=this.ruleTypeSelect.value,this._availableFields=(0,n.getPresetFieldsByRuleType)(this._ruleType),this._rebuildAttributeSelectDropdowns()}onPresetNameChange(){const e=document.getElementById("presetNameError");this.changes=!0,""!==this.presetNameInput.value?(e&&(e.innerText=""),this.presetNameInput.classList.remove("is-invalid")):(e&&(e.innerText="Preset name is required"),this.presetNameInput.classList.add("is-invalid"))}setKeyErrorMessage(e,t){const i=document.getElementById("form-error-msg"+e),n=document.getElementById("fieldSelect"+e);i&&n&&(i.innerText=t,""==t?n.classList.remove("is-invalid"):n.classList.add("is-invalid"))}checkForDuplicates(e,t){const i=this._findDuplicateKeys(e,t);if(i.length>0){for(const e of i)void 0!==e.formId&&this._setFieldAsDuplicate(e.formId);this._setFieldAsDuplicate(e)}}checkFieldRequirements(){for(const e of this._activeFields)if(e.requires_fields&&void 0!==e.formId){const t=this._findUnsatisfiedRequirements(e);if(0!==t.length){let i="";for(let e of t)i+=", "+e;i=i.slice(2),this.setKeyErrorMessage(e.formId,"Requirements not satisfied: "+i)}else this.setKeyErrorMessage(e.formId,"")}}_rebuildAttributeSelectDropdowns(){for(let e=0;e<this._maxId;e++){const t=document.getElementById("fieldSelect"+e);if(t){t.classList.remove("is-invalid");let i="";this._fieldExistsInCache(t)?this.setKeyErrorMessage(e,""):(i=`<option value=${t.value} selected invalid>${t.options[t.selectedIndex].text}</option>`,t.classList.add("is-invalid"),this.setKeyErrorMessage(e,"Invalid field for selected rule type")),t.innerHTML=this._createFieldSelectionDropdownOptions(t.value)+i}}}_fieldExistsInCache(e){return!!this._availableFields.find((t=>t.name===e.value))}_wrapField(e,t,i){return`<div id="fieldContainer${t}">\n        <hr class="d-md-none my-2">\n        <div class="row my-3 fade-in-fwd">\n            <div class="col-sm-12 col-md-4 my-1">\n            <select class="form-select" id="fieldSelect${t}" onChange="${this.varName}.updatePresetInputField(this, ${t})">\n                ${this._createFieldSelectionDropdownOptions(i)}\n        </select>\n        <p class="form-text text-danger" id="form-error-msg${t}"></p>\n        </div>\n        <div class="col-sm-12 col-md-4 my-1" id="fieldValueContainer${t}">\n            ${e}\n        </div>\n        <div class="col-sm-12 col-md-4 my-1">\n        <div class="form-check form-switch form-check-inline">\n          <input class="form-check-input" type="checkbox" id="userEditable${t}">\n          <label class="form-check-label" for="userEditable${t}">User can edit</label>\n        </div>\n        <button class="btn btn-outline-danger mx-2" role="button" onclick="${this.varName}.removeField(${t})" title="Remove line"><i class="bi bi-x-lg"></i></button>\n        </div>\n        </div>\n        </div>`}_createFieldSelectionDropdownOptions(e){let t="";for(const i of this._availableFields)t+=`<option value="${i.name}" ${i.name===e?"selected":""}>${i.printName}</option>`;return t}_getPresetName(){if(!this.presetNameInput)return null;if(!this.presetNameInput.value||""===this.presetNameInput.value){window.scrollTo({top:0,behavior:"smooth"}),this.presetNameInput.classList.add("is-invalid"),this.presetNameInput.focus();const e=document.getElementById("presetNameError");return e&&(e.innerText="Preset name is required."),null}return this.presetNameInput.value}_getFieldIndexById(e){return this._activeFields.findIndex((t=>t.formId===e))}_removeInvalidSelectOptions(e,t){let i=e.children;for(let t=0;t<i.length;t++)i[t].hasAttribute("invalid")&&e.removeChild(i[t]);this.setKeyErrorMessage(t,""),e.classList.remove("is-invalid")}_findDuplicateKeys(e,t){return this._activeFields.filter((i=>i.name===t&&i.formId!==e))}_setFieldAsDuplicate(e){const t=document.getElementById("fieldSelect"+e);null==t||t.classList.add("is-invalid"),this.setKeyErrorMessage(e,"Duplicate rule field")}_clearInvalidDuplicateWarnings(e,t){const i=this._findDuplicateKeys(e,t);if(1===i.length&&void 0!==i[0].formId){const e=document.getElementById("fieldSelect"+i[0].formId);null==e||e.classList.remove("is-invalid"),this.setKeyErrorMessage(i[0].formId,"")}}_findUnsatisfiedRequirements(e){let t=[];const i=document.getElementById("presetInput"+(null==e?void 0:e.formId));if(e.requires_fields)for(const s of e.requires_fields)if(s.rule_types.includes(this._ruleType)){const e=this._activeFields.findIndex((e=>e.name==s.name));if(-1==e)s.relationship==n.PresetFieldRequirementRelationship.IsSet&&t.push(s.name+" has to be set");else{const n=document.getElementById("presetInput"+this._activeFields[e].formId);if(n&&i){const e=l._handleRequirement(n,s,i);null!==e&&t.push(e)}}}return t}static _handleRequirement(e,t,i){const s=e.value;switch(t.relationship){case n.PresetFieldRequirementRelationship.IsNotSet:return t.name+" can not be set with this field";case n.PresetFieldRequirementRelationship.IsGreater:if(s<=i.value)return t.name+" has to be greater than this field";break;case n.PresetFieldRequirementRelationship.IsLower:if(s>=i.value)return t.name+" has to be lower than this field";break;case n.PresetFieldRequirementRelationship.IsGreaterOrEqual:if(s<i.value)return t.name+" has to be greater or equal to this field";break;case n.PresetFieldRequirementRelationship.IsLowerOrEqual:if(s>i.value)return t.name+" has to be lower or equal to this field";break;case n.PresetFieldRequirementRelationship.IsEqual:if(s!=i.value)return t.name+" has to be equal to this field";break;case n.PresetFieldRequirementRelationship.IsNotEqual:if(s==i.value)return t.name+" has to be different from this field"}return null}static _formHasErrors(){return document.querySelectorAll(".is-invalid").length>0}_collectFormData(e){let t="";for(let i of this._activeFields){const s=document.getElementById(`presetInput${i.formId}`),o=document.getElementById(`fieldSelect${i.formId}`),a=document.getElementById(`userEditable${i.formId}`);if(s&&o&&a)if(a.checked&&(t+=o.value+";"),s.hasChildNodes()&&"select"!==s.tagName.toLowerCase())e.append(o.value,l._checkboxesToStr(s));else{let t=s;if(i.type===n.PresetFieldType.RANGE&&i.options){const s=i.options;let a=t.valueAsNumber;s.type===n.SliderType.LOGARITHMIC&&(a=(0,r.logarithmicValueFromPos)(t.valueAsNumber,s.low,s.high)),e.append(o.value,a.toString())}else e.append(o.value,t.value.toString())}}return t}static _checkboxesToStr(e){let t="";for(let i of e.children)for(let e of i.children)if("input"===e.tagName.toLowerCase()&&"checkbox"===e.getAttribute("type")){const i=e;i.checked&&(t+=i.value+",")}return t}_handleSaveResponse(e,t,i){200==e.status||201==e.status?(i&&(i.innerHTML="Saved",i.removeAttribute("disabled")),window.location.href=t):e.text().then((t=>{alert("Server returned error status "+e.status+". Check the console for more details"),console.error(t),i&&(i.innerHTML="Errored",i.removeAttribute("disabled"))}))}}t.DDPPresetEditForm=l},557:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.changeAdvancedOptionsText=t.beforeIPFormSend=t.DDPPresetSelectForm=void 0;const n=i(154),s=i(505),o=i(9),r=i(48);class a{constructor(e){this.parentId=e}setPreset(e,t){this._preset=e,this.renderForm(t)}renderForm(e){if((0,s.clearAllChildren)(this.parentId),this._preset){const t=this._presetToHtml(e);(0,s.createChild)(t,this.parentId)}}_presetToHtml(e){if(!this._preset)return"";const t={defaultValue:this._preset.fields.rule_type,name:"rule_type",printName:"Rule type",type:n.PresetFieldType.TEXT,rule_types:[n.DDPRuleType.AMPLIFICATION,n.DDPRuleType.FILTER,n.DDPRuleType.SYN_DROP,n.DDPRuleType.TCP_AUTHENTICATOR]},i=(0,o.createPresetFormField)(t,0,this._preset.fields.rule_type,!0);let s=a._wrapField(i,0,t.printName),r=1;return Object.entries(this._preset.fields).forEach((([t,i],l)=>{if("rule_type"!==t&&void 0!==this._preset){let l=Object.assign({},(0,n.getPresetField)(t));e&&"ddp_"+t in e&&(i=e["ddp_"+t]);const c=(0,o.createPresetFormField)(l,r,i,!a._isEditable(t,this._preset.editable));s+="\n"+a._wrapField(c,r,l.printName),r++}})),s+='<hr class="my-2>',s}static _wrapField(e,t,i){return`\n    <div class="row">\n        <div class="my-3 col-md-6 col-sm-12 px-3">\n            <label for="presetInput${t}" class="form-label">${i}</label>\n                ${e}\n            <p class="form-text text-danger" id="form-error-msg${t}"></p>\n        </div>\n    </div>`}static _isEditable(e,t){return t.includes(e)}}t.DDPPresetSelectForm=a,t.beforeIPFormSend=function(e){const t=new FormData(e);if("4"!==t.get("action"))return!0;const i=(0,n.getFieldsByType)(n.PresetFieldType.RANGE);for(const o of i){const i=t.get("ddp_"+o.name);if(null!==i){const t=o.options,a=document.querySelector(`[name="${"ddp_"+o.name}"]`);if(a&&(0,s.removeElement)(a),t.type===n.SliderType.LOGARITHMIC){const n=`<input type="hidden" value="${(0,r.logarithmicValueFromPos)(+i,t.low,t.high)}" name="${"ddp_"+o.name}">`;(0,s.attachHtmlToRef)((0,s.stringToHtml)(n),e)}else{const t=`<input type="hidden" value="${i}" name="${"ddp_"+o.name}">`;(0,s.attachHtmlToRef)((0,s.stringToHtml)(t),e)}}}return!0},t.changeAdvancedOptionsText=function(e,t){const i=document.getElementById(e);i&&(i.innerHTML=t?'Hide advanced options <i class="bi bi-caret-up-fill"></i>':'Show advanced options <i class="bi bi-caret-down-fill"></i>')}},154:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldsByType=t.showPresetModal=t.getValidatorsByAttribute=t.getPresetFieldsByRuleType=t.getPresetField=t.AVAILABLE_PRESET_FIELDS=t.PresetFieldRequirementRelationship=t.PresetFieldType=t.DDPRuleType=t.SliderType=void 0;const n=i(277),s=i(435),o=i(169);var r,a,l,c;function d(e){return t.AVAILABLE_PRESET_FIELDS.find((t=>t.name===e))}!function(e){e[e.LINEAR=0]="LINEAR",e[e.LOGARITHMIC=1]="LOGARITHMIC"}(r=t.SliderType||(t.SliderType={})),function(e){e.AMPLIFICATION="amplification",e.SYN_DROP="syn_drop",e.FILTER="filter",e.TCP_AUTHENTICATOR="tcp_authenticator"}(a=t.DDPRuleType||(t.DDPRuleType={})),function(e){e.TEXT="text",e.NUMBER="number",e.RANGE="range",e.BOOL="bool",e.ENUM="enum"}(l=t.PresetFieldType||(t.PresetFieldType={})),function(e){e[e.IsSet=0]="IsSet",e[e.IsNotSet=1]="IsNotSet",e[e.IsGreater=2]="IsGreater",e[e.IsLower=3]="IsLower",e[e.IsGreaterOrEqual=4]="IsGreaterOrEqual",e[e.IsLowerOrEqual=5]="IsLowerOrEqual",e[e.IsEqual=6]="IsEqual",e[e.IsNotEqual=7]="IsNotEqual"}(c=t.PresetFieldRequirementRelationship||(t.PresetFieldRequirementRelationship={})),t.AVAILABLE_PRESET_FIELDS=[{name:"threshold_bps",printName:"Threshold [bits/s]",type:l.RANGE,defaultValue:0,description:"Activate rule when traffic reaches the given threshold defined by bits per second. Bits per second are calculated on L2 without Ethernet FCS field (4B).",options:{low:1e8,high:1e11,unit:"b/s",type:r.LOGARITHMIC},rule_types:[a.AMPLIFICATION,a.FILTER,a.SYN_DROP,a.TCP_AUTHENTICATOR],requires_fields:[{name:"limit_bps",relationship:c.IsLowerOrEqual,rule_types:[a.AMPLIFICATION]},{name:"limit_bps",relationship:c.IsSet,rule_types:[a.AMPLIFICATION]}]},{name:"threshold_pps",printName:"Threshold [packets/s]",type:l.RANGE,defaultValue:0,description:"Activate rule when traffic reaches the given threshold defined by packets per second.",options:{low:1e4,high:1e9,unit:" packet/s",type:r.LOGARITHMIC},rule_types:[a.AMPLIFICATION,a.FILTER,a.SYN_DROP,a.TCP_AUTHENTICATOR],requires_fields:[{name:"limit_pps",relationship:c.IsLowerOrEqual,rule_types:[a.AMPLIFICATION]},{name:"limit_pps",relationship:c.IsSet,rule_types:[a.AMPLIFICATION]}]},{name:"protocol",printName:"Protocol",type:l.ENUM,defaultValue:"",description:"List of L4 protocols. If not set, apply to all.",rule_types:[a.FILTER,a.AMPLIFICATION],options:{values:["TCP","UDP","ICMP","SCTP"],multi:!0}},{name:"tcp_flags",printName:"TCP Flags",type:l.TEXT,defaultValue:"",description:"List of TCP flags combinations. Combinations can be created using following values:<ul><li>C: Congestion window reduced,</li><li>E: ECN-Echo,</li><li>U: Urgent,</li><li>A: Acknowledge,</li><li>P: Push,</li><li>R: Reset,</li><li>S: Synchronize,</li><li>F: Finalize.</li></ul>Using these a packet is accepted only if the corresponding flag is set. If a letter is negated using ! a packet is accepted only if the corresponding flag is not set. Otherwise a value of a flag does not matter.<br>Example for SYN and SYN+ACK packets only: !C!E!U!P!RS!F",rule_types:[a.AMPLIFICATION],validators:[new n.RegexPatternValidator(/^(?!.*?([CEUAPRSF]).*\1)(!?[CEUAPRSF]){1,8}$/gm,"TCP Flags","value can only contain letters C, E, U, A, P, R, S and F, optionally prefixed by exclamation mark (!C), each letter only once. Check the description for an example.")]},{name:"vlan",printName:"VLAN ID",type:l.NUMBER,defaultValue:0,description:"VLAN ID. If zero, match only packets without VLAN ID.",rule_types:[a.AMPLIFICATION,a.FILTER,a.SYN_DROP,a.TCP_AUTHENTICATOR]},{name:"threshold_syn_soft",printName:"Soft SYN threshold",type:l.RANGE,defaultValue:5,description:"Number of SYN-only packets (per client) that are allowed without receiving any ACK-only packet.",options:{low:2,high:10,unit:"packets",type:r.LINEAR},rule_types:[a.SYN_DROP]},{name:"threshold_syn_hard",printName:"Hard SYN threshold",type:l.RANGE,defaultValue:20,description:"Number of packets (per client) after which all consequent SYN-only packets are dropped regardless of received ACK packets.",options:{low:2,high:100,unit:"packets",type:r.LINEAR},rule_types:[a.SYN_DROP,a.TCP_AUTHENTICATOR]},{name:"limit_bps",printName:"Limit [bits/s]",defaultValue:0,description:"Traffic volume defined as bits per second. Defines how much traffic will be allowed to the protected network during an attack. Traffic from N biggest contributors is blocked until traffic volume is limited to or below this target value. Bits per second are calculated on L2 without Ethernet FCS field (4B). A limit value has to be lower or equal to corresponding threshold value.",rule_types:[a.AMPLIFICATION],type:l.RANGE,options:{low:1e8,high:1e11,unit:"b/s",type:r.LOGARITHMIC},validators:[new n.NonZeroValidator],requires_fields:[{name:"threshold_bps",relationship:c.IsGreaterOrEqual,rule_types:[a.AMPLIFICATION]},{name:"threshold_bps",relationship:c.IsSet,rule_types:[a.AMPLIFICATION]}]},{name:"limit_pps",printName:"Limit [packets/s]",defaultValue:1e6,description:"Traffic volume amount defined as packets per second. Says how much traffic will be limited during an attack. N biggest contributors are blocked until traffic volume is limited to this value.",rule_types:[a.AMPLIFICATION],type:l.RANGE,options:{low:1e4,high:1e9,unit:" packet/s",type:r.LOGARITHMIC},validators:[new n.NonZeroValidator],requires_fields:[{name:"threshold_pps",relationship:c.IsGreaterOrEqual,rule_types:[a.AMPLIFICATION]},{name:"threshold_pps",relationship:c.IsSet,rule_types:[a.AMPLIFICATION]}]},{name:"fragmentation",printName:"Fragmentation",type:l.ENUM,defaultValue:"ANY",description:"Specification of packets from the fragmentation point of view.",rule_types:[a.AMPLIFICATION],options:{values:["ANY","NO","YES","FIRST","LAST","MIDDLE","NOFIRST"],multi:!1}},{name:"packet_lengths",printName:"Packet lengths [B]",defaultValue:"",description:"List of packet lengths and packet lengths ranges. Only packets of matching length are considered. If empty, packets of any length are considered. L2 packet length without FCS field (4B) is considered. Possible values: x;&gt;x;x-y;&lt;x;&lt;=x;&gt;=x",type:l.TEXT,rule_types:[a.AMPLIFICATION]},{name:"validity_timeout",printName:"Validity timeout",rule_types:[a.TCP_AUTHENTICATOR],type:l.RANGE,defaultValue:1,description:"Maximum validity interval of host (i.e. source IP address) authentication. If a host tries to establish another TCP connection after the timeout has elapsed, it must be authenticated again.",options:{low:1,high:600,unit:"s",type:r.LINEAR}},{name:"algorithm_type",printName:"Algorithm type",type:l.ENUM,defaultValue:"RST_COOKIES",description:"Type of algorithm to be used for mitigation:<ul><li>RST_COOKIES: Reset Cookies algorithm,</li><li>SYN_AUTH: SYN Authentication algorith</li></ul>",rule_types:[a.TCP_AUTHENTICATOR],options:{values:["RST_COOKIES","SYN_AUTH"],multi:!1}},{name:"table_exponent",printName:"Table exponent",type:l.NUMBER,defaultValue:18,description:"Size exponent (i.e. 2^x) of the record table. It corresponds to maximum number of unique source IP addresses.",rule_types:[a.SYN_DROP,a.AMPLIFICATION,a.TCP_AUTHENTICATOR],validators:[new n.NumberRangeValidator(10,30)]}],t.getPresetField=d,t.getPresetFieldsByRuleType=function(e){return t.AVAILABLE_PRESET_FIELDS.filter((t=>{var i;return null===(i=t.rule_types)||void 0===i?void 0:i.includes(e)}))},t.getValidatorsByAttribute=function(e){const t=d(e);return t&&t.validators?t.validators:[]},t.showPresetModal=function(e,t,i){const n=document.getElementById("presetDetailTitle"),r=document.getElementById("presetDetailBody"),a=document.getElementById("presetDetailModal");if(n&&r&&a){n.innerHTML=e,r.innerHTML="";for(let e in t){let n=r.insertRow(r.rows.length),o=n.insertCell(),a=n.insertCell(),l=n.insertCell();o.innerHTML=e,"number"==typeof t[e]?a.innerHTML=(0,s.formatSIUnitNumber)(t[e],2,""):a.innerHTML=t[e].toString(),l.innerHTML=i.includes(e)?"Yes":"No"}new o.Modal(a,{backdrop:!0,keyboard:!0}).show()}},t.getFieldsByType=function(e){return t.AVAILABLE_PRESET_FIELDS.filter((t=>t.type===e))}},277:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateField=t.NonZeroValidator=t.RegexPatternValidator=t.NumberRangeValidator=void 0;const n=i(154),s=i(9);t.NumberRangeValidator=class{constructor(e,t){this.options={min:e,max:t}}validate(e){let t=!0;return void 0!==this.options.min&&e<=this.options.min&&(t=!1),void 0!==this.options.max&&e>=this.options.max&&(t=!1),t}invalidMessage(){return`Value has to be in range ${this.options.min} - ${this.options.max}`}},t.RegexPatternValidator=class{constructor(e,t,i){this.options={regex:e,name:t,hint:i}}validate(e){return new RegExp(this.options.regex).test(e)}invalidMessage(){let e="Invalid format";return this.options.name&&(e+=" for "+this.options.name),this.options.hint&&(e+=" - "+this.options.hint),e}},t.NonZeroValidator=class{validate(e){return 0!=+e}invalidMessage(){return"This field can not be zero."}},t.validateField=function(e,t,i){const o=(0,n.getValidatorsByAttribute)(e);if(o.length>0){let e="",n=!0;for(let i of o)i.validate(t.value)||(n=!1,e+=i.invalidMessage()+"<br>");(0,s.setErrorMessage)(i,e),n?t.classList.remove("is-invalid"):t.classList.add("is-invalid")}}},330:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fillOrganization=t.switchFocusOnKeypress=t.showFieldIf=void 0;const n=i(169);t.showFieldIf=function(e,t,i){const n=document.getElementById(i);e!=t?null==n||n.classList.add("d-none"):null==n||n.classList.remove("d-none")},t.switchFocusOnKeypress=function(e,t,i){if(e.key==t){e.preventDefault();const t=document.getElementById(i);t&&t.focus()}},t.fillOrganization=function(e,t){const i=document.getElementById("orgSelectModal");if(!i)return;const s=new n.Modal(i,{backdrop:!0});s.show();const o=document.getElementById("fill-org-btn");o&&(o.onclick=function(){!function(e,t){const i=document.getElementById("orgSelect");if(!i)return;const n=i.value.split("/");e&&(e.value=n[0]),t&&(t.value=n[1])}(document.getElementById(e),document.getElementById(t)),s.hide()})}},562:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.sendFormDataToBackend=t.HTTP_METHOD=void 0,(i=t.HTTP_METHOD||(t.HTTP_METHOD={})).GET="GET",i.POST="POST",i.PUT="PUT",i.DELETE="DELETE",i.PATCH="PATCH",t.sendFormDataToBackend=function(e,t,i){const n={method:i.toString(),body:e};return fetch(t,n)}},48:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.posFromLogarithmicValue=t.logarithmicValueFromPos=void 0,t.logarithmicValueFromPos=function(e,t,i){if(e<=0)return 0;const n=Math.log(Math.max(t,1)),s=(Math.log(i)-n)/100;return Math.round(Math.exp(e*s+n))},t.posFromLogarithmicValue=function(e,t,i){if(e<=0)return 0;const n=Math.log(Math.max(t,1)),s=(Math.log(i)-n)/100;return Math.round((Math.log(e)-n)/s)}},505:(e,t)=>{function i(e){return(new DOMParser).parseFromString(e,"text/html").body.children}function n(e,t){if(e instanceof HTMLElement)t.appendChild(e);else if(e instanceof HTMLCollection){let i=Array.from(e);for(let e=0;e<i.length;e++){const n=i[e];t.appendChild(n)}}}function s(e,t){const i=document.getElementById(t);i&&n(e,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeElement=t.clearAllChildren=t.createChild=t.attachHtmlTo=t.attachHtmlToRef=t.stringToHtml=void 0,t.stringToHtml=i,t.attachHtmlToRef=n,t.attachHtmlTo=s,t.createChild=function(e,t){s(i(e),t)},t.clearAllChildren=function(e){const t=document.getElementById(e);t&&(t.innerHTML="")},t.removeElement=function(e){var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}},435:(e,t)=>{function i(e,t){const i=Math.pow(10,t||0);return Math.round(e*i)/i}Object.defineProperty(t,"__esModule",{value:!0}),t.formatSIUnitNumber=void 0,t.formatSIUnitNumber=function(e,t,n=""){return e>=1e12?i(e/1e12,t).toString()+" T"+n:e>=1e9?i(e/1e9,t).toString()+" G"+n:e>=1e6?i(e/1e6,t).toString()+" M"+n:e>=1e3?i(e/1e3,t).toString()+" k"+n:i(e,t).toString()+" "+n}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.fillOrganization=e.switchFocusOnKeypress=e.showFieldIf=e.updateRangeValText=e.validateField=e.beforeIPFormSend=e.changeAdvancedOptionsText=e.DDPPresetSelectForm=e.DDPPresetEditForm=e.showPresetModal=void 0;const t=i(169);window.onload=function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new t.Tooltip(e)}))};var s=i(154);Object.defineProperty(e,"showPresetModal",{enumerable:!0,get:function(){return s.showPresetModal}});var o=i(300);Object.defineProperty(e,"DDPPresetEditForm",{enumerable:!0,get:function(){return o.DDPPresetEditForm}});var r=i(557);Object.defineProperty(e,"DDPPresetSelectForm",{enumerable:!0,get:function(){return r.DDPPresetSelectForm}}),Object.defineProperty(e,"changeAdvancedOptionsText",{enumerable:!0,get:function(){return r.changeAdvancedOptionsText}}),Object.defineProperty(e,"beforeIPFormSend",{enumerable:!0,get:function(){return r.beforeIPFormSend}});var a=i(277);Object.defineProperty(e,"validateField",{enumerable:!0,get:function(){return a.validateField}});var l=i(9);Object.defineProperty(e,"updateRangeValText",{enumerable:!0,get:function(){return l.updateRangeValText}});var c=i(330);Object.defineProperty(e,"showFieldIf",{enumerable:!0,get:function(){return c.showFieldIf}}),Object.defineProperty(e,"switchFocusOnKeypress",{enumerable:!0,get:function(){return c.switchFocusOnKeypress}}),Object.defineProperty(e,"fillOrganization",{enumerable:!0,get:function(){return c.fillOrganization}})})(),ExaFS=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhhZnMtYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7bzRCQUFPLElBQUksRUFBTSxNQUNOQSxFQUFTLFNBQ1RDLEVBQVEsUUFDUkMsRUFBTyxPQUNQQyxFQUFPLE9BQ1BDLEVBQWlCLENBQUMsRUFBS0osRUFBUUMsRUFBT0MsR0FDdENHLEVBQVEsUUFDUkMsRUFBTSxNQUNOQyxFQUFrQixrQkFDbEJDLEVBQVcsV0FDWEMsRUFBUyxTQUNUQyxFQUFZLFlBQ1pDLEVBQW1DUCxFQUFlUSxRQUFPLFNBQVVDLEVBQUtDLEdBQ2pGLE9BQU9ELEVBQUlFLE9BQU8sQ0FBQ0QsRUFBWSxJQUFNVCxFQUFPUyxFQUFZLElBQU1SLEdBQ2hFLEdBQUcsSUFDUSxFQUEwQixHQUFHUyxPQUFPWCxFQUFnQixDQUFDRCxJQUFPUyxRQUFPLFNBQVVDLEVBQUtDLEdBQzNGLE9BQU9ELEVBQUlFLE9BQU8sQ0FBQ0QsRUFBV0EsRUFBWSxJQUFNVCxFQUFPUyxFQUFZLElBQU1SLEdBQzNFLEdBQUcsSUFFUVUsRUFBYSxhQUNiQyxFQUFPLE9BQ1BDLEVBQVksWUFFWkMsRUFBYSxhQUNiQyxFQUFPLE9BQ1BDLEVBQVksWUFFWkMsRUFBYyxjQUNkQyxFQUFRLFFBQ1JDLEVBQWEsYUFDYkMsRUFBaUIsQ0FBQ1QsRUFBWUMsRUFBTUMsRUFBV0MsRUFBWUMsRUFBTUMsRUFBV0MsRUFBYUMsRUFBT0MsR0M5QjVGLFNBQVNFLEVBQVlDLEdBQ2xDLE9BQU9BLEdBQVdBLEVBQVFDLFVBQVksSUFBSUMsY0FBZ0IsSUFDNUQsQ0NGZSxTQUFTQyxFQUFVQyxHQUNoQyxHQUFZLE1BQVJBLEVBQ0YsT0FBT0MsT0FHVCxHQUF3QixvQkFBcEJELEVBQUtFLFdBQWtDLENBQ3pDLElBQUlDLEVBQWdCSCxFQUFLRyxjQUN6QixPQUFPQSxHQUFnQkEsRUFBY0MsYUFBd0JILE1BQy9ELENBRUEsT0FBT0QsQ0FDVCxDQ1RBLFNBQVNLLEVBQVVMLEdBRWpCLE9BQU9BLGFBRFVELEVBQVVDLEdBQU1NLFNBQ0lOLGFBQWdCTSxPQUN2RCxDQUVBLFNBQVNDLEVBQWNQLEdBRXJCLE9BQU9BLGFBRFVELEVBQVVDLEdBQU1RLGFBQ0lSLGFBQWdCUSxXQUN2RCxDQUVBLFNBQVNDLEVBQWFULEdBRXBCLE1BQTBCLG9CQUFmVSxhQUtKVixhQURVRCxFQUFVQyxHQUFNVSxZQUNJVixhQUFnQlUsV0FDdkQsQ0N3REEsU0FDRUMsS0FBTSxjQUNOQyxTQUFTLEVBQ1RDLE1BQU8sUUFDUEMsR0E1RUYsU0FBcUJDLEdBQ25CLElBQUlDLEVBQVFELEVBQUtDLE1BQ2pCQyxPQUFPQyxLQUFLRixFQUFNRyxVQUFVQyxTQUFRLFNBQVVULEdBQzVDLElBQUlVLEVBQVFMLEVBQU1NLE9BQU9YLElBQVMsQ0FBQyxFQUMvQlksRUFBYVAsRUFBTU8sV0FBV1osSUFBUyxDQUFDLEVBQ3hDZixFQUFVb0IsRUFBTUcsU0FBU1IsR0FFeEJKLEVBQWNYLElBQWFELEVBQVlDLEtBTzVDcUIsT0FBT08sT0FBTzVCLEVBQVF5QixNQUFPQSxHQUM3QkosT0FBT0MsS0FBS0ssR0FBWUgsU0FBUSxTQUFVVCxHQUN4QyxJQUFJYyxFQUFRRixFQUFXWixJQUVULElBQVZjLEVBQ0Y3QixFQUFROEIsZ0JBQWdCZixHQUV4QmYsRUFBUStCLGFBQWFoQixHQUFnQixJQUFWYyxFQUFpQixHQUFLQSxFQUVyRCxJQUNGLEdBQ0YsRUFvREVHLE9BbERGLFNBQWdCQyxHQUNkLElBQUliLEVBQVFhLEVBQU1iLE1BQ2RjLEVBQWdCLENBQ2xCcEQsT0FBUSxDQUNOcUQsU0FBVWYsRUFBTWdCLFFBQVFDLFNBQ3hCOUQsS0FBTSxJQUNOK0QsSUFBSyxJQUNMQyxPQUFRLEtBRVZDLE1BQU8sQ0FDTEwsU0FBVSxZQUVacEQsVUFBVyxDQUFDLEdBU2QsT0FQQXNDLE9BQU9PLE9BQU9SLEVBQU1HLFNBQVN6QyxPQUFPMkMsTUFBT1MsRUFBY3BELFFBQ3pEc0MsRUFBTU0sT0FBU1EsRUFFWGQsRUFBTUcsU0FBU2lCLE9BQ2pCbkIsT0FBT08sT0FBT1IsRUFBTUcsU0FBU2lCLE1BQU1mLE1BQU9TLEVBQWNNLE9BR25ELFdBQ0xuQixPQUFPQyxLQUFLRixFQUFNRyxVQUFVQyxTQUFRLFNBQVVULEdBQzVDLElBQUlmLEVBQVVvQixFQUFNRyxTQUFTUixHQUN6QlksRUFBYVAsRUFBTU8sV0FBV1osSUFBUyxDQUFDLEVBR3hDVSxFQUZrQkosT0FBT0MsS0FBS0YsRUFBTU0sT0FBT2UsZUFBZTFCLEdBQVFLLEVBQU1NLE9BQU9YLEdBQVFtQixFQUFjbkIsSUFFN0U5QixRQUFPLFNBQVV3QyxFQUFPaUIsR0FFbEQsT0FEQWpCLEVBQU1pQixHQUFZLEdBQ1hqQixDQUNULEdBQUcsQ0FBQyxHQUVDZCxFQUFjWCxJQUFhRCxFQUFZQyxLQUk1Q3FCLE9BQU9PLE9BQU81QixFQUFReUIsTUFBT0EsR0FDN0JKLE9BQU9DLEtBQUtLLEdBQVlILFNBQVEsU0FBVW1CLEdBQ3hDM0MsRUFBUThCLGdCQUFnQmEsRUFDMUIsSUFDRixHQUNGLENBQ0YsRUFTRUMsU0FBVSxDQUFDLGtCQ2pGRSxTQUFTQyxFQUFpQjFELEdBQ3ZDLE9BQU9BLEVBQVUyRCxNQUFNLEtBQUssRUFDOUIsQ0NITyxJQUFJLEVBQU1DLEtBQUtDLElBQ1gsRUFBTUQsS0FBS0UsSUFDWEMsRUFBUUgsS0FBS0csTUNBVCxTQUFTQyxFQUFzQm5ELEVBQVNvRCxRQUNoQyxJQUFqQkEsSUFDRkEsR0FBZSxHQUdqQixJQUFJQyxFQUFPckQsRUFBUW1ELHdCQUNmRyxFQUFTLEVBQ1RDLEVBQVMsRUFFYixHQUFJNUMsRUFBY1gsSUFBWW9ELEVBQWMsQ0FDMUMsSUFBSUksRUFBZXhELEVBQVF3RCxhQUN2QkMsRUFBY3pELEVBQVF5RCxZQUd0QkEsRUFBYyxJQUNoQkgsRUFBU0osRUFBTUcsRUFBS0ssT0FBU0QsR0FBZSxHQUcxQ0QsRUFBZSxJQUNqQkQsRUFBU0wsRUFBTUcsRUFBS00sUUFBVUgsR0FBZ0IsRUFFbEQsQ0FFQSxNQUFPLENBQ0xFLE1BQU9MLEVBQUtLLE1BQVFKLEVBQ3BCSyxPQUFRTixFQUFLTSxPQUFTSixFQUN0QmpCLElBQUtlLEVBQUtmLElBQU1pQixFQUNoQmpGLE1BQU8rRSxFQUFLL0UsTUFBUWdGLEVBQ3BCakYsT0FBUWdGLEVBQUtoRixPQUFTa0YsRUFDdEJoRixLQUFNOEUsRUFBSzlFLEtBQU8rRSxFQUNsQk0sRUFBR1AsRUFBSzlFLEtBQU8rRSxFQUNmTyxFQUFHUixFQUFLZixJQUFNaUIsRUFFbEIsQ0NoQ2UsU0FBU08sRUFBYzlELEdBQ3BDLElBQUkrRCxFQUFhWixFQUFzQm5ELEdBR25DMEQsRUFBUTFELEVBQVF5RCxZQUNoQkUsRUFBUzNELEVBQVF3RCxhQVVyQixPQVJJVCxLQUFLaUIsSUFBSUQsRUFBV0wsTUFBUUEsSUFBVSxJQUN4Q0EsRUFBUUssRUFBV0wsT0FHakJYLEtBQUtpQixJQUFJRCxFQUFXSixPQUFTQSxJQUFXLElBQzFDQSxFQUFTSSxFQUFXSixRQUdmLENBQ0xDLEVBQUc1RCxFQUFRaUUsV0FDWEosRUFBRzdELEVBQVFrRSxVQUNYUixNQUFPQSxFQUNQQyxPQUFRQSxFQUVaLENDdkJlLFNBQVNRLEVBQVNDLEVBQVFDLEdBQ3ZDLElBQUlDLEVBQVdELEVBQU1FLGFBQWVGLEVBQU1FLGNBRTFDLEdBQUlILEVBQU9ELFNBQVNFLEdBQ2xCLE9BQU8sRUFFSixHQUFJQyxHQUFZekQsRUFBYXlELEdBQVcsQ0FDekMsSUFBSUUsRUFBT0gsRUFFWCxFQUFHLENBQ0QsR0FBSUcsR0FBUUosRUFBT0ssV0FBV0QsR0FDNUIsT0FBTyxFQUlUQSxFQUFPQSxFQUFLRSxZQUFjRixFQUFLRyxJQUNqQyxPQUFTSCxFQUNYLENBR0YsT0FBTyxDQUNULENDckJlLFNBQVMsRUFBaUJ4RSxHQUN2QyxPQUFPRyxFQUFVSCxHQUFTNEUsaUJBQWlCNUUsRUFDN0MsQ0NGZSxTQUFTNkUsRUFBZTdFLEdBQ3JDLE1BQU8sQ0FBQyxRQUFTLEtBQU0sTUFBTThFLFFBQVEvRSxFQUFZQyxLQUFhLENBQ2hFLENDRmUsU0FBUytFLEVBQW1CL0UsR0FFekMsUUFBU1MsRUFBVVQsR0FBV0EsRUFBUU8sY0FDdENQLEVBQVFnRixXQUFhM0UsT0FBTzJFLFVBQVVDLGVBQ3hDLENDRmUsU0FBU0MsRUFBY2xGLEdBQ3BDLE1BQTZCLFNBQXpCRCxFQUFZQyxHQUNQQSxFQU1QQSxFQUFRbUYsY0FDUm5GLEVBQVEwRSxhQUNSN0QsRUFBYWIsR0FBV0EsRUFBUTJFLEtBQU8sT0FFdkNJLEVBQW1CL0UsRUFHdkIsQ0NYQSxTQUFTb0YsRUFBb0JwRixHQUMzQixPQUFLVyxFQUFjWCxJQUNvQixVQUF2QyxFQUFpQkEsR0FBU21DLFNBSW5CbkMsRUFBUXFGLGFBSE4sSUFJWCxDQXdDZSxTQUFTQyxFQUFnQnRGLEdBSXRDLElBSEEsSUFBSUssRUFBU0YsRUFBVUgsR0FDbkJxRixFQUFlRCxFQUFvQnBGLEdBRWhDcUYsR0FBZ0JSLEVBQWVRLElBQTZELFdBQTVDLEVBQWlCQSxHQUFjbEQsVUFDcEZrRCxFQUFlRCxFQUFvQkMsR0FHckMsT0FBSUEsSUFBK0MsU0FBOUJ0RixFQUFZc0YsSUFBMEQsU0FBOUJ0RixFQUFZc0YsSUFBd0UsV0FBNUMsRUFBaUJBLEdBQWNsRCxVQUMzSDlCLEVBR0ZnRixHQWhEVCxTQUE0QnJGLEdBQzFCLElBQUl1RixHQUFzRSxJQUExREMsVUFBVUMsVUFBVXZGLGNBQWM0RSxRQUFRLFdBRzFELElBRnVELElBQTVDVSxVQUFVQyxVQUFVWCxRQUFRLFlBRTNCbkUsRUFBY1gsSUFJSSxVQUZYLEVBQWlCQSxHQUVuQm1DLFNBQ2IsT0FBTyxLQUlYLElBQUl1RCxFQUFjUixFQUFjbEYsR0FNaEMsSUFKSWEsRUFBYTZFLEtBQ2ZBLEVBQWNBLEVBQVlmLE1BR3JCaEUsRUFBYytFLElBQWdCLENBQUMsT0FBUSxRQUFRWixRQUFRL0UsRUFBWTJGLElBQWdCLEdBQUcsQ0FDM0YsSUFBSUMsRUFBTSxFQUFpQkQsR0FJM0IsR0FBc0IsU0FBbEJDLEVBQUlDLFdBQTRDLFNBQXBCRCxFQUFJRSxhQUEwQyxVQUFoQkYsRUFBSUcsVUFBaUYsSUFBMUQsQ0FBQyxZQUFhLGVBQWVoQixRQUFRYSxFQUFJSSxhQUFzQlIsR0FBZ0MsV0FBbkJJLEVBQUlJLFlBQTJCUixHQUFhSSxFQUFJSyxRQUF5QixTQUFmTCxFQUFJSyxPQUNqTyxPQUFPTixFQUVQQSxFQUFjQSxFQUFZaEIsVUFFOUIsQ0FFQSxPQUFPLElBQ1QsQ0FnQnlCdUIsQ0FBbUJqRyxJQUFZSyxDQUN4RCxDQ25FZSxTQUFTNkYsRUFBeUIvRyxHQUMvQyxNQUFPLENBQUMsTUFBTyxVQUFVMkYsUUFBUTNGLElBQWMsRUFBSSxJQUFNLEdBQzNELENDRE8sU0FBU2dILEVBQU9sRCxFQUFLcEIsRUFBT21CLEdBQ2pDLE9BQU8sRUFBUUMsRUFBSyxFQUFRcEIsRUFBT21CLEdBQ3JDLENDRmUsU0FBU29ELEVBQW1CQyxHQUN6QyxPQUFPaEYsT0FBT08sT0FBTyxDQUFDLEVDRGYsQ0FDTFUsSUFBSyxFQUNMaEUsTUFBTyxFQUNQRCxPQUFRLEVBQ1JFLEtBQU0sR0RIdUM4SCxFQUNqRCxDRUhlLFNBQVNDLEVBQWdCekUsRUFBT1AsR0FDN0MsT0FBT0EsRUFBS3JDLFFBQU8sU0FBVXNILEVBQVNDLEdBRXBDLE9BREFELEVBQVFDLEdBQU8zRSxFQUNSMEUsQ0FDVCxHQUFHLENBQUMsRUFDTixDQ3VGQSxTQUNFeEYsS0FBTSxRQUNOQyxTQUFTLEVBQ1RDLE1BQU8sT0FDUEMsR0E5RUYsU0FBZUMsR0FDYixJQUFJc0YsRUFFQXJGLEVBQVFELEVBQUtDLE1BQ2JMLEVBQU9JLEVBQUtKLEtBQ1pxQixFQUFVakIsRUFBS2lCLFFBQ2ZzRSxFQUFldEYsRUFBTUcsU0FBU2lCLE1BQzlCbUUsRUFBZ0J2RixFQUFNd0YsY0FBY0QsY0FDcENFLEVBQWdCaEUsRUFBaUJ6QixFQUFNakMsV0FDdkMySCxFQUFPWixFQUF5QlcsR0FFaENFLEVBRGEsQ0FBQ3hJLEVBQU1ELEdBQU93RyxRQUFRK0IsSUFBa0IsRUFDbEMsU0FBVyxRQUVsQyxHQUFLSCxHQUFpQkMsRUFBdEIsQ0FJQSxJQUFJTixFQXhCZ0IsU0FBeUJXLEVBQVM1RixHQUl0RCxPQUFPZ0YsRUFBc0MsaUJBSDdDWSxFQUE2QixtQkFBWkEsRUFBeUJBLEVBQVEzRixPQUFPTyxPQUFPLENBQUMsRUFBR1IsRUFBTTZGLE1BQU8sQ0FDL0U5SCxVQUFXaUMsRUFBTWpDLGFBQ2I2SCxHQUNrREEsRUFBVVYsRUFBZ0JVLEVBQVN2SSxHQUM3RixDQW1Cc0J5SSxDQUFnQjlFLEVBQVE0RSxRQUFTNUYsR0FDakQrRixFQUFZckQsRUFBYzRDLEdBQzFCVSxFQUFtQixNQUFUTixFQUFlLEVBQU12SSxFQUMvQjhJLEVBQW1CLE1BQVRQLEVBQWV6SSxFQUFTQyxFQUNsQ2dKLEVBQVVsRyxFQUFNNkYsTUFBTWxJLFVBQVVnSSxHQUFPM0YsRUFBTTZGLE1BQU1sSSxVQUFVK0gsR0FBUUgsRUFBY0csR0FBUTFGLEVBQU02RixNQUFNbkksT0FBT2lJLEdBQzlHUSxFQUFZWixFQUFjRyxHQUFRMUYsRUFBTTZGLE1BQU1sSSxVQUFVK0gsR0FDeERVLEVBQW9CbEMsRUFBZ0JvQixHQUNwQ2UsRUFBYUQsRUFBNkIsTUFBVFYsRUFBZVUsRUFBa0JFLGNBQWdCLEVBQUlGLEVBQWtCRyxhQUFlLEVBQUksRUFDM0hDLEVBQW9CTixFQUFVLEVBQUlDLEVBQVksRUFHOUN0RSxFQUFNb0QsRUFBY2UsR0FDcEJwRSxFQUFNeUUsRUFBYU4sRUFBVUosR0FBT1YsRUFBY2dCLEdBQ2xEUSxFQUFTSixFQUFhLEVBQUlOLEVBQVVKLEdBQU8sRUFBSWEsRUFDL0NFLEVBQVMzQixFQUFPbEQsRUFBSzRFLEVBQVE3RSxHQUU3QitFLEVBQVdqQixFQUNmMUYsRUFBTXdGLGNBQWM3RixLQUFTMEYsRUFBd0IsQ0FBQyxHQUF5QnNCLEdBQVlELEVBQVFyQixFQUFzQnVCLGFBQWVGLEVBQVNELEVBQVFwQixFQW5CekosQ0FvQkYsRUE0Q0V6RSxPQTFDRixTQUFnQkMsR0FDZCxJQUFJYixFQUFRYSxFQUFNYixNQUVkNkcsRUFEVWhHLEVBQU1HLFFBQ1dwQyxRQUMzQjBHLE9BQW9DLElBQXJCdUIsRUFBOEIsc0JBQXdCQSxFQUVyRCxNQUFoQnZCLElBS3dCLGlCQUFqQkEsSUFDVEEsRUFBZXRGLEVBQU1HLFNBQVN6QyxPQUFPb0osY0FBY3hCLE1BYWhEdkMsRUFBUy9DLEVBQU1HLFNBQVN6QyxPQUFRNEgsS0FRckN0RixFQUFNRyxTQUFTaUIsTUFBUWtFLEVBQ3pCLEVBU0U5RCxTQUFVLENBQUMsaUJBQ1h1RixpQkFBa0IsQ0FBQyxvQkNuR04sU0FBU0MsRUFBYWpKLEdBQ25DLE9BQU9BLEVBQVUyRCxNQUFNLEtBQUssRUFDOUIsQ0NPQSxJQUFJdUYsRUFBYSxDQUNmL0YsSUFBSyxPQUNMaEUsTUFBTyxPQUNQRCxPQUFRLE9BQ1JFLEtBQU0sUUFnQkQsU0FBUytKLEdBQVlyRyxHQUMxQixJQUFJc0csRUFFQXpKLEVBQVNtRCxFQUFNbkQsT0FDZjBKLEVBQWF2RyxFQUFNdUcsV0FDbkJySixFQUFZOEMsRUFBTTlDLFVBQ2xCc0osRUFBWXhHLEVBQU13RyxVQUNsQkMsRUFBVXpHLEVBQU15RyxRQUNoQnZHLEVBQVdGLEVBQU1FLFNBQ2pCd0csRUFBa0IxRyxFQUFNMEcsZ0JBQ3hCQyxFQUFXM0csRUFBTTJHLFNBQ2pCQyxFQUFlNUcsRUFBTTRHLGFBQ3JCQyxFQUFVN0csRUFBTTZHLFFBQ2hCQyxFQUFhTCxFQUFROUUsRUFDckJBLE9BQW1CLElBQWZtRixFQUF3QixFQUFJQSxFQUNoQ0MsRUFBYU4sRUFBUTdFLEVBQ3JCQSxPQUFtQixJQUFmbUYsRUFBd0IsRUFBSUEsRUFFaENDLEVBQWdDLG1CQUFqQkosRUFBOEJBLEVBQWEsQ0FDNURqRixFQUFHQSxFQUNIQyxJQUNHLENBQ0hELEVBQUdBLEVBQ0hDLEdBR0ZELEVBQUlxRixFQUFNckYsRUFDVkMsRUFBSW9GLEVBQU1wRixFQUNWLElBQUlxRixFQUFPUixFQUFRakcsZUFBZSxLQUM5QjBHLEVBQU9ULEVBQVFqRyxlQUFlLEtBQzlCMkcsRUFBUTdLLEVBQ1I4SyxFQUFRLEVBQ1JDLEVBQU1qSixPQUVWLEdBQUl1SSxFQUFVLENBQ1osSUFBSXZELEVBQWVDLEVBQWdCeEcsR0FDL0J5SyxFQUFhLGVBQ2JDLEVBQVksY0FFWm5FLElBQWlCbEYsRUFBVXJCLElBR21CLFdBQTVDLEVBRkp1RyxFQUFlTixFQUFtQmpHLElBRUNxRCxVQUFzQyxhQUFiQSxJQUMxRG9ILEVBQWEsZUFDYkMsRUFBWSxnQkFPWnJLLElBQWMsSUFBUUEsSUFBY1osR0FBUVksSUFBY2IsSUFBVW1LLElBQWM5SixLQUNwRjBLLEVBQVFoTCxFQUdSd0YsSUFGY2lGLEdBQVd6RCxJQUFpQmlFLEdBQU9BLEVBQUlHLGVBQWlCSCxFQUFJRyxlQUFlOUYsT0FDekYwQixFQUFha0UsSUFDRWYsRUFBVzdFLE9BQzFCRSxHQUFLOEUsRUFBa0IsR0FBSyxHQUcxQnhKLElBQWNaLElBQVNZLElBQWMsR0FBT0EsSUFBY2QsR0FBV29LLElBQWM5SixLQUNyRnlLLEVBQVE5SyxFQUdSc0YsSUFGY2tGLEdBQVd6RCxJQUFpQmlFLEdBQU9BLEVBQUlHLGVBQWlCSCxFQUFJRyxlQUFlL0YsTUFDekYyQixFQUFhbUUsSUFDRWhCLEVBQVc5RSxNQUMxQkUsR0FBSytFLEVBQWtCLEdBQUssRUFFaEMsQ0FFQSxJQWdCTWUsRUFoQkZDLEVBQWV0SSxPQUFPTyxPQUFPLENBQy9CTyxTQUFVQSxHQUNUeUcsR0FBWVAsR0FFWHVCLEdBQXlCLElBQWpCZixFQW5GZCxTQUEyQjFILEdBQ3pCLElBQUl5QyxFQUFJekMsRUFBS3lDLEVBQ1RDLEVBQUkxQyxFQUFLMEMsRUFFVGdHLEVBRE14SixPQUNJeUosa0JBQW9CLEVBQ2xDLE1BQU8sQ0FDTGxHLEVBQUdWLEVBQU1VLEVBQUlpRyxHQUFPQSxHQUFPLEVBQzNCaEcsRUFBR1gsRUFBTVcsRUFBSWdHLEdBQU9BLEdBQU8sRUFFL0IsQ0EwRXNDRSxDQUFrQixDQUNwRG5HLEVBQUdBLEVBQ0hDLElBQ0csQ0FDSEQsRUFBR0EsRUFDSEMsR0FNRixPQUhBRCxFQUFJZ0csRUFBTWhHLEVBQ1ZDLEVBQUkrRixFQUFNL0YsRUFFTjhFLEVBR0t0SCxPQUFPTyxPQUFPLENBQUMsRUFBRytILElBQWVELEVBQWlCLENBQUMsR0FBa0JMLEdBQVNGLEVBQU8sSUFBTSxHQUFJTyxFQUFlTixHQUFTRixFQUFPLElBQU0sR0FBSVEsRUFBZTlELFdBQWEwRCxFQUFJUSxrQkFBb0IsSUFBTSxFQUFJLGFBQWVsRyxFQUFJLE9BQVNDLEVBQUksTUFBUSxlQUFpQkQsRUFBSSxPQUFTQyxFQUFJLFNBQVU2RixJQUc1UnJJLE9BQU9PLE9BQU8sQ0FBQyxFQUFHK0gsSUFBZXBCLEVBQWtCLENBQUMsR0FBbUJjLEdBQVNGLEVBQU90RixFQUFJLEtBQU8sR0FBSTBFLEVBQWdCYSxHQUFTRixFQUFPdEYsRUFBSSxLQUFPLEdBQUkyRSxFQUFnQjNDLFVBQVksR0FBSTJDLEdBQzlMLENBdURBLFVBQ0V4SCxLQUFNLGdCQUNOQyxTQUFTLEVBQ1RDLE1BQU8sY0FDUEMsR0F6REYsU0FBdUI4SSxHQUNyQixJQUFJNUksRUFBUTRJLEVBQU01SSxNQUNkZ0IsRUFBVTRILEVBQU01SCxRQUNoQjZILEVBQXdCN0gsRUFBUXVHLGdCQUNoQ0EsT0FBNEMsSUFBMUJzQixHQUEwQ0EsRUFDNURDLEVBQW9COUgsRUFBUXdHLFNBQzVCQSxPQUFpQyxJQUF0QnNCLEdBQXNDQSxFQUNqREMsRUFBd0IvSCxFQUFReUcsYUFDaENBLE9BQXlDLElBQTFCc0IsR0FBMENBLEVBWXpEUixFQUFlLENBQ2pCeEssVUFBVzBELEVBQWlCekIsRUFBTWpDLFdBQ2xDc0osVUFBV0wsRUFBYWhILEVBQU1qQyxXQUM5QkwsT0FBUXNDLEVBQU1HLFNBQVN6QyxPQUN2QjBKLFdBQVlwSCxFQUFNNkYsTUFBTW5JLE9BQ3hCNkosZ0JBQWlCQSxFQUNqQkcsUUFBb0MsVUFBM0IxSCxFQUFNZ0IsUUFBUUMsVUFHZ0IsTUFBckNqQixFQUFNd0YsY0FBY0QsZ0JBQ3RCdkYsRUFBTU0sT0FBTzVDLE9BQVN1QyxPQUFPTyxPQUFPLENBQUMsRUFBR1IsRUFBTU0sT0FBTzVDLE9BQVF3SixHQUFZakgsT0FBT08sT0FBTyxDQUFDLEVBQUcrSCxFQUFjLENBQ3ZHakIsUUFBU3RILEVBQU13RixjQUFjRCxjQUM3QnhFLFNBQVVmLEVBQU1nQixRQUFRQyxTQUN4QnVHLFNBQVVBLEVBQ1ZDLGFBQWNBLE9BSWUsTUFBN0J6SCxFQUFNd0YsY0FBY3BFLFFBQ3RCcEIsRUFBTU0sT0FBT2MsTUFBUW5CLE9BQU9PLE9BQU8sQ0FBQyxFQUFHUixFQUFNTSxPQUFPYyxNQUFPOEYsR0FBWWpILE9BQU9PLE9BQU8sQ0FBQyxFQUFHK0gsRUFBYyxDQUNyR2pCLFFBQVN0SCxFQUFNd0YsY0FBY3BFLE1BQzdCTCxTQUFVLFdBQ1Z5RyxVQUFVLEVBQ1ZDLGFBQWNBLE9BSWxCekgsRUFBTU8sV0FBVzdDLE9BQVN1QyxPQUFPTyxPQUFPLENBQUMsRUFBR1IsRUFBTU8sV0FBVzdDLE9BQVEsQ0FDbkUsd0JBQXlCc0MsRUFBTWpDLFdBRW5DLEVBUUVpTCxLQUFNLENBQUMsR0NqTFQsSUFBSUMsR0FBVSxDQUNaQSxTQUFTLEdBc0NYLFVBQ0V0SixLQUFNLGlCQUNOQyxTQUFTLEVBQ1RDLE1BQU8sUUFDUEMsR0FBSSxXQUFlLEVBQ25CYyxPQXhDRixTQUFnQmIsR0FDZCxJQUFJQyxFQUFRRCxFQUFLQyxNQUNia0osRUFBV25KLEVBQUttSixTQUNoQmxJLEVBQVVqQixFQUFLaUIsUUFDZm1JLEVBQWtCbkksRUFBUW9JLE9BQzFCQSxPQUE2QixJQUFwQkQsR0FBb0NBLEVBQzdDRSxFQUFrQnJJLEVBQVFzSSxPQUMxQkEsT0FBNkIsSUFBcEJELEdBQW9DQSxFQUM3Q3BLLEVBQVNGLEVBQVVpQixFQUFNRyxTQUFTekMsUUFDbEM2TCxFQUFnQixHQUFHdkwsT0FBT2dDLEVBQU11SixjQUFjNUwsVUFBV3FDLEVBQU11SixjQUFjN0wsUUFZakYsT0FWSTBMLEdBQ0ZHLEVBQWNuSixTQUFRLFNBQVVvSixHQUM5QkEsRUFBYUMsaUJBQWlCLFNBQVVQLEVBQVNRLE9BQVFULEdBQzNELElBR0VLLEdBQ0ZySyxFQUFPd0ssaUJBQWlCLFNBQVVQLEVBQVNRLE9BQVFULElBRzlDLFdBQ0RHLEdBQ0ZHLEVBQWNuSixTQUFRLFNBQVVvSixHQUM5QkEsRUFBYUcsb0JBQW9CLFNBQVVULEVBQVNRLE9BQVFULEdBQzlELElBR0VLLEdBQ0ZySyxFQUFPMEssb0JBQW9CLFNBQVVULEVBQVNRLE9BQVFULEdBRTFELENBQ0YsRUFTRUQsS0FBTSxDQUFDLEdDL0NULElBQUlZLEdBQU8sQ0FDVHpNLEtBQU0sUUFDTkQsTUFBTyxPQUNQRCxPQUFRLE1BQ1JpRSxJQUFLLFVBRVEsU0FBUzJJLEdBQXFCOUwsR0FDM0MsT0FBT0EsRUFBVStMLFFBQVEsMEJBQTBCLFNBQVVDLEdBQzNELE9BQU9ILEdBQUtHLEVBQ2QsR0FDRixDQ1ZBLElBQUksR0FBTyxDQUNUek0sTUFBTyxNQUNQQyxJQUFLLFNBRVEsU0FBU3lNLEdBQThCak0sR0FDcEQsT0FBT0EsRUFBVStMLFFBQVEsY0FBYyxTQUFVQyxHQUMvQyxPQUFPLEdBQUtBLEVBQ2QsR0FDRixDQ1BlLFNBQVNFLEdBQWdCakwsR0FDdEMsSUFBSWtKLEVBQU1uSixFQUFVQyxHQUdwQixNQUFPLENBQ0xrTCxXQUhlaEMsRUFBSWlDLFlBSW5CQyxVQUhjbEMsRUFBSW1DLFlBS3RCLENDTmUsU0FBU0MsR0FBb0IxTCxHQVExQyxPQUFPbUQsRUFBc0I0QixFQUFtQi9FLElBQVV6QixLQUFPOE0sR0FBZ0JyTCxHQUFTc0wsVUFDNUYsQ0NYZSxTQUFTSyxHQUFlM0wsR0FFckMsSUFBSTRMLEVBQW9CLEVBQWlCNUwsR0FDckM2TCxFQUFXRCxFQUFrQkMsU0FDN0JDLEVBQVlGLEVBQWtCRSxVQUM5QkMsRUFBWUgsRUFBa0JHLFVBRWxDLE1BQU8sNkJBQTZCQyxLQUFLSCxFQUFXRSxFQUFZRCxFQUNsRSxDQ0xlLFNBQVNHLEdBQWdCN0wsR0FDdEMsTUFBSSxDQUFDLE9BQVEsT0FBUSxhQUFhMEUsUUFBUS9FLEVBQVlLLEtBQVUsRUFFdkRBLEVBQUtHLGNBQWMyTCxLQUd4QnZMLEVBQWNQLElBQVN1TCxHQUFldkwsR0FDakNBLEVBR0Y2TCxHQUFnQi9HLEVBQWM5RSxHQUN2QyxDQ0plLFNBQVMrTCxHQUFrQm5NLEVBQVNvTSxHQUNqRCxJQUFJQyxPQUVTLElBQVRELElBQ0ZBLEVBQU8sSUFHVCxJQUFJeEIsRUFBZXFCLEdBQWdCak0sR0FDL0JzTSxFQUFTMUIsS0FBcUUsT0FBbER5QixFQUF3QnJNLEVBQVFPLG9CQUF5QixFQUFTOEwsRUFBc0JILE1BQ3BINUMsRUFBTW5KLEVBQVV5SyxHQUNoQjJCLEVBQVNELEVBQVMsQ0FBQ2hELEdBQUtsSyxPQUFPa0ssRUFBSUcsZ0JBQWtCLEdBQUlrQyxHQUFlZixHQUFnQkEsRUFBZSxJQUFNQSxFQUM3RzRCLEVBQWNKLEVBQUtoTixPQUFPbU4sR0FDOUIsT0FBT0QsRUFBU0UsRUFDaEJBLEVBQVlwTixPQUFPK00sR0FBa0JqSCxFQUFjcUgsSUFDckQsQ0N6QmUsU0FBU0UsR0FBaUJwSixHQUN2QyxPQUFPaEMsT0FBT08sT0FBTyxDQUFDLEVBQUd5QixFQUFNLENBQzdCOUUsS0FBTThFLEVBQUtPLEVBQ1h0QixJQUFLZSxFQUFLUSxFQUNWdkYsTUFBTytFLEVBQUtPLEVBQUlQLEVBQUtLLE1BQ3JCckYsT0FBUWdGLEVBQUtRLEVBQUlSLEVBQUtNLFFBRTFCLENDcUJBLFNBQVMrSSxHQUEyQjFNLEVBQVMyTSxHQUMzQyxPQUFPQSxJQUFtQjlOLEVBQVc0TixHQzFCeEIsU0FBeUJ6TSxHQUN0QyxJQUFJc0osRUFBTW5KLEVBQVVILEdBQ2hCNE0sRUFBTzdILEVBQW1CL0UsR0FDMUJ5SixFQUFpQkgsRUFBSUcsZUFDckIvRixFQUFRa0osRUFBS2pGLFlBQ2JoRSxFQUFTaUosRUFBS2xGLGFBQ2Q5RCxFQUFJLEVBQ0pDLEVBQUksRUF1QlIsT0FqQkk0RixJQUNGL0YsRUFBUStGLEVBQWUvRixNQUN2QkMsRUFBUzhGLEVBQWU5RixPQVNuQixpQ0FBaUNxSSxLQUFLeEcsVUFBVUMsYUFDbkQ3QixFQUFJNkYsRUFBZXhGLFdBQ25CSixFQUFJNEYsRUFBZXZGLFlBSWhCLENBQ0xSLE1BQU9BLEVBQ1BDLE9BQVFBLEVBQ1JDLEVBQUdBLEVBQUk4SCxHQUFvQjFMLEdBQzNCNkQsRUFBR0EsRUFFUCxDRFZ3RGdKLENBQWdCN00sSUFBWVMsRUFBVWtNLEdBZDlGLFNBQW9DM00sR0FDbEMsSUFBSXFELEVBQU9GLEVBQXNCbkQsR0FTakMsT0FSQXFELEVBQUtmLElBQU1lLEVBQUtmLElBQU10QyxFQUFROE0sVUFDOUJ6SixFQUFLOUUsS0FBTzhFLEVBQUs5RSxLQUFPeUIsRUFBUStNLFdBQ2hDMUosRUFBS2hGLE9BQVNnRixFQUFLZixJQUFNdEMsRUFBUTBILGFBQ2pDckUsRUFBSy9FLE1BQVErRSxFQUFLOUUsS0FBT3lCLEVBQVEySCxZQUNqQ3RFLEVBQUtLLE1BQVExRCxFQUFRMkgsWUFDckJ0RSxFQUFLTSxPQUFTM0QsRUFBUTBILGFBQ3RCckUsRUFBS08sRUFBSVAsRUFBSzlFLEtBQ2Q4RSxFQUFLUSxFQUFJUixFQUFLZixJQUNQZSxDQUNULENBR2dIMkosQ0FBMkJMLEdBQWtCRixHRXRCOUksU0FBeUJ6TSxHQUN0QyxJQUFJcU0sRUFFQU8sRUFBTzdILEVBQW1CL0UsR0FDMUJpTixFQUFZNUIsR0FBZ0JyTCxHQUM1QmtNLEVBQTBELE9BQWxERyxFQUF3QnJNLEVBQVFPLG9CQUF5QixFQUFTOEwsRUFBc0JILEtBQ2hHeEksRUFBUSxFQUFJa0osRUFBS00sWUFBYU4sRUFBS2pGLFlBQWF1RSxFQUFPQSxFQUFLZ0IsWUFBYyxFQUFHaEIsRUFBT0EsRUFBS3ZFLFlBQWMsR0FDdkdoRSxFQUFTLEVBQUlpSixFQUFLTyxhQUFjUCxFQUFLbEYsYUFBY3dFLEVBQU9BLEVBQUtpQixhQUFlLEVBQUdqQixFQUFPQSxFQUFLeEUsYUFBZSxHQUM1RzlELEdBQUtxSixFQUFVM0IsV0FBYUksR0FBb0IxTCxHQUNoRDZELEdBQUtvSixFQUFVekIsVUFNbkIsTUFKaUQsUUFBN0MsRUFBaUJVLEdBQVFVLEdBQU1RLFlBQ2pDeEosR0FBSyxFQUFJZ0osRUFBS2pGLFlBQWF1RSxFQUFPQSxFQUFLdkUsWUFBYyxHQUFLakUsR0FHckQsQ0FDTEEsTUFBT0EsRUFDUEMsT0FBUUEsRUFDUkMsRUFBR0EsRUFDSEMsRUFBR0EsRUFFUCxDRkM4S3dKLENBQWdCdEksRUFBbUIvRSxJQUNqTixDRzFCZSxTQUFTc04sR0FBZW5NLEdBQ3JDLElBT0l1SCxFQVBBM0osRUFBWW9DLEVBQUtwQyxVQUNqQmlCLEVBQVVtQixFQUFLbkIsUUFDZmIsRUFBWWdDLEVBQUtoQyxVQUNqQjBILEVBQWdCMUgsRUFBWTBELEVBQWlCMUQsR0FBYSxLQUMxRHNKLEVBQVl0SixFQUFZaUosRUFBYWpKLEdBQWEsS0FDbERvTyxFQUFVeE8sRUFBVTZFLEVBQUk3RSxFQUFVMkUsTUFBUSxFQUFJMUQsRUFBUTBELE1BQVEsRUFDOUQ4SixFQUFVek8sRUFBVThFLEVBQUk5RSxFQUFVNEUsT0FBUyxFQUFJM0QsRUFBUTJELE9BQVMsRUFHcEUsT0FBUWtELEdBQ04sS0FBSyxFQUNINkIsRUFBVSxDQUNSOUUsRUFBRzJKLEVBQ0gxSixFQUFHOUUsRUFBVThFLEVBQUk3RCxFQUFRMkQsUUFFM0IsTUFFRixLQUFLdEYsRUFDSHFLLEVBQVUsQ0FDUjlFLEVBQUcySixFQUNIMUosRUFBRzlFLEVBQVU4RSxFQUFJOUUsRUFBVTRFLFFBRTdCLE1BRUYsS0FBS3JGLEVBQ0hvSyxFQUFVLENBQ1I5RSxFQUFHN0UsRUFBVTZFLEVBQUk3RSxFQUFVMkUsTUFDM0JHLEVBQUcySixHQUVMLE1BRUYsS0FBS2pQLEVBQ0htSyxFQUFVLENBQ1I5RSxFQUFHN0UsRUFBVTZFLEVBQUk1RCxFQUFRMEQsTUFDekJHLEVBQUcySixHQUVMLE1BRUYsUUFDRTlFLEVBQVUsQ0FDUjlFLEVBQUc3RSxFQUFVNkUsRUFDYkMsRUFBRzlFLEVBQVU4RSxHQUluQixJQUFJNEosRUFBVzVHLEVBQWdCWCxFQUF5QlcsR0FBaUIsS0FFekUsR0FBZ0IsTUFBWjRHLEVBQWtCLENBQ3BCLElBQUkxRyxFQUFtQixNQUFiMEcsRUFBbUIsU0FBVyxRQUV4QyxPQUFRaEYsR0FDTixLQUFLL0osRUFDSGdLLEVBQVErRSxHQUFZL0UsRUFBUStFLElBQWExTyxFQUFVZ0ksR0FBTyxFQUFJL0csRUFBUStHLEdBQU8sR0FDN0UsTUFFRixLQUFLcEksRUFDSCtKLEVBQVErRSxHQUFZL0UsRUFBUStFLElBQWExTyxFQUFVZ0ksR0FBTyxFQUFJL0csRUFBUStHLEdBQU8sR0FLbkYsQ0FFQSxPQUFPMkIsQ0FDVCxDQzNEZSxTQUFTZ0YsR0FBZXRNLEVBQU9nQixRQUM1QixJQUFaQSxJQUNGQSxFQUFVLENBQUMsR0FHYixJQUFJdUwsRUFBV3ZMLEVBQ1h3TCxFQUFxQkQsRUFBU3hPLFVBQzlCQSxPQUFtQyxJQUF2QnlPLEVBQWdDeE0sRUFBTWpDLFVBQVl5TyxFQUM5REMsRUFBb0JGLEVBQVNHLFNBQzdCQSxPQUFpQyxJQUF0QkQsRUFBK0JqUCxFQUFrQmlQLEVBQzVERSxFQUF3QkosRUFBU0ssYUFDakNBLE9BQXlDLElBQTFCRCxFQUFtQ2xQLEVBQVdrUCxFQUM3REUsRUFBd0JOLEVBQVNPLGVBQ2pDQSxPQUEyQyxJQUExQkQsRUFBbUNuUCxFQUFTbVAsRUFDN0RFLEVBQXVCUixFQUFTUyxZQUNoQ0EsT0FBdUMsSUFBekJELEdBQTBDQSxFQUN4REUsRUFBbUJWLEVBQVMzRyxRQUM1QkEsT0FBK0IsSUFBckJxSCxFQUE4QixFQUFJQSxFQUM1Q2hJLEVBQWdCRCxFQUFzQyxpQkFBWlksRUFBdUJBLEVBQVVWLEVBQWdCVSxFQUFTdkksSUFDcEc2UCxFQUFhSixJQUFtQnBQLEVBQVNDLEVBQVlELEVBQ3JEMEosRUFBYXBILEVBQU02RixNQUFNbkksT0FDekJrQixFQUFVb0IsRUFBTUcsU0FBUzZNLEVBQWNFLEVBQWFKLEdBQ3BESyxFSm9CUyxTQUF5QnZPLEVBQVM4TixFQUFVRSxHQUN6RCxJQUFJUSxFQUFtQyxvQkFBYlYsRUFsQjVCLFNBQTRCOU4sR0FDMUIsSUFBSXBCLEVBQWtCdU4sR0FBa0JqSCxFQUFjbEYsSUFFbER5TyxFQURvQixDQUFDLFdBQVksU0FBUzNKLFFBQVEsRUFBaUI5RSxHQUFTbUMsV0FBYSxHQUNuRHhCLEVBQWNYLEdBQVdzRixFQUFnQnRGLEdBQVdBLEVBRTlGLE9BQUtTLEVBQVVnTyxHQUtSN1AsRUFBZ0JvSCxRQUFPLFNBQVUyRyxHQUN0QyxPQUFPbE0sRUFBVWtNLElBQW1CeEksRUFBU3dJLEVBQWdCOEIsSUFBbUQsU0FBaEMxTyxFQUFZNE0sRUFDOUYsSUFOUyxFQU9YLENBSzZEK0IsQ0FBbUIxTyxHQUFXLEdBQUdaLE9BQU8wTyxHQUMvRmxQLEVBQWtCLEdBQUdRLE9BQU9vUCxFQUFxQixDQUFDUixJQUNsRFcsRUFBc0IvUCxFQUFnQixHQUN0Q2dRLEVBQWVoUSxFQUFnQkssUUFBTyxTQUFVNFAsRUFBU2xDLEdBQzNELElBQUl0SixFQUFPcUosR0FBMkIxTSxFQUFTMk0sR0FLL0MsT0FKQWtDLEVBQVF2TSxJQUFNLEVBQUllLEVBQUtmLElBQUt1TSxFQUFRdk0sS0FDcEN1TSxFQUFRdlEsTUFBUSxFQUFJK0UsRUFBSy9FLE1BQU91USxFQUFRdlEsT0FDeEN1USxFQUFReFEsT0FBUyxFQUFJZ0YsRUFBS2hGLE9BQVF3USxFQUFReFEsUUFDMUN3USxFQUFRdFEsS0FBTyxFQUFJOEUsRUFBSzlFLEtBQU1zUSxFQUFRdFEsTUFDL0JzUSxDQUNULEdBQUduQyxHQUEyQjFNLEVBQVMyTyxJQUt2QyxPQUpBQyxFQUFhbEwsTUFBUWtMLEVBQWF0USxNQUFRc1EsRUFBYXJRLEtBQ3ZEcVEsRUFBYWpMLE9BQVNpTCxFQUFhdlEsT0FBU3VRLEVBQWF0TSxJQUN6RHNNLEVBQWFoTCxFQUFJZ0wsRUFBYXJRLEtBQzlCcVEsRUFBYS9LLEVBQUkrSyxFQUFhdE0sSUFDdkJzTSxDQUNULENJckMyQkUsQ0FBZ0JyTyxFQUFVVCxHQUFXQSxFQUFVQSxFQUFRK08sZ0JBQWtCaEssRUFBbUIzRCxFQUFNRyxTQUFTekMsUUFBU2dQLEVBQVVFLEdBQ25KZ0IsRUFBc0I3TCxFQUFzQi9CLEVBQU1HLFNBQVN4QyxXQUMzRDRILEVBQWdCMkcsR0FBZSxDQUNqQ3ZPLFVBQVdpUSxFQUNYaFAsUUFBU3dJLEVBQ1RuRyxTQUFVLFdBQ1ZsRCxVQUFXQSxJQUVUOFAsRUFBbUJ4QyxHQUFpQnBMLE9BQU9PLE9BQU8sQ0FBQyxFQUFHNEcsRUFBWTdCLElBQ2xFdUksRUFBb0JoQixJQUFtQnBQLEVBQVNtUSxFQUFtQkQsRUFHbkVHLEVBQWtCLENBQ3BCN00sSUFBS2lNLEVBQW1Cak0sSUFBTTRNLEVBQWtCNU0sSUFBTStELEVBQWMvRCxJQUNwRWpFLE9BQVE2USxFQUFrQjdRLE9BQVNrUSxFQUFtQmxRLE9BQVNnSSxFQUFjaEksT0FDN0VFLEtBQU1nUSxFQUFtQmhRLEtBQU8yUSxFQUFrQjNRLEtBQU84SCxFQUFjOUgsS0FDdkVELE1BQU80USxFQUFrQjVRLE1BQVFpUSxFQUFtQmpRLE1BQVErSCxFQUFjL0gsT0FFeEU4USxFQUFhaE8sRUFBTXdGLGNBQWNrQixPQUVyQyxHQUFJb0csSUFBbUJwUCxHQUFVc1EsRUFBWSxDQUMzQyxJQUFJdEgsRUFBU3NILEVBQVdqUSxHQUN4QmtDLE9BQU9DLEtBQUs2TixHQUFpQjNOLFNBQVEsU0FBVWdGLEdBQzdDLElBQUk2SSxFQUFXLENBQUMvUSxFQUFPRCxHQUFReUcsUUFBUTBCLElBQVEsRUFBSSxHQUFLLEVBQ3BETSxFQUFPLENBQUMsRUFBS3pJLEdBQVF5RyxRQUFRMEIsSUFBUSxFQUFJLElBQU0sSUFDbkQySSxFQUFnQjNJLElBQVFzQixFQUFPaEIsR0FBUXVJLENBQ3pDLEdBQ0YsQ0FFQSxPQUFPRixDQUNULENDMkVBLFVBQ0VwTyxLQUFNLE9BQ05DLFNBQVMsRUFDVEMsTUFBTyxPQUNQQyxHQTVIRixTQUFjQyxHQUNaLElBQUlDLEVBQVFELEVBQUtDLE1BQ2JnQixFQUFVakIsRUFBS2lCLFFBQ2ZyQixFQUFPSSxFQUFLSixLQUVoQixJQUFJSyxFQUFNd0YsY0FBYzdGLEdBQU11TyxNQUE5QixDQW9DQSxJQWhDQSxJQUFJQyxFQUFvQm5OLEVBQVFxTCxTQUM1QitCLE9BQXNDLElBQXRCRCxHQUFzQ0EsRUFDdERFLEVBQW1Cck4sRUFBUXNOLFFBQzNCQyxPQUFvQyxJQUFyQkYsR0FBcUNBLEVBQ3BERyxFQUE4QnhOLEVBQVF5TixtQkFDdEM3SSxFQUFVNUUsRUFBUTRFLFFBQ2xCOEcsRUFBVzFMLEVBQVEwTCxTQUNuQkUsRUFBZTVMLEVBQVE0TCxhQUN2QkksRUFBY2hNLEVBQVFnTSxZQUN0QjBCLEVBQXdCMU4sRUFBUTJOLGVBQ2hDQSxPQUEyQyxJQUExQkQsR0FBMENBLEVBQzNERSxFQUF3QjVOLEVBQVE0TixzQkFDaENDLEVBQXFCN08sRUFBTWdCLFFBQVFqRCxVQUNuQzBILEVBQWdCaEUsRUFBaUJvTixHQUVqQ0osRUFBcUJELElBREgvSSxJQUFrQm9KLEdBQ3FDRixFQWpDL0UsU0FBdUM1USxHQUNyQyxHQUFJMEQsRUFBaUIxRCxLQUFlWCxFQUNsQyxNQUFPLEdBR1QsSUFBSTBSLEVBQW9CakYsR0FBcUI5TCxHQUM3QyxNQUFPLENBQUNpTSxHQUE4QmpNLEdBQVkrUSxFQUFtQjlFLEdBQThCOEUsR0FDckcsQ0EwQjZJQyxDQUE4QkYsR0FBM0UsQ0FBQ2hGLEdBQXFCZ0YsS0FDaEhHLEVBQWEsQ0FBQ0gsR0FBb0I3USxPQUFPeVEsR0FBb0I1USxRQUFPLFNBQVVDLEVBQUtDLEdBQ3JGLE9BQU9ELEVBQUlFLE9BQU95RCxFQUFpQjFELEtBQWVYLEVDdkN2QyxTQUE4QjRDLEVBQU9nQixRQUNsQyxJQUFaQSxJQUNGQSxFQUFVLENBQUMsR0FHYixJQUFJdUwsRUFBV3ZMLEVBQ1hqRCxFQUFZd08sRUFBU3hPLFVBQ3JCMk8sRUFBV0gsRUFBU0csU0FDcEJFLEVBQWVMLEVBQVNLLGFBQ3hCaEgsRUFBVTJHLEVBQVMzRyxRQUNuQitJLEVBQWlCcEMsRUFBU29DLGVBQzFCTSxFQUF3QjFDLEVBQVNxQyxzQkFDakNBLE9BQWtELElBQTFCSyxFQUFtQyxFQUFnQkEsRUFDM0U1SCxFQUFZTCxFQUFhakosR0FDekJpUixFQUFhM0gsRUFBWXNILEVBQWlCL1EsRUFBc0JBLEVBQW9CZ0gsUUFBTyxTQUFVN0csR0FDdkcsT0FBT2lKLEVBQWFqSixLQUFlc0osQ0FDckMsSUFBS2hLLEVBQ0Q2UixFQUFvQkYsRUFBV3BLLFFBQU8sU0FBVTdHLEdBQ2xELE9BQU82USxFQUFzQmxMLFFBQVEzRixJQUFjLENBQ3JELElBRWlDLElBQTdCbVIsRUFBa0JDLFNBQ3BCRCxFQUFvQkYsR0FRdEIsSUFBSUksRUFBWUYsRUFBa0JyUixRQUFPLFNBQVVDLEVBQUtDLEdBT3RELE9BTkFELEVBQUlDLEdBQWF1TyxHQUFldE0sRUFBTyxDQUNyQ2pDLFVBQVdBLEVBQ1gyTyxTQUFVQSxFQUNWRSxhQUFjQSxFQUNkaEgsUUFBU0EsSUFDUm5FLEVBQWlCMUQsSUFDYkQsQ0FDVCxHQUFHLENBQUMsR0FDSixPQUFPbUMsT0FBT0MsS0FBS2tQLEdBQVdDLE1BQUssU0FBVUMsRUFBR0MsR0FDOUMsT0FBT0gsRUFBVUUsR0FBS0YsRUFBVUcsRUFDbEMsR0FDRixDREg2REMsQ0FBcUJ4UCxFQUFPLENBQ25GakMsVUFBV0EsRUFDWDJPLFNBQVVBLEVBQ1ZFLGFBQWNBLEVBQ2RoSCxRQUFTQSxFQUNUK0ksZUFBZ0JBLEVBQ2hCQyxzQkFBdUJBLElBQ3BCN1EsRUFDUCxHQUFHLElBQ0MwUixFQUFnQnpQLEVBQU02RixNQUFNbEksVUFDNUJ5SixFQUFhcEgsRUFBTTZGLE1BQU1uSSxPQUN6QmdTLEVBQVksSUFBSUMsSUFDaEJDLEdBQXFCLEVBQ3JCQyxFQUF3QmIsRUFBVyxHQUU5QmMsRUFBSSxFQUFHQSxFQUFJZCxFQUFXRyxPQUFRVyxJQUFLLENBQzFDLElBQUkvUixFQUFZaVIsRUFBV2MsR0FFdkJDLEVBQWlCdE8sRUFBaUIxRCxHQUVsQ2lTLEVBQW1CaEosRUFBYWpKLEtBQWVULEVBQy9DMlMsRUFBYSxDQUFDLEVBQUtoVCxHQUFReUcsUUFBUXFNLElBQW1CLEVBQ3REcEssRUFBTXNLLEVBQWEsUUFBVSxTQUM3QnhGLEVBQVc2QixHQUFldE0sRUFBTyxDQUNuQ2pDLFVBQVdBLEVBQ1gyTyxTQUFVQSxFQUNWRSxhQUFjQSxFQUNkSSxZQUFhQSxFQUNicEgsUUFBU0EsSUFFUHNLLEVBQW9CRCxFQUFhRCxFQUFtQjlTLEVBQVFDLEVBQU82UyxFQUFtQi9TLEVBQVMsRUFFL0Z3UyxFQUFjOUosR0FBT3lCLEVBQVd6QixLQUNsQ3VLLEVBQW9CckcsR0FBcUJxRyxJQUczQyxJQUFJQyxFQUFtQnRHLEdBQXFCcUcsR0FDeENFLEVBQVMsR0FVYixHQVJJaEMsR0FDRmdDLEVBQU9DLEtBQUs1RixFQUFTc0YsSUFBbUIsR0FHdEN4QixHQUNGNkIsRUFBT0MsS0FBSzVGLEVBQVN5RixJQUFzQixFQUFHekYsRUFBUzBGLElBQXFCLEdBRzFFQyxFQUFPRSxPQUFNLFNBQVVDLEdBQ3pCLE9BQU9BLENBQ1QsSUFBSSxDQUNGVixFQUF3QjlSLEVBQ3hCNlIsR0FBcUIsRUFDckIsS0FDRixDQUVBRixFQUFVYyxJQUFJelMsRUFBV3FTLEVBQzNCLENBRUEsR0FBSVIsRUFxQkYsSUFuQkEsSUFFSWEsRUFBUSxTQUFlQyxHQUN6QixJQUFJQyxFQUFtQjNCLEVBQVc0QixNQUFLLFNBQVU3UyxHQUMvQyxJQUFJcVMsRUFBU1YsRUFBVW1CLElBQUk5UyxHQUUzQixHQUFJcVMsRUFDRixPQUFPQSxFQUFPVSxNQUFNLEVBQUdKLEdBQUlKLE9BQU0sU0FBVUMsR0FDekMsT0FBT0EsQ0FDVCxHQUVKLElBRUEsR0FBSUksRUFFRixPQURBZCxFQUF3QmMsRUFDakIsT0FFWCxFQUVTRCxFQW5CWS9CLEVBQWlCLEVBQUksRUFtQlorQixFQUFLLEdBR3BCLFVBRkZELEVBQU1DLEdBRG1CQSxLQU9wQzFRLEVBQU1qQyxZQUFjOFIsSUFDdEI3UCxFQUFNd0YsY0FBYzdGLEdBQU11TyxPQUFRLEVBQ2xDbE8sRUFBTWpDLFVBQVk4UixFQUNsQjdQLEVBQU0rUSxPQUFRLEVBNUdoQixDQThHRixFQVFFaEssaUJBQWtCLENBQUMsVUFDbkJpQyxLQUFNLENBQ0prRixPQUFPLElFN0lYLFNBQVM4QyxHQUFldkcsRUFBVXhJLEVBQU1nUCxHQVF0QyxZQVB5QixJQUFyQkEsSUFDRkEsRUFBbUIsQ0FDakJ6TyxFQUFHLEVBQ0hDLEVBQUcsSUFJQSxDQUNMdkIsSUFBS3VKLEVBQVN2SixJQUFNZSxFQUFLTSxPQUFTME8sRUFBaUJ4TyxFQUNuRHZGLE1BQU91TixFQUFTdk4sTUFBUStFLEVBQUtLLE1BQVEyTyxFQUFpQnpPLEVBQ3REdkYsT0FBUXdOLEVBQVN4TixPQUFTZ0YsRUFBS00sT0FBUzBPLEVBQWlCeE8sRUFDekR0RixLQUFNc04sRUFBU3ROLEtBQU84RSxFQUFLSyxNQUFRMk8sRUFBaUJ6TyxFQUV4RCxDQUVBLFNBQVMwTyxHQUFzQnpHLEdBQzdCLE1BQU8sQ0FBQyxFQUFLdk4sRUFBT0QsRUFBUUUsR0FBTWdVLE1BQUssU0FBVUMsR0FDL0MsT0FBTzNHLEVBQVMyRyxJQUFTLENBQzNCLEdBQ0YsQ0ErQkEsVUFDRXpSLEtBQU0sT0FDTkMsU0FBUyxFQUNUQyxNQUFPLE9BQ1BrSCxpQkFBa0IsQ0FBQyxtQkFDbkJqSCxHQWxDRixTQUFjQyxHQUNaLElBQUlDLEVBQVFELEVBQUtDLE1BQ2JMLEVBQU9JLEVBQUtKLEtBQ1o4UCxFQUFnQnpQLEVBQU02RixNQUFNbEksVUFDNUJ5SixFQUFhcEgsRUFBTTZGLE1BQU1uSSxPQUN6QnVULEVBQW1CalIsRUFBTXdGLGNBQWM2TCxnQkFDdkNDLEVBQW9CaEYsR0FBZXRNLEVBQU8sQ0FDNUM4TSxlQUFnQixjQUVkeUUsRUFBb0JqRixHQUFldE0sRUFBTyxDQUM1Q2dOLGFBQWEsSUFFWHdFLEVBQTJCUixHQUFlTSxFQUFtQjdCLEdBQzdEZ0MsRUFBc0JULEdBQWVPLEVBQW1CbkssRUFBWTZKLEdBQ3BFUyxFQUFvQlIsR0FBc0JNLEdBQzFDRyxFQUFtQlQsR0FBc0JPLEdBQzdDelIsRUFBTXdGLGNBQWM3RixHQUFRLENBQzFCNlIseUJBQTBCQSxFQUMxQkMsb0JBQXFCQSxFQUNyQkMsa0JBQW1CQSxFQUNuQkMsaUJBQWtCQSxHQUVwQjNSLEVBQU1PLFdBQVc3QyxPQUFTdUMsT0FBT08sT0FBTyxDQUFDLEVBQUdSLEVBQU1PLFdBQVc3QyxPQUFRLENBQ25FLCtCQUFnQ2dVLEVBQ2hDLHNCQUF1QkMsR0FFM0IsR0NKQSxJQUNFaFMsS0FBTSxTQUNOQyxTQUFTLEVBQ1RDLE1BQU8sT0FDUDJCLFNBQVUsQ0FBQyxpQkFDWDFCLEdBNUJGLFNBQWdCZSxHQUNkLElBQUliLEVBQVFhLEVBQU1iLE1BQ2RnQixFQUFVSCxFQUFNRyxRQUNoQnJCLEVBQU9rQixFQUFNbEIsS0FDYmlTLEVBQWtCNVEsRUFBUTBGLE9BQzFCQSxPQUE2QixJQUFwQmtMLEVBQTZCLENBQUMsRUFBRyxHQUFLQSxFQUMvQzVJLEVBQU8sVUFBa0IsU0FBVWxMLEVBQUtDLEdBRTFDLE9BREFELEVBQUlDLEdBNUJELFNBQWlDQSxFQUFXOEgsRUFBT2EsR0FDeEQsSUFBSWpCLEVBQWdCaEUsRUFBaUIxRCxHQUNqQzhULEVBQWlCLENBQUMxVSxFQUFNLEdBQUt1RyxRQUFRK0IsSUFBa0IsR0FBSyxFQUFJLEVBRWhFMUYsRUFBeUIsbUJBQVgyRyxFQUF3QkEsRUFBT3pHLE9BQU9PLE9BQU8sQ0FBQyxFQUFHcUYsRUFBTyxDQUN4RTlILFVBQVdBLEtBQ1AySSxFQUNGb0wsRUFBVy9SLEVBQUssR0FDaEJnUyxFQUFXaFMsRUFBSyxHQUlwQixPQUZBK1IsRUFBV0EsR0FBWSxFQUN2QkMsR0FBWUEsR0FBWSxHQUFLRixFQUN0QixDQUFDMVUsRUFBTUQsR0FBT3dHLFFBQVErQixJQUFrQixFQUFJLENBQ2pEakQsRUFBR3VQLEVBQ0h0UCxFQUFHcVAsR0FDRCxDQUNGdFAsRUFBR3NQLEVBQ0hyUCxFQUFHc1AsRUFFUCxDQVNxQkMsQ0FBd0JqVSxFQUFXaUMsRUFBTTZGLE1BQU9hLEdBQzFENUksQ0FDVCxHQUFHLENBQUMsR0FDQW1VLEVBQXdCakosRUFBS2hKLEVBQU1qQyxXQUNuQ3lFLEVBQUl5UCxFQUFzQnpQLEVBQzFCQyxFQUFJd1AsRUFBc0J4UCxFQUVXLE1BQXJDekMsRUFBTXdGLGNBQWNELGdCQUN0QnZGLEVBQU13RixjQUFjRCxjQUFjL0MsR0FBS0EsRUFDdkN4QyxFQUFNd0YsY0FBY0QsY0FBYzlDLEdBQUtBLEdBR3pDekMsRUFBTXdGLGNBQWM3RixHQUFRcUosQ0FDOUIsR0MxQkEsSUFDRXJKLEtBQU0sZ0JBQ05DLFNBQVMsRUFDVEMsTUFBTyxPQUNQQyxHQXBCRixTQUF1QkMsR0FDckIsSUFBSUMsRUFBUUQsRUFBS0MsTUFDYkwsRUFBT0ksRUFBS0osS0FLaEJLLEVBQU13RixjQUFjN0YsR0FBUXVNLEdBQWUsQ0FDekN2TyxVQUFXcUMsRUFBTTZGLE1BQU1sSSxVQUN2QmlCLFFBQVNvQixFQUFNNkYsTUFBTW5JLE9BQ3JCdUQsU0FBVSxXQUNWbEQsVUFBV2lDLEVBQU1qQyxXQUVyQixFQVFFaUwsS0FBTSxDQUFDLEdDZ0hULElBQ0VySixLQUFNLGtCQUNOQyxTQUFTLEVBQ1RDLE1BQU8sT0FDUEMsR0EvSEYsU0FBeUJDLEdBQ3ZCLElBQUlDLEVBQVFELEVBQUtDLE1BQ2JnQixFQUFVakIsRUFBS2lCLFFBQ2ZyQixFQUFPSSxFQUFLSixLQUNad08sRUFBb0JuTixFQUFRcUwsU0FDNUIrQixPQUFzQyxJQUF0QkQsR0FBc0NBLEVBQ3RERSxFQUFtQnJOLEVBQVFzTixRQUMzQkMsT0FBb0MsSUFBckJGLEdBQXNDQSxFQUNyRDNCLEVBQVcxTCxFQUFRMEwsU0FDbkJFLEVBQWU1TCxFQUFRNEwsYUFDdkJJLEVBQWNoTSxFQUFRZ00sWUFDdEJwSCxFQUFVNUUsRUFBUTRFLFFBQ2xCc00sRUFBa0JsUixFQUFRbVIsT0FDMUJBLE9BQTZCLElBQXBCRCxHQUFvQ0EsRUFDN0NFLEVBQXdCcFIsRUFBUXFSLGFBQ2hDQSxPQUF5QyxJQUExQkQsRUFBbUMsRUFBSUEsRUFDdEQzSCxFQUFXNkIsR0FBZXRNLEVBQU8sQ0FDbkMwTSxTQUFVQSxFQUNWRSxhQUFjQSxFQUNkaEgsUUFBU0EsRUFDVG9ILFlBQWFBLElBRVh2SCxFQUFnQmhFLEVBQWlCekIsRUFBTWpDLFdBQ3ZDc0osRUFBWUwsRUFBYWhILEVBQU1qQyxXQUMvQnVVLEdBQW1CakwsRUFDbkJnRixFQUFXdkgsRUFBeUJXLEdBQ3BDNkksRUNyQ1ksTURxQ1NqQyxFQ3JDSCxJQUFNLElEc0N4QjlHLEVBQWdCdkYsRUFBTXdGLGNBQWNELGNBQ3BDa0ssRUFBZ0J6UCxFQUFNNkYsTUFBTWxJLFVBQzVCeUosRUFBYXBILEVBQU02RixNQUFNbkksT0FDekI2VSxFQUE0QyxtQkFBakJGLEVBQThCQSxFQUFhcFMsT0FBT08sT0FBTyxDQUFDLEVBQUdSLEVBQU02RixNQUFPLENBQ3ZHOUgsVUFBV2lDLEVBQU1qQyxhQUNic1UsRUFDRkcsRUFBMkQsaUJBQXRCRCxFQUFpQyxDQUN4RWxHLFNBQVVrRyxFQUNWakUsUUFBU2lFLEdBQ1B0UyxPQUFPTyxPQUFPLENBQ2hCNkwsU0FBVSxFQUNWaUMsUUFBUyxHQUNSaUUsR0FDQ0UsRUFBc0J6UyxFQUFNd0YsY0FBY2tCLE9BQVMxRyxFQUFNd0YsY0FBY2tCLE9BQU8xRyxFQUFNakMsV0FBYSxLQUNqR2lMLEVBQU8sQ0FDVHhHLEVBQUcsRUFDSEMsRUFBRyxHQUdMLEdBQUs4QyxFQUFMLENBSUEsR0FBSTZJLEVBQWUsQ0FDakIsSUFBSXNFLEVBRUFDLEVBQXdCLE1BQWJ0RyxFQUFtQixFQUFNbFAsRUFDcEN5VixFQUF1QixNQUFidkcsRUFBbUJwUCxFQUFTQyxFQUN0Q3lJLEVBQW1CLE1BQWIwRyxFQUFtQixTQUFXLFFBQ3BDM0YsRUFBU25CLEVBQWM4RyxHQUN2QnhLLEVBQU02RSxFQUFTK0QsRUFBU2tJLEdBQ3hCL1EsRUFBTThFLEVBQVMrRCxFQUFTbUksR0FDeEJDLEVBQVdWLEdBQVUvSyxFQUFXekIsR0FBTyxFQUFJLEVBQzNDbU4sRUFBU3pMLElBQWMvSixFQUFRbVMsRUFBYzlKLEdBQU95QixFQUFXekIsR0FDL0RvTixFQUFTMUwsSUFBYy9KLEdBQVM4SixFQUFXekIsSUFBUThKLEVBQWM5SixHQUdqRUwsRUFBZXRGLEVBQU1HLFNBQVNpQixNQUM5QjJFLEVBQVlvTSxHQUFVN00sRUFBZTVDLEVBQWM0QyxHQUFnQixDQUNyRWhELE1BQU8sRUFDUEMsT0FBUSxHQUVOeVEsR0FBcUJoVCxFQUFNd0YsY0FBYyxvQkFBc0J4RixFQUFNd0YsY0FBYyxvQkFBb0JJLFF4QmhGdEcsQ0FDTDFFLElBQUssRUFDTGhFLE1BQU8sRUFDUEQsT0FBUSxFQUNSRSxLQUFNLEd3QjZFRjhWLEdBQWtCRCxHQUFtQkwsR0FDckNPLEdBQWtCRixHQUFtQkosR0FNckNPLEdBQVdwTyxFQUFPLEVBQUcwSyxFQUFjOUosR0FBTUksRUFBVUosSUFDbkR5TixHQUFZZCxFQUFrQjdDLEVBQWM5SixHQUFPLEVBQUlrTixFQUFXTSxHQUFXRixHQUFrQlQsRUFBNEJuRyxTQUFXeUcsRUFBU0ssR0FBV0YsR0FBa0JULEVBQTRCbkcsU0FDeE1nSCxHQUFZZixHQUFtQjdDLEVBQWM5SixHQUFPLEVBQUlrTixFQUFXTSxHQUFXRCxHQUFrQlYsRUFBNEJuRyxTQUFXMEcsRUFBU0ksR0FBV0QsR0FBa0JWLEVBQTRCbkcsU0FDek1qRyxHQUFvQnBHLEVBQU1HLFNBQVNpQixPQUFTOEMsRUFBZ0JsRSxFQUFNRyxTQUFTaUIsT0FDM0VrUyxHQUFlbE4sR0FBaUMsTUFBYmlHLEVBQW1CakcsR0FBa0JzRixXQUFhLEVBQUl0RixHQUFrQnVGLFlBQWMsRUFBSSxFQUM3SDRILEdBQXdILE9BQWpHYixFQUErQyxNQUF2QkQsT0FBOEIsRUFBU0EsRUFBb0JwRyxJQUFxQnFHLEVBQXdCLEVBRXZKYyxHQUFZOU0sRUFBUzJNLEdBQVlFLEdBQ2pDRSxHQUFrQjFPLEVBQU9vTixFQUFTLEVBQVF0USxFQUY5QjZFLEVBQVMwTSxHQUFZRyxHQUFzQkQsSUFFS3pSLEVBQUs2RSxFQUFReUwsRUFBUyxFQUFRdlEsRUFBSzRSLElBQWE1UixHQUNoSDJELEVBQWM4RyxHQUFZb0gsR0FDMUJ6SyxFQUFLcUQsR0FBWW9ILEdBQWtCL00sQ0FDckMsQ0FFQSxHQUFJNkgsRUFBYyxDQUNoQixJQUFJbUYsR0FFQUMsR0FBeUIsTUFBYnRILEVBQW1CLEVBQU1sUCxFQUVyQ3lXLEdBQXdCLE1BQWJ2SCxFQUFtQnBQLEVBQVNDLEVBRXZDMlcsR0FBVXRPLEVBQWMrSSxHQUV4QndGLEdBQW1CLE1BQVp4RixFQUFrQixTQUFXLFFBRXBDeUYsR0FBT0YsR0FBVXBKLEVBQVNrSixJQUUxQkssR0FBT0gsR0FBVXBKLEVBQVNtSixJQUUxQkssSUFBdUQsSUFBeEMsQ0FBQyxFQUFLOVcsR0FBTXVHLFFBQVErQixHQUVuQ3lPLEdBQXlILE9BQWpHUixHQUFnRCxNQUF2QmpCLE9BQThCLEVBQVNBLEVBQW9CbkUsSUFBb0JvRixHQUF5QixFQUV6SlMsR0FBYUYsR0FBZUYsR0FBT0YsR0FBVXBFLEVBQWNxRSxJQUFRMU0sRUFBVzBNLElBQVFJLEdBQXVCMUIsRUFBNEJsRSxRQUV6SThGLEdBQWFILEdBQWVKLEdBQVVwRSxFQUFjcUUsSUFBUTFNLEVBQVcwTSxJQUFRSSxHQUF1QjFCLEVBQTRCbEUsUUFBVTBGLEdBRTVJSyxHQUFtQmxDLEdBQVU4QixHMUJ6SDlCLFNBQXdCcFMsRUFBS3BCLEVBQU9tQixHQUN6QyxJQUFJMFMsRUFBSXZQLEVBQU9sRCxFQUFLcEIsRUFBT21CLEdBQzNCLE9BQU8wUyxFQUFJMVMsRUFBTUEsRUFBTTBTLENBQ3pCLEMwQnNIb0RDLENBQWVKLEdBQVlOLEdBQVNPLElBQWNyUCxFQUFPb04sRUFBU2dDLEdBQWFKLEdBQU1GLEdBQVMxQixFQUFTaUMsR0FBYUosSUFFcEt6TyxFQUFjK0ksR0FBVytGLEdBQ3pCckwsRUFBS3NGLEdBQVcrRixHQUFtQlIsRUFDckMsQ0FFQTdULEVBQU13RixjQUFjN0YsR0FBUXFKLENBdkU1QixDQXdFRixFQVFFakMsaUJBQWtCLENBQUMsV0UxSE4sU0FBU3lOLEdBQWlCQyxFQUF5QnhRLEVBQWN5RCxRQUM5RCxJQUFaQSxJQUNGQSxHQUFVLEdBR1osSUNuQm9DMUksRUNKT0osRUZ1QnZDOFYsRUFBMEJuVixFQUFjMEUsR0FDeEMwUSxFQUF1QnBWLEVBQWMwRSxJQWYzQyxTQUF5QnJGLEdBQ3ZCLElBQUlxRCxFQUFPckQsRUFBUW1ELHdCQUNmRyxFQUFTSixFQUFNRyxFQUFLSyxPQUFTMUQsRUFBUXlELGFBQWUsRUFDcERGLEVBQVNMLEVBQU1HLEVBQUtNLFFBQVUzRCxFQUFRd0QsY0FBZ0IsRUFDMUQsT0FBa0IsSUFBWEYsR0FBMkIsSUFBWEMsQ0FDekIsQ0FVNER5UyxDQUFnQjNRLEdBQ3RFSixFQUFrQkYsRUFBbUJNLEdBQ3JDaEMsRUFBT0YsRUFBc0IwUyxFQUF5QkUsR0FDdER2TCxFQUFTLENBQ1hjLFdBQVksRUFDWkUsVUFBVyxHQUVUOUMsRUFBVSxDQUNaOUUsRUFBRyxFQUNIQyxFQUFHLEdBa0JMLE9BZklpUyxJQUE0QkEsSUFBNEJoTixNQUN4QixTQUE5Qi9JLEVBQVlzRixJQUNoQnNHLEdBQWUxRyxNQUNidUYsR0NuQ2dDcEssRURtQ1RpRixLQ2xDZGxGLEVBQVVDLElBQVVPLEVBQWNQLEdDSnhDLENBQ0xrTCxZQUZ5Q3RMLEVEUWJJLEdDTlJrTCxXQUNwQkUsVUFBV3hMLEVBQVF3TCxXREdaSCxHQUFnQmpMLElEb0NuQk8sRUFBYzBFLEtBQ2hCcUQsRUFBVXZGLEVBQXNCa0MsR0FBYyxJQUN0Q3pCLEdBQUt5QixFQUFhMEgsV0FDMUJyRSxFQUFRN0UsR0FBS3dCLEVBQWF5SCxXQUNqQjdILElBQ1R5RCxFQUFROUUsRUFBSThILEdBQW9CekcsS0FJN0IsQ0FDTHJCLEVBQUdQLEVBQUs5RSxLQUFPaU0sRUFBT2MsV0FBYTVDLEVBQVE5RSxFQUMzQ0MsRUFBR1IsRUFBS2YsSUFBTWtJLEVBQU9nQixVQUFZOUMsRUFBUTdFLEVBQ3pDSCxNQUFPTCxFQUFLSyxNQUNaQyxPQUFRTixFQUFLTSxPQUVqQixDR3ZEQSxTQUFTc1MsR0FBTUMsR0FDYixJQUFJQyxFQUFNLElBQUlwRixJQUNWcUYsRUFBVSxJQUFJQyxJQUNkQyxFQUFTLEdBS2IsU0FBUzdGLEVBQUs4RixHQUNaSCxFQUFRSSxJQUFJRCxFQUFTeFYsTUFDTixHQUFHM0IsT0FBT21YLEVBQVMzVCxVQUFZLEdBQUkyVCxFQUFTcE8sa0JBQW9CLElBQ3RFM0csU0FBUSxTQUFVaVYsR0FDekIsSUFBS0wsRUFBUU0sSUFBSUQsR0FBTSxDQUNyQixJQUFJRSxFQUFjUixFQUFJbEUsSUFBSXdFLEdBRXRCRSxHQUNGbEcsRUFBS2tHLEVBRVQsQ0FDRixJQUNBTCxFQUFPN0UsS0FBSzhFLEVBQ2QsQ0FRQSxPQXpCQUwsRUFBVTFVLFNBQVEsU0FBVStVLEdBQzFCSixFQUFJdkUsSUFBSTJFLEVBQVN4VixLQUFNd1YsRUFDekIsSUFpQkFMLEVBQVUxVSxTQUFRLFNBQVUrVSxHQUNyQkgsRUFBUU0sSUFBSUgsRUFBU3hWLE9BRXhCMFAsRUFBSzhGLEVBRVQsSUFDT0QsQ0FDVCxDQ2xCQSxJQUVJTSxHQUFrQixDQUNwQnpYLFVBQVcsU0FDWCtXLFVBQVcsR0FDWDdULFNBQVUsWUFHWixTQUFTd1UsS0FDUCxJQUFLLElBQUkzQixFQUFPNEIsVUFBVXZHLE9BQVF3RyxFQUFPLElBQUlDLE1BQU05QixHQUFPK0IsRUFBTyxFQUFHQSxFQUFPL0IsRUFBTStCLElBQy9FRixFQUFLRSxHQUFRSCxVQUFVRyxHQUd6QixPQUFRRixFQUFLeEUsTUFBSyxTQUFVdlMsR0FDMUIsUUFBU0EsR0FBb0QsbUJBQWxDQSxFQUFRbUQsc0JBQ3JDLEdBQ0YsQ0FFTyxTQUFTK1QsR0FBZ0JDLFFBQ0wsSUFBckJBLElBQ0ZBLEVBQW1CLENBQUMsR0FHdEIsSUFBSUMsRUFBb0JELEVBQ3BCRSxFQUF3QkQsRUFBa0JFLGlCQUMxQ0EsT0FBNkMsSUFBMUJELEVBQW1DLEdBQUtBLEVBQzNERSxFQUF5QkgsRUFBa0JJLGVBQzNDQSxPQUE0QyxJQUEzQkQsRUFBb0NYLEdBQWtCVyxFQUMzRSxPQUFPLFNBQXNCeFksRUFBV0QsRUFBUXNELFFBQzlCLElBQVpBLElBQ0ZBLEVBQVVvVixHQUdaLElDL0M2QnRXLEVBQzNCdVcsRUQ4Q0VyVyxFQUFRLENBQ1ZqQyxVQUFXLFNBQ1h1WSxpQkFBa0IsR0FDbEJ0VixRQUFTZixPQUFPTyxPQUFPLENBQUMsRUFBR2dWLEdBQWlCWSxHQUM1QzVRLGNBQWUsQ0FBQyxFQUNoQnJGLFNBQVUsQ0FDUnhDLFVBQVdBLEVBQ1hELE9BQVFBLEdBRVY2QyxXQUFZLENBQUMsRUFDYkQsT0FBUSxDQUFDLEdBRVBpVyxFQUFtQixHQUNuQkMsR0FBYyxFQUNkdE4sRUFBVyxDQUNibEosTUFBT0EsRUFDUHlXLFdBQVksU0FBb0JDLEdBQzlCLElBQUkxVixFQUFzQyxtQkFBckIwVixFQUFrQ0EsRUFBaUIxVyxFQUFNZ0IsU0FBVzBWLEVBQ3pGQyxJQUNBM1csRUFBTWdCLFFBQVVmLE9BQU9PLE9BQU8sQ0FBQyxFQUFHNFYsRUFBZ0JwVyxFQUFNZ0IsUUFBU0EsR0FDakVoQixFQUFNdUosY0FBZ0IsQ0FDcEI1TCxVQUFXMEIsRUFBVTFCLEdBQWFvTixHQUFrQnBOLEdBQWFBLEVBQVVnUSxlQUFpQjVDLEdBQWtCcE4sRUFBVWdRLGdCQUFrQixHQUMxSWpRLE9BQVFxTixHQUFrQnJOLElBSTVCLElFekU0Qm9YLEVBQzlCOEIsRUZ3RU1OLEVEdkNHLFNBQXdCeEIsR0FFckMsSUFBSXdCLEVBQW1CekIsR0FBTUMsR0FFN0IsT0FBT3BXLEVBQWViLFFBQU8sU0FBVUMsRUFBSytCLEdBQzFDLE9BQU8vQixFQUFJRSxPQUFPc1ksRUFBaUIxUixRQUFPLFNBQVV1USxHQUNsRCxPQUFPQSxFQUFTdFYsUUFBVUEsQ0FDNUIsSUFDRixHQUFHLEdBQ0wsQ0M4QitCZ1gsRUV6RUsvQixFRnlFc0IsR0FBRzlXLE9BQU9rWSxFQUFrQmxXLEVBQU1nQixRQUFROFQsV0V4RTlGOEIsRUFBUzlCLEVBQVVqWCxRQUFPLFNBQVUrWSxFQUFRRSxHQUM5QyxJQUFJQyxFQUFXSCxFQUFPRSxFQUFRblgsTUFLOUIsT0FKQWlYLEVBQU9FLEVBQVFuWCxNQUFRb1gsRUFBVzlXLE9BQU9PLE9BQU8sQ0FBQyxFQUFHdVcsRUFBVUQsRUFBUyxDQUNyRTlWLFFBQVNmLE9BQU9PLE9BQU8sQ0FBQyxFQUFHdVcsRUFBUy9WLFFBQVM4VixFQUFROVYsU0FDckRnSSxLQUFNL0ksT0FBT08sT0FBTyxDQUFDLEVBQUd1VyxFQUFTL04sS0FBTThOLEVBQVE5TixRQUM1QzhOLEVBQ0VGLENBQ1QsR0FBRyxDQUFDLEdBRUczVyxPQUFPQyxLQUFLMFcsR0FBUTdCLEtBQUksU0FBVTNQLEdBQ3ZDLE9BQU93UixFQUFPeFIsRUFDaEIsTUZzR00sT0F2Q0FwRixFQUFNc1csaUJBQW1CQSxFQUFpQjFSLFFBQU8sU0FBVW9TLEdBQ3pELE9BQU9BLEVBQUVwWCxPQUNYLElBb0pGSSxFQUFNc1csaUJBQWlCbFcsU0FBUSxTQUFVeUgsR0FDdkMsSUFBSWxJLEVBQU9rSSxFQUFNbEksS0FDYnNYLEVBQWdCcFAsRUFBTTdHLFFBQ3RCQSxPQUE0QixJQUFsQmlXLEVBQTJCLENBQUMsRUFBSUEsRUFDMUNyVyxFQUFTaUgsRUFBTWpILE9BRW5CLEdBQXNCLG1CQUFYQSxFQUF1QixDQUNoQyxJQUFJc1csRUFBWXRXLEVBQU8sQ0FDckJaLE1BQU9BLEVBQ1BMLEtBQU1BLEVBQ051SixTQUFVQSxFQUNWbEksUUFBU0EsSUFLWHVWLEVBQWlCbEcsS0FBSzZHLEdBRlQsV0FBbUIsRUFHbEMsQ0FDRixJQWpJU2hPLEVBQVNRLFFBQ2xCLEVBTUF5TixZQUFhLFdBQ1gsSUFBSVgsRUFBSixDQUlBLElBQUlZLEVBQWtCcFgsRUFBTUcsU0FDeEJ4QyxFQUFZeVosRUFBZ0J6WixVQUM1QkQsRUFBUzBaLEVBQWdCMVosT0FHN0IsR0FBSytYLEdBQWlCOVgsRUFBV0QsR0FBakMsQ0FTQXNDLEVBQU02RixNQUFRLENBQ1psSSxVQUFXNlcsR0FBaUI3VyxFQUFXdUcsRUFBZ0J4RyxHQUFvQyxVQUEzQnNDLEVBQU1nQixRQUFRQyxVQUM5RXZELE9BQVFnRixFQUFjaEYsSUFPeEJzQyxFQUFNK1EsT0FBUSxFQUNkL1EsRUFBTWpDLFVBQVlpQyxFQUFNZ0IsUUFBUWpELFVBS2hDaUMsRUFBTXNXLGlCQUFpQmxXLFNBQVEsU0FBVStVLEdBQ3ZDLE9BQU9uVixFQUFNd0YsY0FBYzJQLEVBQVN4VixNQUFRTSxPQUFPTyxPQUFPLENBQUMsRUFBRzJVLEVBQVNuTSxLQUN6RSxJQUdBLElBRkEsSUFFU3FPLEVBQVEsRUFBR0EsRUFBUXJYLEVBQU1zVyxpQkFBaUJuSCxPQUFRa0ksSUFVekQsSUFBb0IsSUFBaEJyWCxFQUFNK1EsTUFBVixDQU1BLElBQUl1RyxFQUF3QnRYLEVBQU1zVyxpQkFBaUJlLEdBQy9DdlgsRUFBS3dYLEVBQXNCeFgsR0FDM0J5WCxFQUF5QkQsRUFBc0J0VyxRQUMvQ3VMLE9BQXNDLElBQTNCZ0wsRUFBb0MsQ0FBQyxFQUFJQSxFQUNwRDVYLEVBQU8yWCxFQUFzQjNYLEtBRWYsbUJBQVBHLElBQ1RFLEVBQVFGLEVBQUcsQ0FDVEUsTUFBT0EsRUFDUGdCLFFBQVN1TCxFQUNUNU0sS0FBTUEsRUFDTnVKLFNBQVVBLEtBQ05sSixFQWRSLE1BSEVBLEVBQU0rUSxPQUFRLEVBQ2RzRyxHQUFTLENBbkNiLENBYkEsQ0FtRUYsRUFHQTNOLFFDbE0yQjVKLEVEa01WLFdBQ2YsT0FBTyxJQUFJMFgsU0FBUSxTQUFVQyxHQUMzQnZPLEVBQVNpTyxjQUNUTSxFQUFRelgsRUFDVixHQUNGLEVDck1HLFdBVUwsT0FUS3FXLElBQ0hBLEVBQVUsSUFBSW1CLFNBQVEsU0FBVUMsR0FDOUJELFFBQVFDLFVBQVVDLE1BQUssV0FDckJyQixPQUFVc0IsRUFDVkYsRUFBUTNYLElBQ1YsR0FDRixLQUdLdVcsQ0FDVCxHRDJMSXVCLFFBQVMsV0FDUGpCLElBQ0FILEdBQWMsQ0FDaEIsR0FHRixJQUFLZixHQUFpQjlYLEVBQVdELEdBSy9CLE9BQU93TCxFQW1DVCxTQUFTeU4sSUFDUEosRUFBaUJuVyxTQUFRLFNBQVVOLEdBQ2pDLE9BQU9BLEdBQ1QsSUFDQXlXLEVBQW1CLEVBQ3JCLENBRUEsT0F2Q0FyTixFQUFTdU4sV0FBV3pWLEdBQVMwVyxNQUFLLFNBQVUxWCxJQUNyQ3dXLEdBQWV4VixFQUFRNlcsZUFDMUI3VyxFQUFRNlcsY0FBYzdYLEVBRTFCLElBbUNPa0osQ0FDVCxDQUNGLENBQ08sSUFBSTRPLEdBQTRCaEMsS0dyUG5DLEdBQTRCQSxHQUFnQixDQUM5Q0ksaUJBRnFCLENBQUM2QixHQUFnQixHQUFlLEdBQWUsRUFBYSxHQUFRLEdBQU0sR0FBaUIsRUFBTyxNQ0pySCxHQUE0QmpDLEdBQWdCLENBQzlDSSxpQkFGcUIsQ0FBQzZCLEdBQWdCLEdBQWUsR0FBZSxLQ1F0RSxNQUVNQyxHQUFpQixnQkFzQmpCQyxHQUFjclosSUFDbEIsSUFBSXNaLEVBQVd0WixFQUFRdVosYUFBYSxrQkFFcEMsSUFBS0QsR0FBeUIsTUFBYkEsRUFBa0IsQ0FDakMsSUFBSUUsRUFBZ0J4WixFQUFRdVosYUFBYSxRQUt6QyxJQUFLQyxJQUFrQkEsRUFBY0MsU0FBUyxPQUFTRCxFQUFjRSxXQUFXLEtBQzlFLE9BQU8sS0FJTEYsRUFBY0MsU0FBUyxPQUFTRCxFQUFjRSxXQUFXLE9BQzNERixFQUFnQixJQUFJQSxFQUFjMVcsTUFBTSxLQUFLLE1BRy9Dd1csRUFBV0UsR0FBbUMsTUFBbEJBLEVBQXdCQSxFQUFjRyxPQUFTLElBQzdFLENBRUEsT0FBT0wsQ0FBUSxFQUdYTSxHQUF5QjVaLElBQzdCLE1BQU1zWixFQUFXRCxHQUFZclosR0FFN0IsT0FBSXNaLEdBQ0t0VSxTQUFTa0QsY0FBY29SLEdBQVlBLEVBR3JDLElBQUksRUFHUE8sR0FBeUI3WixJQUM3QixNQUFNc1osRUFBV0QsR0FBWXJaLEdBQzdCLE9BQU9zWixFQUFXdFUsU0FBU2tELGNBQWNvUixHQUFZLElBQUksRUEwQnJEUSxHQUF1QjlaLElBQzNCQSxFQUFRK1osY0FBYyxJQUFJQyxNQUFNWixJQUFnQixFQUc1QyxHQUFZYSxNQUNYQSxHQUE0QixpQkFBWEEsVUFJTyxJQUFsQkEsRUFBT0MsU0FDaEJELEVBQVNBLEVBQU8sU0FHZ0IsSUFBcEJBLEVBQU9FLFVBR2pCQyxHQUFhSCxHQUViLEdBQVVBLEdBQ0xBLEVBQU9DLE9BQVNELEVBQU8sR0FBS0EsRUFHZixpQkFBWEEsR0FBdUJBLEVBQU8xSixPQUFTLEVBQ3pDdkwsU0FBU2tELGNBQWMrUixHQUd6QixLQUdISSxHQUFZcmEsSUFDaEIsSUFBSyxHQUFVQSxJQUFnRCxJQUFwQ0EsRUFBUXNhLGlCQUFpQi9KLE9BQ2xELE9BQU8sRUFHVCxNQUFNZ0ssRUFBZ0YsWUFBN0QzVixpQkFBaUI1RSxHQUFTd2EsaUJBQWlCLGNBRTlEQyxFQUFnQnphLEVBQVEwYSxRQUFRLHVCQUV0QyxJQUFLRCxFQUNILE9BQU9GLEVBR1QsR0FBSUUsSUFBa0J6YSxFQUFTLENBQzdCLE1BQU0yYSxFQUFVM2EsRUFBUTBhLFFBQVEsV0FFaEMsR0FBSUMsR0FBV0EsRUFBUWpXLGFBQWUrVixFQUNwQyxPQUFPLEVBR1QsR0FBZ0IsT0FBWkUsRUFDRixPQUFPLENBRVgsQ0FFQSxPQUFPSixDQUFnQixFQUduQkssR0FBYTVhLElBQ1pBLEdBQVdBLEVBQVFtYSxXQUFhVSxLQUFLQyxnQkFJdEM5YSxFQUFRK2EsVUFBVTVXLFNBQVMsbUJBSUMsSUFBckJuRSxFQUFRZ2IsU0FDVmhiLEVBQVFnYixTQUdWaGIsRUFBUWliLGFBQWEsYUFBb0QsVUFBckNqYixFQUFRdVosYUFBYSxhQUc1RDJCLEdBQWlCbGIsSUFDckIsSUFBS2dGLFNBQVNDLGdCQUFnQmtXLGFBQzVCLE9BQU8sS0FJVCxHQUFtQyxtQkFBeEJuYixFQUFRdUUsWUFBNEIsQ0FDN0MsTUFBTTZXLEVBQU9wYixFQUFRdUUsY0FDckIsT0FBTzZXLGFBQWdCdGEsV0FBYXNhLEVBQU8sSUFDN0MsQ0FFQSxPQUFJcGIsYUFBbUJjLFdBQ2RkLEVBSUpBLEVBQVEwRSxXQUlOd1csR0FBZWxiLEVBQVEwRSxZQUhyQixJQUdnQyxFQUdyQzJXLEdBQU8sT0FXUEMsR0FBU3RiLElBQ2JBLEVBQVF3RCxZQUFZLEVBR2hCK1gsR0FBWSxJQUNabGIsT0FBT21iLFNBQVd4VyxTQUFTa0gsS0FBSytPLGFBQWEscUJBQ3hDNWEsT0FBT21iLE9BR1QsS0FHSEMsR0FBNEIsR0FtQjVCQyxHQUFRLElBQXVDLFFBQWpDMVcsU0FBU0MsZ0JBQWdCMFcsSUFFdkNDLEdBQXFCQyxJQW5CQUMsUUFvQk4sS0FDakIsTUFBTUMsRUFBSVIsS0FHVixHQUFJUSxFQUFHLENBQ0wsTUFBTWhiLEVBQU84YSxFQUFPRyxLQUNkQyxFQUFxQkYsRUFBRTdhLEdBQUdILEdBQ2hDZ2IsRUFBRTdhLEdBQUdILEdBQVE4YSxFQUFPSyxnQkFDcEJILEVBQUU3YSxHQUFHSCxHQUFNb2IsWUFBY04sRUFFekJFLEVBQUU3YSxHQUFHSCxHQUFNcWIsV0FBYSxLQUN0QkwsRUFBRTdhLEdBQUdILEdBQVFrYixFQUNOSixFQUFPSyxnQkFFbEIsR0FqQzBCLFlBQXhCbFgsU0FBU3FYLFlBRU5aLEdBQTBCbEwsUUFDN0J2TCxTQUFTNkYsaUJBQWlCLG9CQUFvQixLQUM1QyxJQUFLLE1BQU1pUixLQUFZTCxHQUNyQkssR0FDRixJQUlKTCxHQUEwQmhLLEtBQUtxSyxJQUUvQkEsR0FzQkEsRUFHRVEsR0FBVVIsSUFDVSxtQkFBYkEsR0FDVEEsR0FDRixFQUdJUyxHQUF5QixDQUFDVCxFQUFVVSxFQUFtQkMsR0FBb0IsS0FDL0UsSUFBS0EsRUFFSCxZQURBSCxHQUFRUixHQUlWLE1BQ01ZLEVBbk1pQzFjLEtBQ3ZDLElBQUtBLEVBQ0gsT0FBTyxFQUlULElBQUksbUJBQ0YyYyxFQUFrQixnQkFDbEJDLEdBQ0V2YyxPQUFPdUUsaUJBQWlCNUUsR0FDNUIsTUFBTTZjLEVBQTBCQyxPQUFPQyxXQUFXSixHQUM1Q0ssRUFBdUJGLE9BQU9DLFdBQVdILEdBRS9DLE9BQUtDLEdBQTRCRyxHQUtqQ0wsRUFBcUJBLEVBQW1CN1osTUFBTSxLQUFLLEdBQ25EOFosRUFBa0JBLEVBQWdCOVosTUFBTSxLQUFLLEdBakZmLEtBa0Z0QmdhLE9BQU9DLFdBQVdKLEdBQXNCRyxPQUFPQyxXQUFXSCxLQU56RCxDQU1vRyxFQStLcEZLLENBQWlDVCxHQURsQyxFQUV4QixJQUFJVSxHQUFTLEVBRWIsTUFBTUMsRUFBVSxFQUNkNVEsYUFFSUEsSUFBV2lRLElBSWZVLEdBQVMsRUFDVFYsRUFBa0J6UixvQkFBb0JxTyxHQUFnQitELEdBQ3REYixHQUFRUixHQUFTLEVBR25CVSxFQUFrQjNSLGlCQUFpQnVPLEdBQWdCK0QsR0FDbkRDLFlBQVcsS0FDSkYsR0FDSHBELEdBQXFCMEMsRUFDdkIsR0FDQ0UsRUFBaUIsRUFhaEJXLEdBQXVCLENBQUNqUixFQUFNa1IsRUFBZUMsRUFBZUMsS0FDaEUsTUFBTUMsRUFBYXJSLEVBQUttRSxPQUN4QixJQUFJa0ksRUFBUXJNLEVBQUt0SCxRQUFRd1ksR0FHekIsT0FBZSxJQUFYN0UsR0FDTThFLEdBQWlCQyxFQUFpQnBSLEVBQUtxUixFQUFhLEdBQUtyUixFQUFLLElBR3hFcU0sR0FBUzhFLEVBQWdCLEdBQUssRUFFMUJDLElBQ0YvRSxHQUFTQSxFQUFRZ0YsR0FBY0EsR0FHMUJyUixFQUFLckosS0FBS0MsSUFBSSxFQUFHRCxLQUFLRSxJQUFJd1YsRUFBT2dGLEVBQWEsS0FBSSxFQWFyREMsR0FBaUIscUJBQ2pCQyxHQUFpQixPQUNqQkMsR0FBZ0IsU0FDaEJDLEdBQWdCLENBQUMsRUFFdkIsSUFBSUMsR0FBVyxFQUNmLE1BQU1DLEdBQWUsQ0FDbkJDLFdBQVksWUFDWkMsV0FBWSxZQUVSQyxHQUFlLElBQUk3SCxJQUFJLENBQUMsUUFBUyxXQUFZLFVBQVcsWUFBYSxjQUFlLGFBQWMsaUJBQWtCLFlBQWEsV0FBWSxZQUFhLGNBQWUsWUFBYSxVQUFXLFdBQVksUUFBUyxvQkFBcUIsYUFBYyxZQUFhLFdBQVksY0FBZSxjQUFlLGNBQWUsWUFBYSxlQUFnQixnQkFBaUIsZUFBZ0IsZ0JBQWlCLGFBQWMsUUFBUyxPQUFRLFNBQVUsUUFBUyxTQUFVLFNBQVUsVUFBVyxXQUFZLE9BQVEsU0FBVSxlQUFnQixTQUFVLE9BQVEsbUJBQW9CLG1CQUFvQixRQUFTLFFBQVMsV0FLL2xCLFNBQVM4SCxHQUFhbmUsRUFBU29lLEdBQzdCLE9BQU9BLEdBQU8sR0FBR0EsTUFBUU4sUUFBZ0I5ZCxFQUFROGQsVUFBWUEsSUFDL0QsQ0FFQSxTQUFTTyxHQUFpQnJlLEdBQ3hCLE1BQU1vZSxFQUFNRCxHQUFhbmUsR0FHekIsT0FGQUEsRUFBUThkLFNBQVdNLEVBQ25CUCxHQUFjTyxHQUFPUCxHQUFjTyxJQUFRLENBQUMsRUFDckNQLEdBQWNPLEVBQ3ZCLENBMENBLFNBQVNFLEdBQVlDLEVBQVFDLEVBQVVDLEVBQXFCLE1BQzFELE9BQU9wZCxPQUFPcWQsT0FBT0gsR0FBUXZNLE1BQUsyTSxHQUFTQSxFQUFNSCxXQUFhQSxHQUFZRyxFQUFNRixxQkFBdUJBLEdBQ3pHLENBRUEsU0FBU0csR0FBb0JDLEVBQW1CMUIsRUFBUzJCLEdBQ3ZELE1BQU1DLEVBQWlDLGlCQUFaNUIsRUFFckJxQixFQUFXTyxFQUFjRCxFQUFxQjNCLEdBQVcyQixFQUMvRCxJQUFJRSxFQUFZQyxHQUFhSixHQU03QixPQUpLWCxHQUFheEgsSUFBSXNJLEtBQ3BCQSxFQUFZSCxHQUdQLENBQUNFLEVBQWFQLEVBQVVRLEVBQ2pDLENBRUEsU0FBU0UsR0FBV2xmLEVBQVM2ZSxFQUFtQjFCLEVBQVMyQixFQUFvQkssR0FDM0UsR0FBaUMsaUJBQXRCTixJQUFtQzdlLEVBQzVDLE9BR0YsSUFBSytlLEVBQWFQLEVBQVVRLEdBQWFKLEdBQW9CQyxFQUFtQjFCLEVBQVMyQixHQUd6RixHQUFJRCxLQUFxQmQsR0FBYyxDQUNyQyxNQUFNcUIsRUFBZWxlLEdBQ1osU0FBVXlkLEdBQ2YsSUFBS0EsRUFBTVUsZUFBaUJWLEVBQU1VLGdCQUFrQlYsRUFBTVcsaUJBQW1CWCxFQUFNVyxlQUFlbmIsU0FBU3dhLEVBQU1VLGVBQy9HLE9BQU9uZSxFQUFHcWUsS0FBS0MsS0FBTWIsRUFFekIsRUFHRkgsRUFBV1ksRUFBYVosRUFDMUIsQ0FFQSxNQUFNRCxFQUFTRixHQUFpQnJlLEdBQzFCeWYsRUFBV2xCLEVBQU9TLEtBQWVULEVBQU9TLEdBQWEsQ0FBQyxHQUN0RFUsRUFBbUJwQixHQUFZbUIsRUFBVWpCLEVBQVVPLEVBQWM1QixFQUFVLE1BRWpGLEdBQUl1QyxFQUVGLFlBREFBLEVBQWlCUCxPQUFTTyxFQUFpQlAsUUFBVUEsR0FJdkQsTUFBTWYsRUFBTUQsR0FBYUssRUFBVUssRUFBa0IzVCxRQUFRd1MsR0FBZ0IsS0FDdkV4YyxFQUFLNmQsRUF6RWIsU0FBb0MvZSxFQUFTc1osRUFBVXBZLEdBQ3JELE9BQU8sU0FBU2ljLEVBQVF3QixHQUN0QixNQUFNZ0IsRUFBYzNmLEVBQVE0ZixpQkFBaUJ0RyxHQUU3QyxJQUFLLElBQUksT0FDUC9NLEdBQ0VvUyxFQUFPcFMsR0FBVUEsSUFBV2lULEtBQU1qVCxFQUFTQSxFQUFPN0gsV0FDcEQsSUFBSyxNQUFNbWIsS0FBY0YsRUFDdkIsR0FBSUUsSUFBZXRULEVBWW5CLE9BUkF1VCxHQUFXbkIsRUFBTyxDQUNoQlcsZUFBZ0IvUyxJQUdkNFEsRUFBUWdDLFFBQ1ZZLEdBQWFDLElBQUloZ0IsRUFBUzJlLEVBQU1zQixLQUFNM0csRUFBVXBZLEdBRzNDQSxFQUFHZ2YsTUFBTTNULEVBQVEsQ0FBQ29TLEdBRy9CLENBQ0YsQ0FpRDJCd0IsQ0FBMkJuZ0IsRUFBU21kLEVBQVNxQixHQXZGeEUsU0FBMEJ4ZSxFQUFTa0IsR0FDakMsT0FBTyxTQUFTaWMsRUFBUXdCLEdBU3RCLE9BUkFtQixHQUFXbkIsRUFBTyxDQUNoQlcsZUFBZ0J0ZixJQUdkbWQsRUFBUWdDLFFBQ1ZZLEdBQWFDLElBQUloZ0IsRUFBUzJlLEVBQU1zQixLQUFNL2UsR0FHakNBLEVBQUdnZixNQUFNbGdCLEVBQVMsQ0FBQzJlLEdBQzVCLENBQ0YsQ0EyRW9GeUIsQ0FBaUJwZ0IsRUFBU3dlLEdBQzVHdGQsRUFBR3VkLG1CQUFxQk0sRUFBYzVCLEVBQVUsS0FDaERqYyxFQUFHc2QsU0FBV0EsRUFDZHRkLEVBQUdpZSxPQUFTQSxFQUNaamUsRUFBRzRjLFNBQVdNLEVBQ2RxQixFQUFTckIsR0FBT2xkLEVBQ2hCbEIsRUFBUTZLLGlCQUFpQm1VLEVBQVc5ZCxFQUFJNmQsRUFDMUMsQ0FFQSxTQUFTc0IsR0FBY3JnQixFQUFTdWUsRUFBUVMsRUFBVzdCLEVBQVNzQixHQUMxRCxNQUFNdmQsRUFBS29kLEdBQVlDLEVBQU9TLEdBQVk3QixFQUFTc0IsR0FFOUN2ZCxJQUlMbEIsRUFBUStLLG9CQUFvQmlVLEVBQVc5ZCxFQUFJb2YsUUFBUTdCLFdBQzVDRixFQUFPUyxHQUFXOWQsRUFBRzRjLFVBQzlCLENBRUEsU0FBU3lDLEdBQXlCdmdCLEVBQVN1ZSxFQUFRUyxFQUFXd0IsR0FDNUQsTUFBTUMsRUFBb0JsQyxFQUFPUyxJQUFjLENBQUMsRUFFaEQsSUFBSyxNQUFNMEIsS0FBY3JmLE9BQU9DLEtBQUttZixHQUNuQyxHQUFJQyxFQUFXakgsU0FBUytHLEdBQVksQ0FDbEMsTUFBTTdCLEVBQVE4QixFQUFrQkMsR0FDaENMLEdBQWNyZ0IsRUFBU3VlLEVBQVFTLEVBQVdMLEVBQU1ILFNBQVVHLEVBQU1GLG1CQUNsRSxDQUVKLENBRUEsU0FBU1EsR0FBYU4sR0FHcEIsT0FEQUEsRUFBUUEsRUFBTXpULFFBQVF5UyxHQUFnQixJQUMvQkksR0FBYVksSUFBVUEsQ0FDaEMsQ0FFQSxNQUFNb0IsR0FBZSxDQUNuQlksR0FBRzNnQixFQUFTMmUsRUFBT3hCLEVBQVMyQixHQUMxQkksR0FBV2xmLEVBQVMyZSxFQUFPeEIsRUFBUzJCLEdBQW9CLEVBQzFELEVBRUE4QixJQUFJNWdCLEVBQVMyZSxFQUFPeEIsRUFBUzJCLEdBQzNCSSxHQUFXbGYsRUFBUzJlLEVBQU94QixFQUFTMkIsR0FBb0IsRUFDMUQsRUFFQWtCLElBQUloZ0IsRUFBUzZlLEVBQW1CMUIsRUFBUzJCLEdBQ3ZDLEdBQWlDLGlCQUF0QkQsSUFBbUM3ZSxFQUM1QyxPQUdGLE1BQU8rZSxFQUFhUCxFQUFVUSxHQUFhSixHQUFvQkMsRUFBbUIxQixFQUFTMkIsR0FDckYrQixFQUFjN0IsSUFBY0gsRUFDNUJOLEVBQVNGLEdBQWlCcmUsR0FDMUJ5Z0IsRUFBb0JsQyxFQUFPUyxJQUFjLENBQUMsRUFDMUM4QixFQUFjakMsRUFBa0JuRixXQUFXLEtBRWpELFFBQXdCLElBQWI4RSxFQUFYLENBVUEsR0FBSXNDLEVBQ0YsSUFBSyxNQUFNQyxLQUFnQjFmLE9BQU9DLEtBQUtpZCxHQUNyQ2dDLEdBQXlCdmdCLEVBQVN1ZSxFQUFRd0MsRUFBY2xDLEVBQWtCM00sTUFBTSxJQUlwRixJQUFLLE1BQU04TyxLQUFlM2YsT0FBT0MsS0FBS21mLEdBQW9CLENBQ3hELE1BQU1DLEVBQWFNLEVBQVk5VixRQUFRMFMsR0FBZSxJQUV0RCxJQUFLaUQsR0FBZWhDLEVBQWtCcEYsU0FBU2lILEdBQWEsQ0FDMUQsTUFBTS9CLEVBQVE4QixFQUFrQk8sR0FDaENYLEdBQWNyZ0IsRUFBU3VlLEVBQVFTLEVBQVdMLEVBQU1ILFNBQVVHLEVBQU1GLG1CQUNsRSxDQUNGLENBZkEsS0FSQSxDQUVFLElBQUtwZCxPQUFPQyxLQUFLbWYsR0FBbUJsUSxPQUNsQyxPQUdGOFAsR0FBY3JnQixFQUFTdWUsRUFBUVMsRUFBV1IsRUFBVU8sRUFBYzVCLEVBQVUsS0FFOUUsQ0FnQkYsRUFFQThELFFBQVFqaEIsRUFBUzJlLEVBQU81SCxHQUN0QixHQUFxQixpQkFBVjRILElBQXVCM2UsRUFDaEMsT0FBTyxLQUdULE1BQU0rYixFQUFJUixLQUdWLElBQUkyRixFQUFjLEtBQ2RDLEdBQVUsRUFDVkMsR0FBaUIsRUFDakJDLEdBQW1CLEVBSkgxQyxJQURGTSxHQUFhTixJQU9aNUMsSUFDakJtRixFQUFjbkYsRUFBRS9CLE1BQU0yRSxFQUFPNUgsR0FDN0JnRixFQUFFL2IsR0FBU2loQixRQUFRQyxHQUNuQkMsR0FBV0QsRUFBWUksdUJBQ3ZCRixHQUFrQkYsRUFBWUssZ0NBQzlCRixFQUFtQkgsRUFBWU0sc0JBR2pDLElBQUlDLEVBQU0sSUFBSXpILE1BQU0yRSxFQUFPLENBQ3pCd0MsVUFDQU8sWUFBWSxJQWdCZCxPQWRBRCxFQUFNM0IsR0FBVzJCLEVBQUsxSyxHQUVsQnNLLEdBQ0ZJLEVBQUlFLGlCQUdGUCxHQUNGcGhCLEVBQVErWixjQUFjMEgsR0FHcEJBLEVBQUlKLGtCQUFvQkgsR0FDMUJBLEVBQVlTLGlCQUdQRixDQUNULEdBSUYsU0FBUzNCLEdBQVc4QixFQUFLQyxHQUN2QixJQUFLLE1BQU9yYixFQUFLM0UsS0FBVVIsT0FBT3lnQixRQUFRRCxHQUFRLENBQUMsR0FDakQsSUFDRUQsRUFBSXBiLEdBQU8zRSxDQVViLENBVEUsTUFBT2tnQixHQUNQMWdCLE9BQU8yZ0IsZUFBZUosRUFBS3BiLEVBQUssQ0FDOUJ5YixjQUFjLEVBRWRoUSxJQUFHLElBQ01wUSxHQUliLENBR0YsT0FBTytmLENBQ1QsQ0FZQSxNQUFNTSxHQUFhLElBQUluUixJQUNqQm9SLEdBQU8sQ0FDWHZRLElBQUk1UixFQUFTd0csRUFBSzhELEdBQ1g0WCxHQUFXeEwsSUFBSTFXLElBQ2xCa2lCLEdBQVd0USxJQUFJNVIsRUFBUyxJQUFJK1EsS0FHOUIsTUFBTXFSLEVBQWNGLEdBQVdqUSxJQUFJalMsR0FHOUJvaUIsRUFBWTFMLElBQUlsUSxJQUE2QixJQUFyQjRiLEVBQVlDLEtBTXpDRCxFQUFZeFEsSUFBSXBMLEVBQUs4RCxHQUpuQmdZLFFBQVFDLE1BQU0sK0VBQStFdkwsTUFBTXdMLEtBQUtKLEVBQVk5Z0IsUUFBUSxNQUtoSSxFQUVBMlEsSUFBRyxDQUFDalMsRUFBU3dHLElBQ1AwYixHQUFXeEwsSUFBSTFXLElBQ1ZraUIsR0FBV2pRLElBQUlqUyxHQUFTaVMsSUFBSXpMLElBRzlCLEtBR1RpYyxPQUFPemlCLEVBQVN3RyxHQUNkLElBQUswYixHQUFXeEwsSUFBSTFXLEdBQ2xCLE9BR0YsTUFBTW9pQixFQUFjRixHQUFXalEsSUFBSWpTLEdBQ25Db2lCLEVBQVlNLE9BQU9sYyxHQUVNLElBQXJCNGIsRUFBWUMsTUFDZEgsR0FBV1EsT0FBTzFpQixFQUV0QixHQVVGLFNBQVMyaUIsR0FBYzlnQixHQUNyQixHQUFjLFNBQVZBLEVBQ0YsT0FBTyxFQUdULEdBQWMsVUFBVkEsRUFDRixPQUFPLEVBR1QsR0FBSUEsSUFBVWliLE9BQU9qYixHQUFPdkIsV0FDMUIsT0FBT3djLE9BQU9qYixHQUdoQixHQUFjLEtBQVZBLEdBQTBCLFNBQVZBLEVBQ2xCLE9BQU8sS0FHVCxHQUFxQixpQkFBVkEsRUFDVCxPQUFPQSxFQUdULElBQ0UsT0FBTytnQixLQUFLQyxNQUFNQyxtQkFBbUJqaEIsR0FHdkMsQ0FGRSxNQUFPa2dCLEdBQ1AsT0FBT2xnQixDQUNULENBQ0YsQ0FFQSxTQUFTa2hCLEdBQWlCdmMsR0FDeEIsT0FBT0EsRUFBSTBFLFFBQVEsVUFBVThYLEdBQU8sSUFBSUEsRUFBSTlpQixpQkFDOUMsQ0FFQSxNQUFNK2lCLEdBQWMsQ0FDbEJDLGlCQUFpQmxqQixFQUFTd0csRUFBSzNFLEdBQzdCN0IsRUFBUStCLGFBQWEsV0FBV2doQixHQUFpQnZjLEtBQVEzRSxFQUMzRCxFQUVBc2hCLG9CQUFvQm5qQixFQUFTd0csR0FDM0J4RyxFQUFROEIsZ0JBQWdCLFdBQVdpaEIsR0FBaUJ2YyxLQUN0RCxFQUVBNGMsa0JBQWtCcGpCLEdBQ2hCLElBQUtBLEVBQ0gsTUFBTyxDQUFDLEVBR1YsTUFBTTJCLEVBQWEsQ0FBQyxFQUNkMGhCLEVBQVNoaUIsT0FBT0MsS0FBS3RCLEVBQVFzakIsU0FBU3RkLFFBQU9RLEdBQU9BLEVBQUlrVCxXQUFXLFFBQVVsVCxFQUFJa1QsV0FBVyxjQUVsRyxJQUFLLE1BQU1sVCxLQUFPNmMsRUFBUSxDQUN4QixJQUFJRSxFQUFVL2MsRUFBSTBFLFFBQVEsTUFBTyxJQUNqQ3FZLEVBQVVBLEVBQVFDLE9BQU8sR0FBR3RqQixjQUFnQnFqQixFQUFRclIsTUFBTSxFQUFHcVIsRUFBUWhULFFBQ3JFNU8sRUFBVzRoQixHQUFXWixHQUFjM2lCLEVBQVFzakIsUUFBUTljLEdBQ3RELENBRUEsT0FBTzdFLENBQ1QsRUFFQThoQixpQkFBZ0IsQ0FBQ3pqQixFQUFTd0csSUFDakJtYyxHQUFjM2lCLEVBQVF1WixhQUFhLFdBQVd3SixHQUFpQnZjLFFBZTFFLE1BQU1rZCxHQUVPQyxxQkFDVCxNQUFPLENBQUMsQ0FDVixDQUVXQyx5QkFDVCxNQUFPLENBQUMsQ0FDVixDQUVXNUgsa0JBQ1QsTUFBTSxJQUFJNkgsTUFBTSxzRUFDbEIsQ0FFQUMsV0FBV0MsR0FNVCxPQUxBQSxFQUFTdkUsS0FBS3dFLGdCQUFnQkQsR0FDOUJBLEVBQVN2RSxLQUFLeUUsa0JBQWtCRixHQUVoQ3ZFLEtBQUswRSxpQkFBaUJILEdBRWZBLENBQ1QsQ0FFQUUsa0JBQWtCRixHQUNoQixPQUFPQSxDQUNULENBRUFDLGdCQUFnQkQsRUFBUS9qQixHQUN0QixNQUFNbWtCLEVBQWEsR0FBVW5rQixHQUFXaWpCLEdBQVlRLGlCQUFpQnpqQixFQUFTLFVBQVksQ0FBQyxFQUUzRixNQUFPLElBQUt3ZixLQUFLNEUsWUFBWVQsV0FDRCxpQkFBZlEsRUFBMEJBLEVBQWEsQ0FBQyxLQUMvQyxHQUFVbmtCLEdBQVdpakIsR0FBWUcsa0JBQWtCcGpCLEdBQVcsQ0FBQyxLQUM3QyxpQkFBWCtqQixFQUFzQkEsRUFBUyxDQUFDLEVBRS9DLENBRUFHLGlCQUFpQkgsRUFBUU0sRUFBYzdFLEtBQUs0RSxZQUFZUixhQUN0RCxJQUFLLE1BQU1saEIsS0FBWXJCLE9BQU9DLEtBQUsraUIsR0FBYyxDQUMvQyxNQUFNQyxFQUFnQkQsRUFBWTNoQixHQUM1QmIsRUFBUWtpQixFQUFPcmhCLEdBQ2Y2aEIsRUFBWSxHQUFVMWlCLEdBQVMsVUExdUJyQ29ZLE9BRFNBLEVBMnVCK0NwWSxHQXp1Qm5ELEdBQUdvWSxJQUdMNVksT0FBT21qQixVQUFVbGtCLFNBQVNpZixLQUFLdEYsR0FBUXdLLE1BQU0sZUFBZSxHQUFHdmtCLGNBd3VCbEUsSUFBSyxJQUFJd2tCLE9BQU9KLEdBQWV0WSxLQUFLdVksR0FDbEMsTUFBTSxJQUFJSSxVQUFVLEdBQUduRixLQUFLNEUsWUFBWXBJLEtBQUs0SSwwQkFBMEJsaUIscUJBQTRCNmhCLHlCQUFpQ0QsTUFFeEksQ0FodkJXckssS0FpdkJiLEVBbUJGLE1BQU00SyxXQUFzQm5CLEdBQzFCVSxZQUFZcGtCLEVBQVMrakIsR0FDbkJlLFNBQ0E5a0IsRUFBVW9hLEdBQVdwYSxNQU1yQndmLEtBQUt1RixTQUFXL2tCLEVBQ2hCd2YsS0FBS3dGLFFBQVV4RixLQUFLc0UsV0FBV0MsR0FDL0I1QixHQUFLdlEsSUFBSTROLEtBQUt1RixTQUFVdkYsS0FBSzRFLFlBQVlhLFNBQVV6RixNQUNyRCxDQUdBMEYsVUFDRS9DLEdBQUtNLE9BQU9qRCxLQUFLdUYsU0FBVXZGLEtBQUs0RSxZQUFZYSxVQUM1Q2xGLEdBQWFDLElBQUlSLEtBQUt1RixTQUFVdkYsS0FBSzRFLFlBQVllLFdBRWpELElBQUssTUFBTUMsS0FBZ0IvakIsT0FBT2drQixvQkFBb0I3RixNQUNwREEsS0FBSzRGLEdBQWdCLElBRXpCLENBRUFFLGVBQWV4SixFQUFVOWIsRUFBU3VsQixHQUFhLEdBQzdDaEosR0FBdUJULEVBQVU5YixFQUFTdWxCLEVBQzVDLENBRUF6QixXQUFXQyxHQU1ULE9BTEFBLEVBQVN2RSxLQUFLd0UsZ0JBQWdCRCxFQUFRdkUsS0FBS3VGLFVBQzNDaEIsRUFBU3ZFLEtBQUt5RSxrQkFBa0JGLEdBRWhDdkUsS0FBSzBFLGlCQUFpQkgsR0FFZkEsQ0FDVCxDQUdBeUIsbUJBQW1CeGxCLEdBQ2pCLE9BQU9taUIsR0FBS2xRLElBQUltSSxHQUFXcGEsR0FBVXdmLEtBQUt5RixTQUM1QyxDQUVBTywyQkFBMkJ4bEIsRUFBUytqQixFQUFTLENBQUMsR0FDNUMsT0FBT3ZFLEtBQUtpRyxZQUFZemxCLElBQVksSUFBSXdmLEtBQUt4ZixFQUEyQixpQkFBWCtqQixFQUFzQkEsRUFBUyxLQUM5RixDQUVXMkIscUJBQ1QsTUFwRFksT0FxRGQsQ0FFV1Qsc0JBQ1QsTUFBTyxNQUFNekYsS0FBS3hELE1BQ3BCLENBRVdtSix1QkFDVCxNQUFPLElBQUkzRixLQUFLeUYsVUFDbEIsQ0FFQU8saUJBQWlCemtCLEdBQ2YsTUFBTyxHQUFHQSxJQUFPeWUsS0FBSzJGLFdBQ3hCLEVBV0YsTUFBTVEsR0FBdUIsQ0FBQ0MsRUFBV0MsRUFBUyxVQUNoRCxNQUFNQyxFQUFhLGdCQUFnQkYsRUFBVVQsWUFDdkNwa0IsRUFBTzZrQixFQUFVNUosS0FDdkIrRCxHQUFhWSxHQUFHM2IsU0FBVThnQixFQUFZLHFCQUFxQi9rQixPQUFVLFNBQVU0ZCxHQUs3RSxHQUpJLENBQUMsSUFBSyxRQUFRbEYsU0FBUytGLEtBQUt1RyxVQUM5QnBILEVBQU1nRCxpQkFHSi9HLEdBQVc0RSxNQUNiLE9BR0YsTUFBTWpULEVBQVNzTixHQUF1QjJGLE9BQVNBLEtBQUs5RSxRQUFRLElBQUkzWixLQUMvQzZrQixFQUFVSSxvQkFBb0J6WixHQUV0Q3NaLElBQ1gsR0FBRSxFQXdCSixNQUFNSSxXQUFjcEIsR0FFUDdJLGtCQUNULE1BZFcsT0FlYixDQUdBa0ssUUFHRSxHQUZtQm5HLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBaEI3QixrQkFrQkQxRCxpQkFDYixPQUdGN0IsS0FBS3VGLFNBQVNoSyxVQUFVMEgsT0FuQkYsUUFxQnRCLE1BQU04QyxFQUFhL0YsS0FBS3VGLFNBQVNoSyxVQUFVNVcsU0F0QnJCLFFBd0J0QnFiLEtBQUs4RixnQkFBZSxJQUFNOUYsS0FBSzJHLG1CQUFtQjNHLEtBQUt1RixTQUFVUSxFQUNuRSxDQUdBWSxrQkFDRTNHLEtBQUt1RixTQUFTdEMsU0FFZDFDLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBaENULG1CQWlDakJ2RixLQUFLMEYsU0FDUCxDQUdBTSx1QkFBdUJ6QixHQUNyQixPQUFPdkUsS0FBSzRHLE1BQUssV0FDZixNQUFNaGMsRUFBTzZiLEdBQU1ELG9CQUFvQnhHLE1BRXZDLEdBQXNCLGlCQUFYdUUsRUFBWCxDQUlBLFFBQXFCaEwsSUFBakIzTyxFQUFLMlosSUFBeUJBLEVBQU9ySyxXQUFXLE1BQW1CLGdCQUFYcUssRUFDMUQsTUFBTSxJQUFJWSxVQUFVLG9CQUFvQlosTUFHMUMzWixFQUFLMlosR0FBUXZFLEtBTmIsQ0FPRixHQUNGLEVBUUZtRyxHQUFxQk0sR0FBTyxTQUs1QnJLLEdBQW1CcUssSUFZbkIsTUFLTUksR0FBeUIsNEJBTS9CLE1BQU1DLFdBQWV6QixHQUVSN0ksa0JBQ1QsTUFkVyxRQWViLENBR0F1SyxTQUVFL0csS0FBS3VGLFNBQVNoakIsYUFBYSxlQUFnQnlkLEtBQUt1RixTQUFTaEssVUFBVXdMLE9BaEIzQyxVQWlCMUIsQ0FHQWYsdUJBQXVCekIsR0FDckIsT0FBT3ZFLEtBQUs0RyxNQUFLLFdBQ2YsTUFBTWhjLEVBQU9rYyxHQUFPTixvQkFBb0J4RyxNQUV6QixXQUFYdUUsR0FDRjNaLEVBQUsyWixJQUVULEdBQ0YsRUFRRmhFLEdBQWFZLEdBQUczYixTQWxDZSwyQkFrQ21CcWhCLElBQXdCMUgsSUFDeEVBLEVBQU1nRCxpQkFDTixNQUFNNkUsRUFBUzdILEVBQU1wUyxPQUFPbU8sUUFBUTJMLElBQ3ZCQyxHQUFPTixvQkFBb0JRLEdBQ25DRCxRQUFRLElBTWYzSyxHQUFtQjBLLElBWW5CLE1BQU1HLEdBQWlCLENBQ3JCelUsS0FBSSxDQUFDc0gsRUFBVXRaLEVBQVVnRixTQUFTQyxrQkFDekIsR0FBRzdGLFVBQVVzQixRQUFROGpCLFVBQVU1RSxpQkFBaUJMLEtBQUt2ZixFQUFTc1osSUFHdkVvTixRQUFPLENBQUNwTixFQUFVdFosRUFBVWdGLFNBQVNDLGtCQUM1QnZFLFFBQVE4akIsVUFBVXRjLGNBQWNxWCxLQUFLdmYsRUFBU3NaLEdBR3ZEcU4sU0FBUSxDQUFDM21CLEVBQVNzWixJQUNULEdBQUdsYSxVQUFVWSxFQUFRMm1CLFVBQVUzZ0IsUUFBTzNCLEdBQVNBLEVBQU11aUIsUUFBUXROLEtBR3RFdU4sUUFBUTdtQixFQUFTc1osR0FDZixNQUFNdU4sRUFBVSxHQUNoQixJQUFJQyxFQUFXOW1CLEVBQVEwRSxXQUFXZ1csUUFBUXBCLEdBRTFDLEtBQU93TixHQUNMRCxFQUFRcFYsS0FBS3FWLEdBQ2JBLEVBQVdBLEVBQVNwaUIsV0FBV2dXLFFBQVFwQixHQUd6QyxPQUFPdU4sQ0FDVCxFQUVBRSxLQUFLL21CLEVBQVNzWixHQUNaLElBQUkwTixFQUFXaG5CLEVBQVFpbkIsdUJBRXZCLEtBQU9ELEdBQVUsQ0FDZixHQUFJQSxFQUFTSixRQUFRdE4sR0FDbkIsTUFBTyxDQUFDME4sR0FHVkEsRUFBV0EsRUFBU0Msc0JBQ3RCLENBRUEsTUFBTyxFQUNULEVBR0F6aUIsS0FBS3hFLEVBQVNzWixHQUNaLElBQUk5VSxFQUFPeEUsRUFBUWtuQixtQkFFbkIsS0FBTzFpQixHQUFNLENBQ1gsR0FBSUEsRUFBS29pQixRQUFRdE4sR0FDZixNQUFPLENBQUM5VSxHQUdWQSxFQUFPQSxFQUFLMGlCLGtCQUNkLENBRUEsTUFBTyxFQUNULEVBRUFDLGtCQUFrQm5uQixHQUNoQixNQUFNb25CLEVBQWEsQ0FBQyxJQUFLLFNBQVUsUUFBUyxXQUFZLFNBQVUsVUFBVyxhQUFjLDRCQUE0QmpSLEtBQUltRCxHQUFZLEdBQUdBLDJCQUFpQytOLEtBQUssS0FDaEwsT0FBTzdILEtBQUt4TixLQUFLb1YsRUFBWXBuQixHQUFTZ0csUUFBT3NoQixJQUFPMU0sR0FBVzBNLElBQU9qTixHQUFVaU4sSUFDbEYsR0F5QklDLEdBQVksQ0FDaEJDLFlBQWEsS0FDYkMsYUFBYyxLQUNkQyxjQUFlLE1BRVhDLEdBQWdCLENBQ3BCSCxZQUFhLGtCQUNiQyxhQUFjLGtCQUNkQyxjQUFlLG1CQU1qQixNQUFNRSxXQUFjbEUsR0FDbEJVLFlBQVlwa0IsRUFBUytqQixHQUNuQmUsUUFDQXRGLEtBQUt1RixTQUFXL2tCLEVBRVhBLEdBQVk0bkIsR0FBTUMsZ0JBSXZCckksS0FBS3dGLFFBQVV4RixLQUFLc0UsV0FBV0MsR0FDL0J2RSxLQUFLc0ksUUFBVSxFQUNmdEksS0FBS3VJLHNCQUF3QnpILFFBQVFqZ0IsT0FBTzJuQixjQUU1Q3hJLEtBQUt5SSxjQUNQLENBR1d0RSxxQkFDVCxPQUFPNEQsRUFDVCxDQUVXM0QseUJBQ1QsT0FBTytELEVBQ1QsQ0FFVzNMLGtCQUNULE1BbkRXLE9Bb0RiLENBR0FrSixVQUNFbkYsR0FBYUMsSUFBSVIsS0FBS3VGLFNBdkROLFlBd0RsQixDQUdBbUQsT0FBT3ZKLEdBQ0FhLEtBQUt1SSxzQkFLTnZJLEtBQUsySSx3QkFBd0J4SixLQUMvQmEsS0FBS3NJLFFBQVVuSixFQUFNeUosU0FMckI1SSxLQUFLc0ksUUFBVW5KLEVBQU0wSixRQUFRLEdBQUdELE9BT3BDLENBRUFFLEtBQUszSixHQUNDYSxLQUFLMkksd0JBQXdCeEosS0FDL0JhLEtBQUtzSSxRQUFVbkosRUFBTXlKLFFBQVU1SSxLQUFLc0ksU0FHdEN0SSxLQUFLK0ksZUFFTGpNLEdBQVFrRCxLQUFLd0YsUUFBUXdDLFlBQ3ZCLENBRUFnQixNQUFNN0osR0FDSmEsS0FBS3NJLFFBQVVuSixFQUFNMEosU0FBVzFKLEVBQU0wSixRQUFROVgsT0FBUyxFQUFJLEVBQUlvTyxFQUFNMEosUUFBUSxHQUFHRCxRQUFVNUksS0FBS3NJLE9BQ2pHLENBRUFTLGVBQ0UsTUFBTUUsRUFBWTFsQixLQUFLaUIsSUFBSXdiLEtBQUtzSSxTQUVoQyxHQUFJVyxHQTlFZ0IsR0ErRWxCLE9BR0YsTUFBTXJiLEVBQVlxYixFQUFZakosS0FBS3NJLFFBQ25DdEksS0FBS3NJLFFBQVUsRUFFVjFhLEdBSUxrUCxHQUFRbFAsRUFBWSxFQUFJb1MsS0FBS3dGLFFBQVEwQyxjQUFnQmxJLEtBQUt3RixRQUFReUMsYUFDcEUsQ0FFQVEsY0FDTXpJLEtBQUt1SSx1QkFDUGhJLEdBQWFZLEdBQUduQixLQUFLdUYsU0FuR0Qsd0JBbUc4QnBHLEdBQVNhLEtBQUswSSxPQUFPdkosS0FDdkVvQixHQUFhWSxHQUFHbkIsS0FBS3VGLFNBbkdILHNCQW1HOEJwRyxHQUFTYSxLQUFLOEksS0FBSzNKLEtBRW5FYSxLQUFLdUYsU0FBU2hLLFVBQVV2RSxJQWxHRyxtQkFvRzNCdUosR0FBYVksR0FBR25CLEtBQUt1RixTQTNHRix1QkEyRzhCcEcsR0FBU2EsS0FBSzBJLE9BQU92SixLQUN0RW9CLEdBQWFZLEdBQUduQixLQUFLdUYsU0EzR0gsc0JBMkc4QnBHLEdBQVNhLEtBQUtnSixNQUFNN0osS0FDcEVvQixHQUFhWSxHQUFHbkIsS0FBS3VGLFNBM0dKLHFCQTJHOEJwRyxHQUFTYSxLQUFLOEksS0FBSzNKLEtBRXRFLENBRUF3Six3QkFBd0J4SixHQUN0QixPQUFPYSxLQUFLdUksd0JBNUdTLFFBNEdpQnBKLEVBQU0rSixhQTdHckIsVUE2R3lEL0osRUFBTStKLFlBQ3hGLENBR0FsRCxxQkFDRSxNQUFPLGlCQUFrQnhnQixTQUFTQyxpQkFBbUJPLFVBQVVtakIsZUFBaUIsQ0FDbEYsRUFjRixNQVFNQyxHQUFhLE9BQ2JDLEdBQWEsT0FDYkMsR0FBaUIsT0FDakJDLEdBQWtCLFFBRWxCQyxHQUFhLG1CQU9iQyxHQUFzQixXQUN0QkMsR0FBc0IsU0FhdEJDLEdBQW1CLENBQ3ZCLFVBQW9CSixHQUNwQixXQUFxQkQsSUFFakJNLEdBQVksQ0FDaEJDLFNBQVUsSUFDVkMsVUFBVSxFQUNWQyxNQUFPLFFBQ1BDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxNQUFNLEdBRUZDLEdBQWdCLENBQ3BCTixTQUFVLG1CQUVWQyxTQUFVLFVBQ1ZDLE1BQU8sbUJBQ1BDLEtBQU0sbUJBQ05DLE1BQU8sVUFDUEMsS0FBTSxXQU1SLE1BQU1FLFdBQWlCL0UsR0FDckJULFlBQVlwa0IsRUFBUytqQixHQUNuQmUsTUFBTTlrQixFQUFTK2pCLEdBQ2Z2RSxLQUFLcUssVUFBWSxLQUNqQnJLLEtBQUtzSyxlQUFpQixLQUN0QnRLLEtBQUt1SyxZQUFhLEVBQ2xCdkssS0FBS3dLLGFBQWUsS0FDcEJ4SyxLQUFLeUssYUFBZSxLQUNwQnpLLEtBQUswSyxtQkFBcUJ6RCxHQUFlQyxRQXBDakIsdUJBb0M4Q2xILEtBQUt1RixVQUUzRXZGLEtBQUsySyxxQkFFRDNLLEtBQUt3RixRQUFRd0UsT0FBU1AsSUFDeEJ6SixLQUFLNEssT0FFVCxDQUdXekcscUJBQ1QsT0FBT3lGLEVBQ1QsQ0FFV3hGLHlCQUNULE9BQU8rRixFQUNULENBRVczTixrQkFDVCxNQXRGVyxVQXVGYixDQUdBeFgsT0FDRWdiLEtBQUs2SyxPQUFPekIsR0FDZCxDQUVBMEIsbUJBSU90bEIsU0FBU3VsQixRQUFVbFEsR0FBVW1GLEtBQUt1RixXQUNyQ3ZGLEtBQUtoYixNQUVULENBRUF1aUIsT0FDRXZILEtBQUs2SyxPQUFPeEIsR0FDZCxDQUVBVSxRQUNNL0osS0FBS3VLLFlBQ1BqUSxHQUFxQjBGLEtBQUt1RixVQUc1QnZGLEtBQUtnTCxnQkFDUCxDQUVBSixRQUNFNUssS0FBS2dMLGlCQUVMaEwsS0FBS2lMLGtCQUVMakwsS0FBS3FLLFVBQVlhLGFBQVksSUFBTWxMLEtBQUs4SyxtQkFBbUI5SyxLQUFLd0YsUUFBUXFFLFNBQzFFLENBRUFzQixvQkFDT25MLEtBQUt3RixRQUFRd0UsT0FJZGhLLEtBQUt1SyxXQUNQaEssR0FBYWEsSUFBSXBCLEtBQUt1RixTQUFVaUUsSUFBWSxJQUFNeEosS0FBSzRLLFVBSXpENUssS0FBSzRLLFFBQ1AsQ0FFQVEsR0FBR25TLEdBQ0QsTUFBTW9TLEVBQVFyTCxLQUFLc0wsWUFFbkIsR0FBSXJTLEVBQVFvUyxFQUFNdGEsT0FBUyxHQUFLa0ksRUFBUSxFQUN0QyxPQUdGLEdBQUkrRyxLQUFLdUssV0FFUCxZQURBaEssR0FBYWEsSUFBSXBCLEtBQUt1RixTQUFVaUUsSUFBWSxJQUFNeEosS0FBS29MLEdBQUduUyxLQUk1RCxNQUFNc1MsRUFBY3ZMLEtBQUt3TCxjQUFjeEwsS0FBS3lMLGNBRTVDLEdBQUlGLElBQWdCdFMsRUFDbEIsT0FHRixNQUFNeEMsRUFBUXdDLEVBQVFzUyxFQUFjbkMsR0FBYUMsR0FFakRySixLQUFLNkssT0FBT3BVLEVBQU80VSxFQUFNcFMsR0FDM0IsQ0FFQXlNLFVBQ00xRixLQUFLeUssY0FDUHpLLEtBQUt5SyxhQUFhL0UsVUFHcEJKLE1BQU1JLFNBQ1IsQ0FHQWpCLGtCQUFrQkYsR0FFaEIsT0FEQUEsRUFBT21ILGdCQUFrQm5ILEVBQU9zRixTQUN6QnRGLENBQ1QsQ0FFQW9HLHFCQUNNM0ssS0FBS3dGLFFBQVFzRSxVQUNmdkosR0FBYVksR0FBR25CLEtBQUt1RixTQWpLSCx1QkFpSzhCcEcsR0FBU2EsS0FBSzJMLFNBQVN4TSxLQUc5QyxVQUF2QmEsS0FBS3dGLFFBQVF1RSxRQUNmeEosR0FBYVksR0FBR25CLEtBQUt1RixTQXBLQSwwQkFvSzhCLElBQU12RixLQUFLK0osVUFDOUR4SixHQUFhWSxHQUFHbkIsS0FBS3VGLFNBcEtBLDBCQW9LOEIsSUFBTXZGLEtBQUttTCx1QkFHNURuTCxLQUFLd0YsUUFBUXlFLE9BQVM3QixHQUFNQyxlQUM5QnJJLEtBQUs0TCx5QkFFVCxDQUVBQSwwQkFDRSxJQUFLLE1BQU1DLEtBQU81RSxHQUFlelUsS0EvSlgscUJBK0ptQ3dOLEtBQUt1RixVQUM1RGhGLEdBQWFZLEdBQUcwSyxFQTdLRyx5QkE2S29CMU0sR0FBU0EsRUFBTWdELG1CQUd4RCxNQXFCTTJKLEVBQWMsQ0FDbEI3RCxhQUFjLElBQU1qSSxLQUFLNkssT0FBTzdLLEtBQUsrTCxrQkFBa0J6QyxLQUN2RHBCLGNBQWUsSUFBTWxJLEtBQUs2SyxPQUFPN0ssS0FBSytMLGtCQUFrQnhDLEtBQ3hEdkIsWUF4QmtCLEtBQ1MsVUFBdkJoSSxLQUFLd0YsUUFBUXVFLFFBV2pCL0osS0FBSytKLFFBRUQvSixLQUFLd0ssY0FDUHdCLGFBQWFoTSxLQUFLd0ssY0FHcEJ4SyxLQUFLd0ssYUFBZTVNLFlBQVcsSUFBTW9DLEtBQUttTCxxQkE3TWpCLElBNk0rRG5MLEtBQUt3RixRQUFRcUUsVUFBUyxHQVFoSDdKLEtBQUt5SyxhQUFlLElBQUlyQyxHQUFNcEksS0FBS3VGLFNBQVV1RyxFQUMvQyxDQUVBSCxTQUFTeE0sR0FDUCxHQUFJLGtCQUFrQjNTLEtBQUsyUyxFQUFNcFMsT0FBT3daLFNBQ3RDLE9BR0YsTUFBTTNZLEVBQVkrYixHQUFpQnhLLEVBQU1uWSxLQUVyQzRHLElBQ0Z1UixFQUFNZ0QsaUJBRU5uQyxLQUFLNkssT0FBTzdLLEtBQUsrTCxrQkFBa0JuZSxJQUV2QyxDQUVBNGQsY0FBY2hyQixHQUNaLE9BQU93ZixLQUFLc0wsWUFBWWhtQixRQUFROUUsRUFDbEMsQ0FFQXlyQiwyQkFBMkJoVCxHQUN6QixJQUFLK0csS0FBSzBLLG1CQUNSLE9BR0YsTUFBTXdCLEVBQWtCakYsR0FBZUMsUUExTm5CLFVBME40Q2xILEtBQUswSyxvQkFDckV3QixFQUFnQjNRLFVBQVUwSCxPQUFPeUcsSUFDakN3QyxFQUFnQjVwQixnQkFBZ0IsZ0JBQ2hDLE1BQU02cEIsRUFBcUJsRixHQUFlQyxRQUFRLHNCQUFzQmpPLE1BQVcrRyxLQUFLMEssb0JBRXBGeUIsSUFDRkEsRUFBbUI1USxVQUFVdkUsSUFBSTBTLElBQ2pDeUMsRUFBbUI1cEIsYUFBYSxlQUFnQixRQUVwRCxDQUVBMG9CLGtCQUNFLE1BQU16cUIsRUFBVXdmLEtBQUtzSyxnQkFBa0J0SyxLQUFLeUwsYUFFNUMsSUFBS2pyQixFQUNILE9BR0YsTUFBTTRyQixFQUFrQjlPLE9BQU8rTyxTQUFTN3JCLEVBQVF1WixhQUFhLG9CQUFxQixJQUNsRmlHLEtBQUt3RixRQUFRcUUsU0FBV3VDLEdBQW1CcE0sS0FBS3dGLFFBQVFrRyxlQUMxRCxDQUVBYixPQUFPcFUsRUFBT2pXLEVBQVUsTUFDdEIsR0FBSXdmLEtBQUt1SyxXQUNQLE9BR0YsTUFBTXpNLEVBQWdCa0MsS0FBS3lMLGFBRXJCYSxFQUFTN1YsSUFBVTJTLEdBQ25CbUQsRUFBYy9yQixHQUFXcWQsR0FBcUJtQyxLQUFLc0wsWUFBYXhOLEVBQWV3TyxFQUFRdE0sS0FBS3dGLFFBQVEwRSxNQUUxRyxHQUFJcUMsSUFBZ0J6TyxFQUNsQixPQUdGLE1BQU0wTyxFQUFtQnhNLEtBQUt3TCxjQUFjZSxHQUV0Q0UsRUFBZUMsR0FDWm5NLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBQVVtSCxFQUFXLENBQ3BEN00sY0FBZTBNLEVBQ2YzZSxVQUFXb1MsS0FBSzJNLGtCQUFrQmxXLEdBQ2xDdU0sS0FBTWhELEtBQUt3TCxjQUFjMU4sR0FDekJzTixHQUFJb0IsSUFNUixHQUZtQkMsRUF4UkgscUJBMFJENUssaUJBQ2IsT0FHRixJQUFLL0QsSUFBa0J5TyxFQUdyQixPQUdGLE1BQU1LLEVBQVk5TCxRQUFRZCxLQUFLcUssV0FDL0JySyxLQUFLK0osUUFDTC9KLEtBQUt1SyxZQUFhLEVBRWxCdkssS0FBS2lNLDJCQUEyQk8sR0FFaEN4TSxLQUFLc0ssZUFBaUJpQyxFQUN0QixNQUFNTSxFQUF1QlAsRUEvUlIsc0JBREYsb0JBaVNiUSxFQUFpQlIsRUEvUkgscUJBQ0EscUJBK1JwQkMsRUFBWWhSLFVBQVV2RSxJQUFJOFYsR0FDMUJoUixHQUFPeVEsR0FDUHpPLEVBQWN2QyxVQUFVdkUsSUFBSTZWLEdBQzVCTixFQUFZaFIsVUFBVXZFLElBQUk2VixHQVUxQjdNLEtBQUs4RixnQkFSb0IsS0FDdkJ5RyxFQUFZaFIsVUFBVTBILE9BQU80SixFQUFzQkMsR0FDbkRQLEVBQVloUixVQUFVdkUsSUFBSTBTLElBQzFCNUwsRUFBY3ZDLFVBQVUwSCxPQUFPeUcsR0FBcUJvRCxFQUFnQkQsR0FDcEU3TSxLQUFLdUssWUFBYSxFQUNsQmtDLEVBQWFqRCxHQUFXLEdBR1kxTCxFQUFla0MsS0FBSytNLGVBRXRESCxHQUNGNU0sS0FBSzRLLE9BRVQsQ0FFQW1DLGNBQ0UsT0FBTy9NLEtBQUt1RixTQUFTaEssVUFBVTVXLFNBeFRWLFFBeVR2QixDQUVBOG1CLGFBQ0UsT0FBT3hFLEdBQWVDLFFBclRHOEYsd0JBcVQyQmhOLEtBQUt1RixTQUMzRCxDQUVBK0YsWUFDRSxPQUFPckUsR0FBZXpVLEtBMVRKLGlCQTBUd0J3TixLQUFLdUYsU0FDakQsQ0FFQXlGLGlCQUNNaEwsS0FBS3FLLFlBQ1A0QyxjQUFjak4sS0FBS3FLLFdBQ25CckssS0FBS3FLLFVBQVksS0FFckIsQ0FFQTBCLGtCQUFrQm5lLEdBQ2hCLE9BQUlzTyxLQUNLdE8sSUFBYzBiLEdBQWlCRCxHQUFhRCxHQUc5Q3hiLElBQWMwYixHQUFpQkYsR0FBYUMsRUFDckQsQ0FFQXNELGtCQUFrQmxXLEdBQ2hCLE9BQUl5RixLQUNLekYsSUFBVTRTLEdBQWFDLEdBQWlCQyxHQUcxQzlTLElBQVU0UyxHQUFhRSxHQUFrQkQsRUFDbEQsQ0FHQXRELHVCQUF1QnpCLEdBQ3JCLE9BQU92RSxLQUFLNEcsTUFBSyxXQUNmLE1BQU1oYyxFQUFPd2YsR0FBUzVELG9CQUFvQnhHLEtBQU11RSxHQUVoRCxHQUFzQixpQkFBWEEsR0FLWCxHQUFzQixpQkFBWEEsRUFBcUIsQ0FDOUIsUUFBcUJoTCxJQUFqQjNPLEVBQUsyWixJQUF5QkEsRUFBT3JLLFdBQVcsTUFBbUIsZ0JBQVhxSyxFQUMxRCxNQUFNLElBQUlZLFVBQVUsb0JBQW9CWixNQUcxQzNaLEVBQUsyWixJQUNQLE9BVkUzWixFQUFLd2dCLEdBQUc3RyxFQVdaLEdBQ0YsRUFRRmhFLEdBQWFZLEdBQUczYixTQXZYZSw2QkFhSCx1Q0EwVzJDLFNBQVUyWixHQUMvRSxNQUFNcFMsRUFBU3NOLEdBQXVCMkYsTUFFdEMsSUFBS2pULElBQVdBLEVBQU93TyxVQUFVNVcsU0FBUzhrQixJQUN4QyxPQUdGdEssRUFBTWdELGlCQUNOLE1BQU0rSyxFQUFXOUMsR0FBUzVELG9CQUFvQnpaLEdBQ3hDb2dCLEVBQWFuTixLQUFLakcsYUFBYSxvQkFFckMsT0FBSW9ULEdBQ0ZELEVBQVM5QixHQUFHK0IsUUFFWkQsRUFBUy9CLHFCQUt5QyxTQUFoRDFILEdBQVlRLGlCQUFpQmpFLEtBQU0sVUFDckNrTixFQUFTbG9CLFlBRVRrb0IsRUFBUy9CLHNCQUtYK0IsRUFBUzNGLFlBRVQyRixFQUFTL0Isb0JBQ1gsSUFDQTVLLEdBQWFZLEdBQUd0Z0IsT0F2WmMsNkJBdVppQixLQUM3QyxNQUFNdXNCLEVBQVluRyxHQUFlelUsS0F6WVIsNkJBMll6QixJQUFLLE1BQU0wYSxLQUFZRSxFQUNyQmhELEdBQVM1RCxvQkFBb0IwRyxFQUMvQixJQU1GOVEsR0FBbUJnTyxJQVluQixNQVNNaUQsR0FBb0IsT0FDcEJDLEdBQXNCLFdBQ3RCQyxHQUF3QixhQU94QkMsR0FBeUIsOEJBQ3pCQyxHQUFZLENBQ2hCN29CLE9BQVEsS0FDUm1pQixRQUFRLEdBRUoyRyxHQUFnQixDQUNwQjlvQixPQUFRLGlCQUNSbWlCLE9BQVEsV0FNVixNQUFNNEcsV0FBaUJ0SSxHQUNyQlQsWUFBWXBrQixFQUFTK2pCLEdBQ25CZSxNQUFNOWtCLEVBQVMrakIsR0FDZnZFLEtBQUs0TixrQkFBbUIsRUFDeEI1TixLQUFLNk4sY0FBZ0IsR0FDckIsTUFBTUMsRUFBYTdHLEdBQWV6VSxLQUFLZ2IsSUFFdkMsSUFBSyxNQUFNTyxLQUFRRCxFQUFZLENBQzdCLE1BQU1oVSxFQUFXTSxHQUF1QjJULEdBQ2xDQyxFQUFnQi9HLEdBQWV6VSxLQUFLc0gsR0FBVXRULFFBQU95bkIsR0FBZ0JBLElBQWlCak8sS0FBS3VGLFdBRWhGLE9BQWJ6TCxHQUFxQmtVLEVBQWNqZCxRQUNyQ2lQLEtBQUs2TixjQUFjNWIsS0FBSzhiLEVBRTVCLENBRUEvTixLQUFLa08sc0JBRUFsTyxLQUFLd0YsUUFBUTVnQixRQUNoQm9iLEtBQUttTywwQkFBMEJuTyxLQUFLNk4sY0FBZTdOLEtBQUtvTyxZQUd0RHBPLEtBQUt3RixRQUFRdUIsUUFDZi9HLEtBQUsrRyxRQUVULENBR1c1QyxxQkFDVCxPQUFPc0osRUFDVCxDQUVXckoseUJBQ1QsT0FBT3NKLEVBQ1QsQ0FFV2xSLGtCQUNULE1BcEVXLFVBcUViLENBR0F1SyxTQUNNL0csS0FBS29PLFdBQ1BwTyxLQUFLcU8sT0FFTHJPLEtBQUtzTyxNQUVULENBRUFBLE9BQ0UsR0FBSXRPLEtBQUs0TixrQkFBb0I1TixLQUFLb08sV0FDaEMsT0FHRixJQUFJRyxFQUFpQixHQVFyQixHQU5Jdk8sS0FBS3dGLFFBQVE1Z0IsU0FDZjJwQixFQUFpQnZPLEtBQUt3Tyx1QkF2RUgsd0NBdUU0Q2hvQixRQUFPaEcsR0FBV0EsSUFBWXdmLEtBQUt1RixXQUFVNU8sS0FBSW5XLEdBQVdtdEIsR0FBU25ILG9CQUFvQmhtQixFQUFTLENBQy9KdW1CLFFBQVEsT0FJUndILEVBQWV4ZCxRQUFVd2QsRUFBZSxHQUFHWCxpQkFDN0MsT0FLRixHQUZtQnJOLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBN0Y1QixvQkErRkYxRCxpQkFDYixPQUdGLElBQUssTUFBTTRNLEtBQWtCRixFQUMzQkUsRUFBZUosT0FHakIsTUFBTUssRUFBWTFPLEtBQUsyTyxnQkFFdkIzTyxLQUFLdUYsU0FBU2hLLFVBQVUwSCxPQUFPcUssSUFFL0J0TixLQUFLdUYsU0FBU2hLLFVBQVV2RSxJQUFJdVcsSUFFNUJ2TixLQUFLdUYsU0FBU3RqQixNQUFNeXNCLEdBQWEsRUFFakMxTyxLQUFLbU8sMEJBQTBCbk8sS0FBSzZOLGVBQWUsR0FFbkQ3TixLQUFLNE4sa0JBQW1CLEVBRXhCLE1BWU1nQixFQUFhLFNBRFVGLEVBQVUsR0FBR3RKLGNBQWdCc0osRUFBVWhjLE1BQU0sS0FHMUVzTixLQUFLOEYsZ0JBZFksS0FDZjlGLEtBQUs0TixrQkFBbUIsRUFFeEI1TixLQUFLdUYsU0FBU2hLLFVBQVUwSCxPQUFPc0ssSUFFL0J2TixLQUFLdUYsU0FBU2hLLFVBQVV2RSxJQUFJc1csR0FBcUJELElBRWpEck4sS0FBS3VGLFNBQVN0akIsTUFBTXlzQixHQUFhLEdBQ2pDbk8sR0FBYWtCLFFBQVF6QixLQUFLdUYsU0ExSFYsb0JBMEhrQyxHQU10QnZGLEtBQUt1RixVQUFVLEdBRTdDdkYsS0FBS3VGLFNBQVN0akIsTUFBTXlzQixHQUFhLEdBQUcxTyxLQUFLdUYsU0FBU3FKLE1BQ3BELENBRUFQLE9BQ0UsR0FBSXJPLEtBQUs0TixtQkFBcUI1TixLQUFLb08sV0FDakMsT0FLRixHQUZtQjdOLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBekk1QixvQkEySUYxRCxpQkFDYixPQUdGLE1BQU02TSxFQUFZMU8sS0FBSzJPLGdCQUV2QjNPLEtBQUt1RixTQUFTdGpCLE1BQU15c0IsR0FBYSxHQUFHMU8sS0FBS3VGLFNBQVM1aEIsd0JBQXdCK3FCLE9BQzFFNVMsR0FBT2tFLEtBQUt1RixVQUVadkYsS0FBS3VGLFNBQVNoSyxVQUFVdkUsSUFBSXVXLElBRTVCdk4sS0FBS3VGLFNBQVNoSyxVQUFVMEgsT0FBT3FLLEdBQXFCRCxJQUVwRCxJQUFLLE1BQU01TCxLQUFXekIsS0FBSzZOLGNBQWUsQ0FDeEMsTUFBTXJ0QixFQUFVNlosR0FBdUJvSCxHQUVuQ2poQixJQUFZd2YsS0FBS29PLFNBQVM1dEIsSUFDNUJ3ZixLQUFLbU8sMEJBQTBCLENBQUMxTSxJQUFVLEVBRTlDLENBRUF6QixLQUFLNE4sa0JBQW1CLEVBWXhCNU4sS0FBS3VGLFNBQVN0akIsTUFBTXlzQixHQUFhLEdBRWpDMU8sS0FBSzhGLGdCQVpZLEtBQ2Y5RixLQUFLNE4sa0JBQW1CLEVBRXhCNU4sS0FBS3VGLFNBQVNoSyxVQUFVMEgsT0FBT3NLLElBRS9Cdk4sS0FBS3VGLFNBQVNoSyxVQUFVdkUsSUFBSXNXLElBRTVCL00sR0FBYWtCLFFBQVF6QixLQUFLdUYsU0F4S1QscUJBd0trQyxHQUt2QnZGLEtBQUt1RixVQUFVLEVBQy9DLENBRUE2SSxTQUFTNXRCLEVBQVV3ZixLQUFLdUYsVUFDdEIsT0FBTy9rQixFQUFRK2EsVUFBVTVXLFNBQVMwb0IsR0FDcEMsQ0FHQTVJLGtCQUFrQkYsR0FJaEIsT0FIQUEsRUFBT3dDLE9BQVNqRyxRQUFReUQsRUFBT3dDLFFBRS9CeEMsRUFBTzNmLE9BQVNnVyxHQUFXMkosRUFBTzNmLFFBQzNCMmYsQ0FDVCxDQUVBb0ssZ0JBQ0UsT0FBTzNPLEtBQUt1RixTQUFTaEssVUFBVTVXLFNBdExMLHVCQUNoQixRQUNDLFFBcUxiLENBRUF1cEIsc0JBQ0UsSUFBS2xPLEtBQUt3RixRQUFRNWdCLE9BQ2hCLE9BR0YsTUFBTXVpQixFQUFXbkgsS0FBS3dPLHVCQUF1QmhCLElBRTdDLElBQUssTUFBTWh0QixLQUFXMm1CLEVBQVUsQ0FDOUIsTUFBTTBILEVBQVd4VSxHQUF1QjdaLEdBRXBDcXVCLEdBQ0Y3TyxLQUFLbU8sMEJBQTBCLENBQUMzdEIsR0FBVXdmLEtBQUtvTyxTQUFTUyxHQUU1RCxDQUNGLENBRUFMLHVCQUF1QjFVLEdBQ3JCLE1BQU1xTixFQUFXRixHQUFlelUsS0EzTUQsNkJBMk1rQ3dOLEtBQUt3RixRQUFRNWdCLFFBRTlFLE9BQU9xaUIsR0FBZXpVLEtBQUtzSCxFQUFVa0csS0FBS3dGLFFBQVE1Z0IsUUFBUTRCLFFBQU9oRyxJQUFZMm1CLEVBQVNsTixTQUFTelosSUFDakcsQ0FFQTJ0QiwwQkFBMEJXLEVBQWNDLEdBQ3RDLEdBQUtELEVBQWEvZCxPQUlsQixJQUFLLE1BQU12USxLQUFXc3VCLEVBQ3BCdHVCLEVBQVErYSxVQUFVd0wsT0F2TkssYUF1TnlCZ0ksR0FDaER2dUIsRUFBUStCLGFBQWEsZ0JBQWlCd3NCLEVBRTFDLENBR0EvSSx1QkFBdUJ6QixHQUNyQixNQUFNaUIsRUFBVSxDQUFDLEVBTWpCLE1BSnNCLGlCQUFYakIsR0FBdUIsWUFBWS9YLEtBQUsrWCxLQUNqRGlCLEVBQVF1QixRQUFTLEdBR1ovRyxLQUFLNEcsTUFBSyxXQUNmLE1BQU1oYyxFQUFPK2lCLEdBQVNuSCxvQkFBb0J4RyxLQUFNd0YsR0FFaEQsR0FBc0IsaUJBQVhqQixFQUFxQixDQUM5QixRQUE0QixJQUFqQjNaLEVBQUsyWixHQUNkLE1BQU0sSUFBSVksVUFBVSxvQkFBb0JaLE1BRzFDM1osRUFBSzJaLElBQ1AsQ0FDRixHQUNGLEVBUUZoRSxHQUFhWSxHQUFHM2IsU0EzUGUsNkJBMlBtQmdvQixJQUF3QixTQUFVck8sSUFFckQsTUFBekJBLEVBQU1wUyxPQUFPd1osU0FBbUJwSCxFQUFNVyxnQkFBbUQsTUFBakNYLEVBQU1XLGVBQWV5RyxVQUMvRXBILEVBQU1nRCxpQkFHUixNQUFNckksRUFBV00sR0FBdUI0RixNQUNsQ2dQLEVBQW1CL0gsR0FBZXpVLEtBQUtzSCxHQUU3QyxJQUFLLE1BQU10WixLQUFXd3VCLEVBQ3BCckIsR0FBU25ILG9CQUFvQmhtQixFQUFTLENBQ3BDdW1CLFFBQVEsSUFDUEEsUUFFUCxJQUtBM0ssR0FBbUJ1UixJQVluQixNQUFNc0IsR0FBUyxXQU1UQyxHQUFpQixVQUNqQkMsR0FBbUIsWUFPbkJDLEdBQXlCLDZCQUN6QkMsR0FBeUIsK0JBRXpCQyxHQUFvQixPQU1wQkMsR0FBeUIsNERBQ3pCQyxHQUE2QixHQUFHRCxVQUNoQ0UsR0FBZ0IsaUJBSWhCQyxHQUFnQnhULEtBQVUsVUFBWSxZQUN0Q3lULEdBQW1CelQsS0FBVSxZQUFjLFVBQzNDMFQsR0FBbUIxVCxLQUFVLGFBQWUsZUFDNUMyVCxHQUFzQjNULEtBQVUsZUFBaUIsYUFDakQ0VCxHQUFrQjVULEtBQVUsYUFBZSxjQUMzQzZULEdBQWlCN1QsS0FBVSxjQUFnQixhQUczQzhULEdBQVksQ0FDaEJDLFdBQVcsRUFDWDNoQixTQUFVLGtCQUNWNGhCLFFBQVMsVUFDVDVuQixPQUFRLENBQUMsRUFBRyxHQUNaNm5CLGFBQWMsS0FDZDV3QixVQUFXLFVBRVA2d0IsR0FBZ0IsQ0FDcEJILFVBQVcsbUJBQ1gzaEIsU0FBVSxtQkFDVjRoQixRQUFTLFNBQ1Q1bkIsT0FBUSwwQkFDUjZuQixhQUFjLHlCQUNkNXdCLFVBQVcsMkJBTWIsTUFBTTh3QixXQUFpQmhMLEdBQ3JCVCxZQUFZcGtCLEVBQVMrakIsR0FDbkJlLE1BQU05a0IsRUFBUytqQixHQUNmdkUsS0FBS3NRLFFBQVUsS0FDZnRRLEtBQUt1USxRQUFVdlEsS0FBS3VGLFNBQVNyZ0IsV0FFN0I4YSxLQUFLd1EsTUFBUXZKLEdBQWVDLFFBQVF1SSxHQUFlelAsS0FBS3VRLFNBQ3hEdlEsS0FBS3lRLFVBQVl6USxLQUFLMFEsZUFDeEIsQ0FHV3ZNLHFCQUNULE9BQU82TCxFQUNULENBRVc1TCx5QkFDVCxPQUFPZ00sRUFDVCxDQUVXNVQsa0JBQ1QsT0FBT3lTLEVBQ1QsQ0FHQWxJLFNBQ0UsT0FBTy9HLEtBQUtvTyxXQUFhcE8sS0FBS3FPLE9BQVNyTyxLQUFLc08sTUFDOUMsQ0FFQUEsT0FDRSxHQUFJbFQsR0FBVzRFLEtBQUt1RixXQUFhdkYsS0FBS29PLFdBQ3BDLE9BR0YsTUFBTXZPLEVBQWdCLENBQ3BCQSxjQUFlRyxLQUFLdUYsVUFJdEIsSUFGa0JoRixHQUFha0IsUUFBUXpCLEtBQUt1RixTQWpGM0IsbUJBaUZtRDFGLEdBRXREZ0MsaUJBQWQsQ0FVQSxHQU5BN0IsS0FBSzJRLGdCQU1ELGlCQUFrQm5yQixTQUFTQyxrQkFBb0J1YSxLQUFLdVEsUUFBUXJWLFFBOUV4QyxlQStFdEIsSUFBSyxNQUFNMWEsSUFBVyxHQUFHWixVQUFVNEYsU0FBU2tILEtBQUt5YSxVQUMvQzVHLEdBQWFZLEdBQUczZ0IsRUFBUyxZQUFhcWIsSUFJMUNtRSxLQUFLdUYsU0FBU3FMLFFBRWQ1USxLQUFLdUYsU0FBU2hqQixhQUFhLGlCQUFpQixHQUU1Q3lkLEtBQUt3USxNQUFNalYsVUFBVXZFLElBQUlzWSxJQUV6QnRQLEtBQUt1RixTQUFTaEssVUFBVXZFLElBQUlzWSxJQUU1Qi9PLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBMUdSLG9CQTBHaUMxRixFQXRCbkQsQ0F1QkYsQ0FFQXdPLE9BQ0UsR0FBSWpULEdBQVc0RSxLQUFLdUYsWUFBY3ZGLEtBQUtvTyxXQUNyQyxPQUdGLE1BQU12TyxFQUFnQixDQUNwQkEsY0FBZUcsS0FBS3VGLFVBR3RCdkYsS0FBSzZRLGNBQWNoUixFQUNyQixDQUVBNkYsVUFDTTFGLEtBQUtzUSxTQUNQdFEsS0FBS3NRLFFBQVE5VyxVQUdmOEwsTUFBTUksU0FDUixDQUVBcGEsU0FDRTBVLEtBQUt5USxVQUFZelEsS0FBSzBRLGdCQUVsQjFRLEtBQUtzUSxTQUNQdFEsS0FBS3NRLFFBQVFobEIsUUFFakIsQ0FHQXVsQixjQUFjaFIsR0FHWixJQUZrQlUsR0FBYWtCLFFBQVF6QixLQUFLdUYsU0E5STNCLG1CQThJbUQxRixHQUV0RGdDLGlCQUFkLENBTUEsR0FBSSxpQkFBa0JyYyxTQUFTQyxnQkFDN0IsSUFBSyxNQUFNakYsSUFBVyxHQUFHWixVQUFVNEYsU0FBU2tILEtBQUt5YSxVQUMvQzVHLEdBQWFDLElBQUloZ0IsRUFBUyxZQUFhcWIsSUFJdkNtRSxLQUFLc1EsU0FDUHRRLEtBQUtzUSxRQUFROVcsVUFHZndHLEtBQUt3USxNQUFNalYsVUFBVTBILE9BQU9xTSxJQUU1QnRQLEtBQUt1RixTQUFTaEssVUFBVTBILE9BQU9xTSxJQUUvQnRQLEtBQUt1RixTQUFTaGpCLGFBQWEsZ0JBQWlCLFNBRTVDa2hCLEdBQVlFLG9CQUFvQjNELEtBQUt3USxNQUFPLFVBQzVDalEsR0FBYWtCLFFBQVF6QixLQUFLdUYsU0F0S1AscUJBc0tpQzFGLEVBckJwRCxDQXNCRixDQUVBeUUsV0FBV0MsR0FHVCxHQUFnQyxpQkFGaENBLEVBQVNlLE1BQU1oQixXQUFXQyxJQUVSaGxCLFlBQTJCLEdBQVVnbEIsRUFBT2hsQixZQUFnRSxtQkFBM0NnbEIsRUFBT2hsQixVQUFVb0Usc0JBRWxHLE1BQU0sSUFBSXdoQixVQUFVLEdBQUc4SixHQUFPN0osK0dBR2hDLE9BQU9iLENBQ1QsQ0FFQW9NLGdCQUNFLFFBQXNCLElBQVgsRUFDVCxNQUFNLElBQUl4TCxVQUFVLGdFQUd0QixJQUFJMkwsRUFBbUI5USxLQUFLdUYsU0FFRyxXQUEzQnZGLEtBQUt3RixRQUFRam1CLFVBQ2Z1eEIsRUFBbUI5USxLQUFLdVEsUUFDZixHQUFVdlEsS0FBS3dGLFFBQVFqbUIsV0FDaEN1eEIsRUFBbUJsVyxHQUFXb0YsS0FBS3dGLFFBQVFqbUIsV0FDQSxpQkFBM0J5Z0IsS0FBS3dGLFFBQVFqbUIsWUFDN0J1eEIsRUFBbUI5USxLQUFLd0YsUUFBUWptQixXQUdsQyxNQUFNNHdCLEVBQWVuUSxLQUFLK1EsbUJBRTFCL1EsS0FBS3NRLFFBQVUsR0FBb0JRLEVBQWtCOVEsS0FBS3dRLE1BQU9MLEVBQ25FLENBRUEvQixXQUNFLE9BQU9wTyxLQUFLd1EsTUFBTWpWLFVBQVU1VyxTQUFTMnFCLEdBQ3ZDLENBRUEwQixnQkFDRSxNQUFNQyxFQUFpQmpSLEtBQUt1USxRQUU1QixHQUFJVSxFQUFlMVYsVUFBVTVXLFNBdk1OLFdBd01yQixPQUFPbXJCLEdBR1QsR0FBSW1CLEVBQWUxVixVQUFVNVcsU0ExTUosYUEyTXZCLE9BQU9vckIsR0FHVCxHQUFJa0IsRUFBZTFWLFVBQVU1VyxTQTdNQSxpQkE4TTNCLE1BaE1zQixNQW1NeEIsR0FBSXNzQixFQUFlMVYsVUFBVTVXLFNBaE5FLG1CQWlON0IsTUFuTXlCLFNBdU0zQixNQUFNdXNCLEVBQWtGLFFBQTFFOXJCLGlCQUFpQjRhLEtBQUt3USxPQUFPeFYsaUJBQWlCLGlCQUFpQmIsT0FFN0UsT0FBSThXLEVBQWUxVixVQUFVNVcsU0EzTlAsVUE0TmJ1c0IsRUFBUXZCLEdBQW1CRCxHQUc3QndCLEVBQVFyQixHQUFzQkQsRUFDdkMsQ0FFQWMsZ0JBQ0UsT0FBa0QsT0FBM0MxUSxLQUFLdUYsU0FBU3JLLFFBM05ELFVBNE50QixDQUVBaVcsYUFDRSxNQUFNLE9BQ0o3b0IsR0FDRTBYLEtBQUt3RixRQUVULE1BQXNCLGlCQUFYbGQsRUFDRkEsRUFBT2hGLE1BQU0sS0FBS3FULEtBQUl0VSxHQUFTaWIsT0FBTytPLFNBQVNocUIsRUFBTyxNQUd6QyxtQkFBWGlHLEVBQ0Y4b0IsR0FBYzlvQixFQUFPOG9CLEVBQVlwUixLQUFLdUYsVUFHeENqZCxDQUNULENBRUF5b0IsbUJBQ0UsTUFBTU0sRUFBd0IsQ0FDNUIxeEIsVUFBV3FnQixLQUFLZ1IsZ0JBQ2hCdGEsVUFBVyxDQUFDLENBQ1ZuVixLQUFNLGtCQUNOcUIsUUFBUyxDQUNQMEwsU0FBVTBSLEtBQUt3RixRQUFRbFgsV0FFeEIsQ0FDRC9NLEtBQU0sU0FDTnFCLFFBQVMsQ0FDUDBGLE9BQVEwWCxLQUFLbVIsaUJBY25CLE9BVEluUixLQUFLeVEsV0FBc0MsV0FBekJ6USxLQUFLd0YsUUFBUTBLLFdBQ2pDek0sR0FBWUMsaUJBQWlCMUQsS0FBS3dRLE1BQU8sU0FBVSxVQUVuRGEsRUFBc0IzYSxVQUFZLENBQUMsQ0FDakNuVixLQUFNLGNBQ05DLFNBQVMsS0FJTixJQUFLNnZCLEtBQytCLG1CQUE5QnJSLEtBQUt3RixRQUFRMkssYUFBOEJuUSxLQUFLd0YsUUFBUTJLLGFBQWFrQixHQUF5QnJSLEtBQUt3RixRQUFRMkssYUFFMUgsQ0FFQW1CLGlCQUFnQixJQUNkdHFCLEVBQUcsT0FDSCtGLElBRUEsTUFBTXNlLEVBQVFwRSxHQUFlelUsS0E5UUYsOERBOFErQndOLEtBQUt3USxPQUFPaHFCLFFBQU9oRyxHQUFXcWEsR0FBVXJhLEtBRTdGNnFCLEVBQU10YSxRQU1YOE0sR0FBcUJ3TixFQUFPdGUsRUFBUS9GLElBQVFtb0IsSUFBbUI5RCxFQUFNcFIsU0FBU2xOLElBQVM2akIsT0FDekYsQ0FHQTVLLHVCQUF1QnpCLEdBQ3JCLE9BQU92RSxLQUFLNEcsTUFBSyxXQUNmLE1BQU1oYyxFQUFPeWxCLEdBQVM3SixvQkFBb0J4RyxLQUFNdUUsR0FFaEQsR0FBc0IsaUJBQVhBLEVBQVgsQ0FJQSxRQUE0QixJQUFqQjNaLEVBQUsyWixHQUNkLE1BQU0sSUFBSVksVUFBVSxvQkFBb0JaLE1BRzFDM1osRUFBSzJaLElBTkwsQ0FPRixHQUNGLENBRUF5QixrQkFBa0I3RyxHQUNoQixHQS9UdUIsSUErVG5CQSxFQUFNNkgsUUFBZ0QsVUFBZjdILEVBQU1zQixNQWxVbkMsUUFrVXVEdEIsRUFBTW5ZLElBQ3pFLE9BR0YsTUFBTXVxQixFQUFjdEssR0FBZXpVLEtBQUtnZCxJQUV4QyxJQUFLLE1BQU16SSxLQUFVd0ssRUFBYSxDQUNoQyxNQUFNQyxFQUFVbkIsR0FBU3BLLFlBQVljLEdBRXJDLElBQUt5SyxJQUF5QyxJQUE5QkEsRUFBUWhNLFFBQVF5SyxVQUM5QixTQUdGLE1BQU13QixFQUFldFMsRUFBTXNTLGVBQ3JCQyxFQUFlRCxFQUFheFgsU0FBU3VYLEVBQVFoQixPQUVuRCxHQUFJaUIsRUFBYXhYLFNBQVN1WCxFQUFRak0sV0FBMkMsV0FBOUJpTSxFQUFRaE0sUUFBUXlLLFlBQTJCeUIsR0FBOEMsWUFBOUJGLEVBQVFoTSxRQUFReUssV0FBMkJ5QixFQUNuSixTQUlGLEdBQUlGLEVBQVFoQixNQUFNN3JCLFNBQVN3YSxFQUFNcFMsVUFBMkIsVUFBZm9TLEVBQU1zQixNQXZWdkMsUUF1VjJEdEIsRUFBTW5ZLEtBQXFCLHFDQUFxQ3dGLEtBQUsyUyxFQUFNcFMsT0FBT3daLFVBQ3ZKLFNBR0YsTUFBTTFHLEVBQWdCLENBQ3BCQSxjQUFlMlIsRUFBUWpNLFVBR04sVUFBZnBHLEVBQU1zQixPQUNSWixFQUFjeUcsV0FBYW5ILEdBRzdCcVMsRUFBUVgsY0FBY2hSLEVBQ3hCLENBQ0YsQ0FFQW1HLDZCQUE2QjdHLEdBRzNCLE1BQU13UyxFQUFVLGtCQUFrQm5sQixLQUFLMlMsRUFBTXBTLE9BQU93WixTQUM5Q3FMLEVBNVdXLFdBNFdLelMsRUFBTW5ZLElBQ3RCNnFCLEVBQWtCLENBQUMzQyxHQUFnQkMsSUFBa0JsVixTQUFTa0YsRUFBTW5ZLEtBRTFFLElBQUs2cUIsSUFBb0JELEVBQ3ZCLE9BR0YsR0FBSUQsSUFBWUMsRUFDZCxPQUdGelMsRUFBTWdELGlCQUNOLE1BQU0yUCxFQUFrQjdLLEdBQWVDLFFBQVFxSSxHQUF3QnBRLEVBQU1XLGVBQWU1YSxZQUN0RjRGLEVBQVd1bEIsR0FBUzdKLG9CQUFvQnNMLEdBRTlDLEdBQUlELEVBTUYsT0FMQTFTLEVBQU00UyxrQkFDTmpuQixFQUFTd2pCLFlBRVR4akIsRUFBU3dtQixnQkFBZ0JuUyxHQUt2QnJVLEVBQVNzakIsYUFFWGpQLEVBQU00UyxrQkFDTmpuQixFQUFTdWpCLE9BQ1R5RCxFQUFnQmxCLFFBRXBCLEVBUUZyUSxHQUFhWSxHQUFHM2IsU0FBVTZwQixHQUF3QkUsR0FBd0JjLEdBQVMyQix1QkFDbkZ6UixHQUFhWSxHQUFHM2IsU0FBVTZwQixHQUF3QkksR0FBZVksR0FBUzJCLHVCQUMxRXpSLEdBQWFZLEdBQUczYixTQUFVNHBCLEdBQXdCaUIsR0FBUzRCLFlBQzNEMVIsR0FBYVksR0FBRzNiLFNBellhLDZCQXlZbUI2cUIsR0FBUzRCLFlBQ3pEMVIsR0FBYVksR0FBRzNiLFNBQVU0cEIsR0FBd0JHLElBQXdCLFNBQVVwUSxHQUNsRkEsRUFBTWdELGlCQUNOa08sR0FBUzdKLG9CQUFvQnhHLE1BQU0rRyxRQUNyQyxJQUtBM0ssR0FBbUJpVSxJQVluQixNQUFNNkIsR0FBeUIsb0RBQ3pCQyxHQUEwQixjQUMxQkMsR0FBbUIsZ0JBQ25CQyxHQUFrQixlQUt4QixNQUFNQyxHQUNKMU4sY0FDRTVFLEtBQUt1RixTQUFXL2YsU0FBU2tILElBQzNCLENBR0E2bEIsV0FFRSxNQUFNQyxFQUFnQmh0QixTQUFTQyxnQkFBZ0IwQyxZQUMvQyxPQUFPNUUsS0FBS2lCLElBQUkzRCxPQUFPNHhCLFdBQWFELEVBQ3RDLENBRUFuRSxPQUNFLE1BQU1ucUIsRUFBUThiLEtBQUt1UyxXQUVuQnZTLEtBQUswUyxtQkFHTDFTLEtBQUsyUyxzQkFBc0IzUyxLQUFLdUYsU0FBVTZNLElBQWtCUSxHQUFtQkEsRUFBa0IxdUIsSUFHakc4YixLQUFLMlMsc0JBQXNCVCxHQUF3QkUsSUFBa0JRLEdBQW1CQSxFQUFrQjF1QixJQUUxRzhiLEtBQUsyUyxzQkFBc0JSLEdBQXlCRSxJQUFpQk8sR0FBbUJBLEVBQWtCMXVCLEdBQzVHLENBRUF5TyxRQUNFcU4sS0FBSzZTLHdCQUF3QjdTLEtBQUt1RixTQUFVLFlBRTVDdkYsS0FBSzZTLHdCQUF3QjdTLEtBQUt1RixTQUFVNk0sSUFFNUNwUyxLQUFLNlMsd0JBQXdCWCxHQUF3QkUsSUFFckRwUyxLQUFLNlMsd0JBQXdCVixHQUF5QkUsR0FDeEQsQ0FFQVMsZ0JBQ0UsT0FBTzlTLEtBQUt1UyxXQUFhLENBQzNCLENBR0FHLG1CQUNFMVMsS0FBSytTLHNCQUFzQi9TLEtBQUt1RixTQUFVLFlBRTFDdkYsS0FBS3VGLFNBQVN0akIsTUFBTW9LLFNBQVcsUUFDakMsQ0FFQXNtQixzQkFBc0I3WSxFQUFVa1osRUFBZTFXLEdBQzdDLE1BQU0yVyxFQUFpQmpULEtBQUt1UyxXQWE1QnZTLEtBQUtrVCwyQkFBMkJwWixHQVhIdFosSUFDM0IsR0FBSUEsSUFBWXdmLEtBQUt1RixVQUFZMWtCLE9BQU80eEIsV0FBYWp5QixFQUFRMkgsWUFBYzhxQixFQUN6RSxPQUdGalQsS0FBSytTLHNCQUFzQnZ5QixFQUFTd3lCLEdBRXBDLE1BQU1KLEVBQWtCL3hCLE9BQU91RSxpQkFBaUI1RSxHQUFTd2EsaUJBQWlCZ1ksR0FDMUV4eUIsRUFBUXlCLE1BQU1reEIsWUFBWUgsRUFBZSxHQUFHMVcsRUFBU2dCLE9BQU9DLFdBQVdxVixRQUFzQixHQUlqRyxDQUVBRyxzQkFBc0J2eUIsRUFBU3d5QixHQUM3QixNQUFNSSxFQUFjNXlCLEVBQVF5QixNQUFNK1ksaUJBQWlCZ1ksR0FFL0NJLEdBQ0YzUCxHQUFZQyxpQkFBaUJsakIsRUFBU3d5QixFQUFlSSxFQUV6RCxDQUVBUCx3QkFBd0IvWSxFQUFVa1osR0FhaENoVCxLQUFLa1QsMkJBQTJCcFosR0FaSHRaLElBQzNCLE1BQU02QixFQUFRb2hCLEdBQVlRLGlCQUFpQnpqQixFQUFTd3lCLEdBRXRDLE9BQVYzd0IsR0FLSm9oQixHQUFZRSxvQkFBb0JuakIsRUFBU3d5QixHQUN6Q3h5QixFQUFReUIsTUFBTWt4QixZQUFZSCxFQUFlM3dCLElBTHZDN0IsRUFBUXlCLE1BQU1veEIsZUFBZUwsRUFLZ0IsR0FJbkQsQ0FFQUUsMkJBQTJCcFosRUFBVXdaLEdBQ25DLEdBQUksR0FBVXhaLEdBQ1p3WixFQUFTeFosUUFJWCxJQUFLLE1BQU15WixLQUFPdE0sR0FBZXpVLEtBQUtzSCxFQUFVa0csS0FBS3VGLFVBQ25EK04sRUFBU0MsRUFFYixFQWNGLE1BRU1DLEdBQW9CLE9BQ3BCQyxHQUFrQix3QkFDbEJDLEdBQVksQ0FDaEJDLFVBQVcsaUJBQ1hDLGNBQWUsS0FDZjdOLFlBQVksRUFDWmxMLFdBQVcsRUFFWGdaLFlBQWEsUUFHVEMsR0FBZ0IsQ0FDcEJILFVBQVcsU0FDWEMsY0FBZSxrQkFDZjdOLFdBQVksVUFDWmxMLFVBQVcsVUFDWGdaLFlBQWEsb0JBTWYsTUFBTUUsV0FBaUI3UCxHQUNyQlUsWUFBWUwsR0FDVmUsUUFDQXRGLEtBQUt3RixRQUFVeEYsS0FBS3NFLFdBQVdDLEdBQy9CdkUsS0FBS2dVLGFBQWMsRUFDbkJoVSxLQUFLdUYsU0FBVyxJQUNsQixDQUdXcEIscUJBQ1QsT0FBT3VQLEVBQ1QsQ0FFV3RQLHlCQUNULE9BQU8wUCxFQUNULENBRVd0WCxrQkFDVCxNQTFDVyxVQTJDYixDQUdBOFIsS0FBS2hTLEdBQ0gsSUFBSzBELEtBQUt3RixRQUFRM0ssVUFFaEIsWUFEQWlDLEdBQVFSLEdBSVYwRCxLQUFLaVUsVUFFTCxNQUFNenpCLEVBQVV3ZixLQUFLa1UsY0FFakJsVSxLQUFLd0YsUUFBUU8sWUFDZmpLLEdBQU90YixHQUdUQSxFQUFRK2EsVUFBVXZFLElBQUl3YyxJQUV0QnhULEtBQUttVSxtQkFBa0IsS0FDckJyWCxHQUFRUixFQUFTLEdBRXJCLENBRUErUixLQUFLL1IsR0FDRTBELEtBQUt3RixRQUFRM0ssV0FLbEJtRixLQUFLa1UsY0FBYzNZLFVBQVUwSCxPQUFPdVEsSUFFcEN4VCxLQUFLbVUsbUJBQWtCLEtBQ3JCblUsS0FBSzBGLFVBQ0w1SSxHQUFRUixFQUFTLEtBUmpCUSxHQUFRUixFQVVaLENBRUFvSixVQUNPMUYsS0FBS2dVLGNBSVZ6VCxHQUFhQyxJQUFJUixLQUFLdUYsU0FBVWtPLElBRWhDelQsS0FBS3VGLFNBQVN0QyxTQUVkakQsS0FBS2dVLGFBQWMsRUFDckIsQ0FHQUUsY0FDRSxJQUFLbFUsS0FBS3VGLFNBQVUsQ0FDbEIsTUFBTTZPLEVBQVc1dUIsU0FBUzZ1QixjQUFjLE9BQ3hDRCxFQUFTVCxVQUFZM1QsS0FBS3dGLFFBQVFtTyxVQUU5QjNULEtBQUt3RixRQUFRTyxZQUNmcU8sRUFBUzdZLFVBQVV2RSxJQW5HRCxRQXNHcEJnSixLQUFLdUYsU0FBVzZPLENBQ2xCLENBRUEsT0FBT3BVLEtBQUt1RixRQUNkLENBRUFkLGtCQUFrQkYsR0FHaEIsT0FEQUEsRUFBT3NQLFlBQWNqWixHQUFXMkosRUFBT3NQLGFBQ2hDdFAsQ0FDVCxDQUVBMFAsVUFDRSxHQUFJalUsS0FBS2dVLFlBQ1AsT0FHRixNQUFNeHpCLEVBQVV3ZixLQUFLa1UsY0FFckJsVSxLQUFLd0YsUUFBUXFPLFlBQVlTLE9BQU85ekIsR0FFaEMrZixHQUFhWSxHQUFHM2dCLEVBQVNpekIsSUFBaUIsS0FDeEMzVyxHQUFRa0QsS0FBS3dGLFFBQVFvTyxjQUFjLElBRXJDNVQsS0FBS2dVLGFBQWMsQ0FDckIsQ0FFQUcsa0JBQWtCN1gsR0FDaEJTLEdBQXVCVCxFQUFVMEQsS0FBS2tVLGNBQWVsVSxLQUFLd0YsUUFBUU8sV0FDcEUsRUFjRixNQUVNd08sR0FBYyxnQkFLZEMsR0FBbUIsV0FDbkJDLEdBQVksQ0FDaEJDLFdBQVcsRUFDWEMsWUFBYSxNQUdUQyxHQUFnQixDQUNwQkYsVUFBVyxVQUNYQyxZQUFhLFdBTWYsTUFBTUUsV0FBa0IzUSxHQUN0QlUsWUFBWUwsR0FDVmUsUUFDQXRGLEtBQUt3RixRQUFVeEYsS0FBS3NFLFdBQVdDLEdBQy9CdkUsS0FBSzhVLFdBQVksRUFDakI5VSxLQUFLK1UscUJBQXVCLElBQzlCLENBR1c1USxxQkFDVCxPQUFPc1EsRUFDVCxDQUVXclEseUJBQ1QsT0FBT3dRLEVBQ1QsQ0FFV3BZLGtCQUNULE1BdkNXLFdBd0NiLENBR0F3WSxXQUNNaFYsS0FBSzhVLFlBSUw5VSxLQUFLd0YsUUFBUWtQLFdBQ2YxVSxLQUFLd0YsUUFBUW1QLFlBQVkvRCxRQUczQnJRLEdBQWFDLElBQUloYixTQUFVK3VCLElBRTNCaFUsR0FBYVksR0FBRzNiLFNBbkRJLHdCQW1EdUIyWixHQUFTYSxLQUFLaVYsZUFBZTlWLEtBQ3hFb0IsR0FBYVksR0FBRzNiLFNBbkRNLDRCQW1EdUIyWixHQUFTYSxLQUFLa1YsZUFBZS9WLEtBQzFFYSxLQUFLOFUsV0FBWSxFQUNuQixDQUVBSyxhQUNPblYsS0FBSzhVLFlBSVY5VSxLQUFLOFUsV0FBWSxFQUNqQnZVLEdBQWFDLElBQUloYixTQUFVK3VCLElBQzdCLENBR0FVLGVBQWU5VixHQUNiLE1BQU0sWUFDSndWLEdBQ0UzVSxLQUFLd0YsUUFFVCxHQUFJckcsRUFBTXBTLFNBQVd2SCxVQUFZMlosRUFBTXBTLFNBQVc0bkIsR0FBZUEsRUFBWWh3QixTQUFTd2EsRUFBTXBTLFFBQzFGLE9BR0YsTUFBTWhMLEVBQVdrbEIsR0FBZVUsa0JBQWtCZ04sR0FFMUIsSUFBcEI1eUIsRUFBU2dQLE9BQ1g0akIsRUFBWS9ELFFBQ0g1USxLQUFLK1UsdUJBQXlCUCxHQUN2Q3p5QixFQUFTQSxFQUFTZ1AsT0FBUyxHQUFHNmYsUUFFOUI3dUIsRUFBUyxHQUFHNnVCLE9BRWhCLENBRUFzRSxlQUFlL1YsR0FwRkQsUUFxRlJBLEVBQU1uWSxNQUlWZ1osS0FBSytVLHFCQUF1QjVWLEVBQU1pVyxTQUFXWixHQXhGekIsVUF5RnRCLEVBY0YsTUFPTWEsR0FBaUIsa0JBQ2pCQyxHQUFlLGdCQU1mQyxHQUFrQixhQUVsQkMsR0FBb0IsT0FDcEJDLEdBQW9CLGVBS3BCQyxHQUFZLENBQ2hCdEIsVUFBVSxFQUNWeEQsT0FBTyxFQUNQOUcsVUFBVSxHQUVONkwsR0FBZ0IsQ0FDcEJ2QixTQUFVLG1CQUNWeEQsTUFBTyxVQUNQOUcsU0FBVSxXQU1aLE1BQU04TCxXQUFjdlEsR0FDbEJULFlBQVlwa0IsRUFBUytqQixHQUNuQmUsTUFBTTlrQixFQUFTK2pCLEdBQ2Z2RSxLQUFLNlYsUUFBVTVPLEdBQWVDLFFBcEJWLGdCQW9CbUNsSCxLQUFLdUYsVUFDNUR2RixLQUFLOFYsVUFBWTlWLEtBQUsrVixzQkFDdEIvVixLQUFLZ1csV0FBYWhXLEtBQUtpVyx1QkFDdkJqVyxLQUFLb08sVUFBVyxFQUNoQnBPLEtBQUs0TixrQkFBbUIsRUFDeEI1TixLQUFLa1csV0FBYSxJQUFJNUQsR0FFdEJ0UyxLQUFLMkssb0JBQ1AsQ0FHV3hHLHFCQUNULE9BQU91UixFQUNULENBRVd0Uix5QkFDVCxPQUFPdVIsRUFDVCxDQUVXblosa0JBQ1QsTUEzRFcsT0E0RGIsQ0FHQXVLLE9BQU9sSCxHQUNMLE9BQU9HLEtBQUtvTyxTQUFXcE8sS0FBS3FPLE9BQVNyTyxLQUFLc08sS0FBS3pPLEVBQ2pELENBRUF5TyxLQUFLek8sR0FDQ0csS0FBS29PLFVBQVlwTyxLQUFLNE4sa0JBSVJyTixHQUFha0IsUUFBUXpCLEtBQUt1RixTQUFVK1AsR0FBYyxDQUNsRXpWLGtCQUdZZ0MsbUJBSWQ3QixLQUFLb08sVUFBVyxFQUNoQnBPLEtBQUs0TixrQkFBbUIsRUFFeEI1TixLQUFLa1csV0FBVzdILE9BRWhCN29CLFNBQVNrSCxLQUFLNk8sVUFBVXZFLElBQUl1ZSxJQUU1QnZWLEtBQUttVyxnQkFFTG5XLEtBQUs4VixVQUFVeEgsTUFBSyxJQUFNdE8sS0FBS29XLGFBQWF2VyxLQUM5QyxDQUVBd08sT0FDT3JPLEtBQUtvTyxXQUFZcE8sS0FBSzROLG1CQUlUck4sR0FBYWtCLFFBQVF6QixLQUFLdUYsU0E1RjNCLGlCQThGSDFELG1CQUlkN0IsS0FBS29PLFVBQVcsRUFDaEJwTyxLQUFLNE4sa0JBQW1CLEVBRXhCNU4sS0FBS2dXLFdBQVdiLGFBRWhCblYsS0FBS3VGLFNBQVNoSyxVQUFVMEgsT0FBT3VTLElBRS9CeFYsS0FBSzhGLGdCQUFlLElBQU05RixLQUFLcVcsY0FBY3JXLEtBQUt1RixTQUFVdkYsS0FBSytNLGdCQUNuRSxDQUVBckgsVUFDRSxJQUFLLE1BQU00USxJQUFlLENBQUN6MUIsT0FBUW1mLEtBQUs2VixTQUN0Q3RWLEdBQWFDLElBQUk4VixFQWpISCxhQW9IaEJ0VyxLQUFLOFYsVUFBVXBRLFVBRWYxRixLQUFLZ1csV0FBV2IsYUFFaEI3UCxNQUFNSSxTQUNSLENBRUE2USxlQUNFdlcsS0FBS21XLGVBQ1AsQ0FHQUosc0JBQ0UsT0FBTyxJQUFJaEMsR0FBUyxDQUNsQmxaLFVBQVdpRyxRQUFRZCxLQUFLd0YsUUFBUTRPLFVBRWhDck8sV0FBWS9GLEtBQUsrTSxlQUVyQixDQUVBa0osdUJBQ0UsT0FBTyxJQUFJcEIsR0FBVSxDQUNuQkYsWUFBYTNVLEtBQUt1RixVQUV0QixDQUVBNlEsYUFBYXZXLEdBRU5yYSxTQUFTa0gsS0FBSy9ILFNBQVNxYixLQUFLdUYsV0FDL0IvZixTQUFTa0gsS0FBSzRuQixPQUFPdFUsS0FBS3VGLFVBRzVCdkYsS0FBS3VGLFNBQVN0akIsTUFBTWl1QixRQUFVLFFBRTlCbFEsS0FBS3VGLFNBQVNqakIsZ0JBQWdCLGVBRTlCMGQsS0FBS3VGLFNBQVNoakIsYUFBYSxjQUFjLEdBRXpDeWQsS0FBS3VGLFNBQVNoakIsYUFBYSxPQUFRLFVBRW5DeWQsS0FBS3VGLFNBQVN2WixVQUFZLEVBQzFCLE1BQU13cUIsRUFBWXZQLEdBQWVDLFFBM0lULGNBMklzQ2xILEtBQUs2VixTQUUvRFcsSUFDRkEsRUFBVXhxQixVQUFZLEdBR3hCOFAsR0FBT2tFLEtBQUt1RixVQUVadkYsS0FBS3VGLFNBQVNoSyxVQUFVdkUsSUFBSXdlLElBYTVCeFYsS0FBSzhGLGdCQVhzQixLQUNyQjlGLEtBQUt3RixRQUFRb0wsT0FDZjVRLEtBQUtnVyxXQUFXaEIsV0FHbEJoVixLQUFLNE4sa0JBQW1CLEVBQ3hCck4sR0FBYWtCLFFBQVF6QixLQUFLdUYsU0F0S1YsaUJBc0ttQyxDQUNqRDFGLGlCQUNBLEdBR29DRyxLQUFLNlYsUUFBUzdWLEtBQUsrTSxjQUM3RCxDQUVBcEMscUJBQ0VwSyxHQUFhWSxHQUFHbkIsS0FBS3VGLFNBNUtPLDRCQTRLNEJwRyxJQUN0RCxHQXJMZSxXQXFMWEEsRUFBTW5ZLElBSVYsT0FBSWdaLEtBQUt3RixRQUFRc0UsVUFDZjNLLEVBQU1nRCxzQkFDTm5DLEtBQUtxTyxhQUlQck8sS0FBS3lXLDRCQUE0QixJQUVuQ2xXLEdBQWFZLEdBQUd0Z0IsT0EzTEcsbUJBMkxxQixLQUNsQ21mLEtBQUtvTyxXQUFhcE8sS0FBSzROLGtCQUN6QjVOLEtBQUttVyxlQUNQLElBRUY1VixHQUFhWSxHQUFHbkIsS0FBS3VGLFNBL0xPLDhCQStMNEJwRyxJQUNsREEsRUFBTXBTLFNBQVdvUyxFQUFNdVgsZ0JBS0csV0FBMUIxVyxLQUFLd0YsUUFBUTRPLFNBTWJwVSxLQUFLd0YsUUFBUTRPLFVBQ2ZwVSxLQUFLcU8sT0FOTHJPLEtBQUt5Vyw2QkFPUCxHQUVKLENBRUFKLGFBQ0VyVyxLQUFLdUYsU0FBU3RqQixNQUFNaXVCLFFBQVUsT0FFOUJsUSxLQUFLdUYsU0FBU2hqQixhQUFhLGVBQWUsR0FFMUN5ZCxLQUFLdUYsU0FBU2pqQixnQkFBZ0IsY0FFOUIwZCxLQUFLdUYsU0FBU2pqQixnQkFBZ0IsUUFFOUIwZCxLQUFLNE4sa0JBQW1CLEVBRXhCNU4sS0FBSzhWLFVBQVV6SCxNQUFLLEtBQ2xCN29CLFNBQVNrSCxLQUFLNk8sVUFBVTBILE9BQU9zUyxJQUUvQnZWLEtBQUsyVyxvQkFFTDNXLEtBQUtrVyxXQUFXdmpCLFFBRWhCNE4sR0FBYWtCLFFBQVF6QixLQUFLdUYsU0FBVThQLEdBQWUsR0FFdkQsQ0FFQXRJLGNBQ0UsT0FBTy9NLEtBQUt1RixTQUFTaEssVUFBVTVXLFNBcE9ULE9BcU94QixDQUVBOHhCLDZCQUdFLEdBRmtCbFcsR0FBYWtCLFFBQVF6QixLQUFLdUYsU0FqUGpCLDBCQW1QYjFELGlCQUNaLE9BR0YsTUFBTStVLEVBQXFCNVcsS0FBS3VGLFNBQVM1WCxhQUFlbkksU0FBU0MsZ0JBQWdCeUMsYUFDM0UydUIsRUFBbUI3VyxLQUFLdUYsU0FBU3RqQixNQUFNc0ssVUFFcEIsV0FBckJzcUIsR0FBaUM3VyxLQUFLdUYsU0FBU2hLLFVBQVU1VyxTQUFTOHdCLE1BSWpFbUIsSUFDSDVXLEtBQUt1RixTQUFTdGpCLE1BQU1zSyxVQUFZLFVBR2xDeVQsS0FBS3VGLFNBQVNoSyxVQUFVdkUsSUFBSXllLElBRTVCelYsS0FBSzhGLGdCQUFlLEtBQ2xCOUYsS0FBS3VGLFNBQVNoSyxVQUFVMEgsT0FBT3dTLElBRS9CelYsS0FBSzhGLGdCQUFlLEtBQ2xCOUYsS0FBS3VGLFNBQVN0akIsTUFBTXNLLFVBQVlzcUIsQ0FBZ0IsR0FDL0M3VyxLQUFLNlYsUUFBUSxHQUNmN1YsS0FBSzZWLFNBRVI3VixLQUFLdUYsU0FBU3FMLFFBQ2hCLENBTUF1RixnQkFDRSxNQUFNUyxFQUFxQjVXLEtBQUt1RixTQUFTNVgsYUFBZW5JLFNBQVNDLGdCQUFnQnlDLGFBRTNFK3FCLEVBQWlCalQsS0FBS2tXLFdBQVczRCxXQUVqQ3VFLEVBQW9CN0QsRUFBaUIsRUFFM0MsR0FBSTZELElBQXNCRixFQUFvQixDQUM1QyxNQUFNMXpCLEVBQVdnWixLQUFVLGNBQWdCLGVBQzNDOEQsS0FBS3VGLFNBQVN0akIsTUFBTWlCLEdBQVksR0FBRyt2QixLQUNyQyxDQUVBLElBQUs2RCxHQUFxQkYsRUFBb0IsQ0FDNUMsTUFBTTF6QixFQUFXZ1osS0FBVSxlQUFpQixjQUM1QzhELEtBQUt1RixTQUFTdGpCLE1BQU1pQixHQUFZLEdBQUcrdkIsS0FDckMsQ0FDRixDQUVBMEQsb0JBQ0UzVyxLQUFLdUYsU0FBU3RqQixNQUFNODBCLFlBQWMsR0FDbEMvVyxLQUFLdUYsU0FBU3RqQixNQUFNKzBCLGFBQWUsRUFDckMsQ0FHQWhSLHVCQUF1QnpCLEVBQVExRSxHQUM3QixPQUFPRyxLQUFLNEcsTUFBSyxXQUNmLE1BQU1oYyxFQUFPZ3JCLEdBQU1wUCxvQkFBb0J4RyxLQUFNdUUsR0FFN0MsR0FBc0IsaUJBQVhBLEVBQVgsQ0FJQSxRQUE0QixJQUFqQjNaLEVBQUsyWixHQUNkLE1BQU0sSUFBSVksVUFBVSxvQkFBb0JaLE1BRzFDM1osRUFBSzJaLEdBQVExRSxFQU5iLENBT0YsR0FDRixFQVFGVSxHQUFhWSxHQUFHM2IsU0ExVGUsMEJBUUEsNEJBa1QyQyxTQUFVMlosR0FDbEYsTUFBTXBTLEVBQVNzTixHQUF1QjJGLE1BRWxDLENBQUMsSUFBSyxRQUFRL0YsU0FBUytGLEtBQUt1RyxVQUM5QnBILEVBQU1nRCxpQkFHUjVCLEdBQWFhLElBQUlyVSxFQUFRdW9CLElBQWMyQixJQUNqQ0EsRUFBVXBWLGtCQUtkdEIsR0FBYWEsSUFBSXJVLEVBQVFzb0IsSUFBZ0IsS0FDbkN4YSxHQUFVbUYsT0FDWkEsS0FBSzRRLE9BQ1AsR0FDQSxJQUdKLE1BQU1zRyxFQUFjalEsR0FBZUMsUUF6VWIsZUEyVWxCZ1EsR0FDRnRCLEdBQU0zUCxZQUFZaVIsR0FBYTdJLE9BR3BCdUgsR0FBTXBQLG9CQUFvQnpaLEdBQ2xDZ2EsT0FBTy9HLEtBQ2QsSUFDQW1HLEdBQXFCeVAsSUFLckJ4WixHQUFtQndaLElBWW5CLE1BTU11QixHQUFvQixPQUNwQkMsR0FBdUIsVUFDdkJDLEdBQW9CLFNBRXBCQyxHQUFnQixrQkFJaEJDLEdBQXVCLDZCQUN2QkMsR0FBaUIsc0JBS2pCQyxHQUFZLENBQ2hCckQsVUFBVSxFQUNWdEssVUFBVSxFQUNWOWUsUUFBUSxHQUVKMHNCLEdBQWdCLENBQ3BCdEQsU0FBVSxtQkFDVnRLLFNBQVUsVUFDVjllLE9BQVEsV0FNVixNQUFNMnNCLFdBQWtCdFMsR0FDdEJULFlBQVlwa0IsRUFBUytqQixHQUNuQmUsTUFBTTlrQixFQUFTK2pCLEdBQ2Z2RSxLQUFLb08sVUFBVyxFQUNoQnBPLEtBQUs4VixVQUFZOVYsS0FBSytWLHNCQUN0Qi9WLEtBQUtnVyxXQUFhaFcsS0FBS2lXLHVCQUV2QmpXLEtBQUsySyxvQkFDUCxDQUdXeEcscUJBQ1QsT0FBT3NULEVBQ1QsQ0FFV3JULHlCQUNULE9BQU9zVCxFQUNULENBRVdsYixrQkFDVCxNQXREVyxXQXVEYixDQUdBdUssT0FBT2xILEdBQ0wsT0FBT0csS0FBS29PLFNBQVdwTyxLQUFLcU8sT0FBU3JPLEtBQUtzTyxLQUFLek8sRUFDakQsQ0FFQXlPLEtBQUt6TyxHQUNDRyxLQUFLb08sVUFJUzdOLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBeEQzQixvQkF3RG1ELENBQ2xFMUYsa0JBR1lnQyxtQkFJZDdCLEtBQUtvTyxVQUFXLEVBRWhCcE8sS0FBSzhWLFVBQVV4SCxPQUVWdE8sS0FBS3dGLFFBQVF4YSxTQUNoQixJQUFJc25CLElBQWtCakUsT0FHeEJyTyxLQUFLdUYsU0FBU2hqQixhQUFhLGNBQWMsR0FFekN5ZCxLQUFLdUYsU0FBU2hqQixhQUFhLE9BQVEsVUFFbkN5ZCxLQUFLdUYsU0FBU2hLLFVBQVV2RSxJQUFJb2dCLElBZ0I1QnBYLEtBQUs4RixnQkFkb0IsS0FDbEI5RixLQUFLd0YsUUFBUXhhLFNBQVVnVixLQUFLd0YsUUFBUTRPLFVBQ3ZDcFUsS0FBS2dXLFdBQVdoQixXQUdsQmhWLEtBQUt1RixTQUFTaEssVUFBVXZFLElBQUltZ0IsSUFFNUJuWCxLQUFLdUYsU0FBU2hLLFVBQVUwSCxPQUFPbVUsSUFFL0I3VyxHQUFha0IsUUFBUXpCLEtBQUt1RixTQXRGVixxQkFzRm1DLENBQ2pEMUYsaUJBQ0EsR0FHa0NHLEtBQUt1RixVQUFVLEdBQ3ZELENBRUE4SSxPQUNPck8sS0FBS29PLFdBSVE3TixHQUFha0IsUUFBUXpCLEtBQUt1RixTQWxHM0IscUJBb0dIMUQsbUJBSWQ3QixLQUFLZ1csV0FBV2IsYUFFaEJuVixLQUFLdUYsU0FBU3FTLE9BRWQ1WCxLQUFLb08sVUFBVyxFQUVoQnBPLEtBQUt1RixTQUFTaEssVUFBVXZFLElBQUlxZ0IsSUFFNUJyWCxLQUFLOFYsVUFBVXpILE9BZ0Jmck8sS0FBSzhGLGdCQWRvQixLQUN2QjlGLEtBQUt1RixTQUFTaEssVUFBVTBILE9BQU9rVSxHQUFtQkUsSUFFbERyWCxLQUFLdUYsU0FBU2pqQixnQkFBZ0IsY0FFOUIwZCxLQUFLdUYsU0FBU2pqQixnQkFBZ0IsUUFFekIwZCxLQUFLd0YsUUFBUXhhLFNBQ2hCLElBQUlzbkIsSUFBa0IzZixRQUd4QjROLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBQVVpUyxHQUFlLEdBR2Z4WCxLQUFLdUYsVUFBVSxJQUN2RCxDQUVBRyxVQUNFMUYsS0FBSzhWLFVBQVVwUSxVQUVmMUYsS0FBS2dXLFdBQVdiLGFBRWhCN1AsTUFBTUksU0FDUixDQUdBcVEsc0JBQ0UsTUFVTWxiLEVBQVlpRyxRQUFRZCxLQUFLd0YsUUFBUTRPLFVBQ3ZDLE9BQU8sSUFBSUwsR0FBUyxDQUNsQkosVUE3SnNCLHFCQThKdEI5WSxZQUNBa0wsWUFBWSxFQUNaOE4sWUFBYTdULEtBQUt1RixTQUFTcmdCLFdBQzNCMHVCLGNBQWUvWSxFQWhCSyxLQUNVLFdBQTFCbUYsS0FBS3dGLFFBQVE0TyxTQUtqQnBVLEtBQUtxTyxPQUpIOU4sR0FBYWtCLFFBQVF6QixLQUFLdUYsU0FBVWdTLEdBSTNCLEVBVWdDLE1BRS9DLENBRUF0Qix1QkFDRSxPQUFPLElBQUlwQixHQUFVLENBQ25CRixZQUFhM1UsS0FBS3VGLFVBRXRCLENBRUFvRixxQkFDRXBLLEdBQWFZLEdBQUduQixLQUFLdUYsU0FuS0ssZ0NBbUs0QnBHLElBaEx2QyxXQWlMVEEsRUFBTW5ZLE1BSUxnWixLQUFLd0YsUUFBUXNFLFNBS2xCOUosS0FBS3FPLE9BSkg5TixHQUFha0IsUUFBUXpCLEtBQUt1RixTQUFVZ1MsSUFJM0IsR0FFZixDQUdBdlIsdUJBQXVCekIsR0FDckIsT0FBT3ZFLEtBQUs0RyxNQUFLLFdBQ2YsTUFBTWhjLEVBQU8rc0IsR0FBVW5SLG9CQUFvQnhHLEtBQU11RSxHQUVqRCxHQUFzQixpQkFBWEEsRUFBWCxDQUlBLFFBQXFCaEwsSUFBakIzTyxFQUFLMlosSUFBeUJBLEVBQU9ySyxXQUFXLE1BQW1CLGdCQUFYcUssRUFDMUQsTUFBTSxJQUFJWSxVQUFVLG9CQUFvQlosTUFHMUMzWixFQUFLMlosR0FBUXZFLEtBTmIsQ0FPRixHQUNGLEVBUUZPLEdBQWFZLEdBQUczYixTQXpNZSw4QkFFQSxnQ0F1TTJDLFNBQVUyWixHQUNsRixNQUFNcFMsRUFBU3NOLEdBQXVCMkYsTUFNdEMsR0FKSSxDQUFDLElBQUssUUFBUS9GLFNBQVMrRixLQUFLdUcsVUFDOUJwSCxFQUFNZ0QsaUJBR0ovRyxHQUFXNEUsTUFDYixPQUdGTyxHQUFhYSxJQUFJclUsRUFBUXlxQixJQUFnQixLQUVuQzNjLEdBQVVtRixPQUNaQSxLQUFLNFEsT0FDUCxJQUdGLE1BQU1zRyxFQUFjalEsR0FBZUMsUUFBUW9RLElBRXZDSixHQUFlQSxJQUFnQm5xQixHQUNqQzRxQixHQUFVMVIsWUFBWWlSLEdBQWE3SSxPQUd4QnNKLEdBQVVuUixvQkFBb0J6WixHQUN0Q2dhLE9BQU8vRyxLQUNkLElBQ0FPLEdBQWFZLEdBQUd0Z0IsT0FqUGMsOEJBaVBpQixLQUM3QyxJQUFLLE1BQU1pWixLQUFZbU4sR0FBZXpVLEtBQUs4a0IsSUFDekNLLEdBQVVuUixvQkFBb0IxTSxHQUFVd1UsTUFDMUMsSUFFRi9OLEdBQWFZLEdBQUd0Z0IsT0ExT0ssdUJBME9pQixLQUNwQyxJQUFLLE1BQU1MLEtBQVd5bUIsR0FBZXpVLEtBQUssZ0RBQ0csVUFBdkNwTixpQkFBaUI1RSxHQUFTbUMsVUFDNUJnMUIsR0FBVW5SLG9CQUFvQmhtQixHQUFTNnRCLE1BRTNDLElBRUZsSSxHQUFxQndSLElBS3JCdmIsR0FBbUJ1YixJQVFuQixNQUFNRSxHQUFnQixJQUFJaGhCLElBQUksQ0FBQyxhQUFjLE9BQVEsT0FBUSxXQUFZLFdBQVksU0FBVSxNQUFPLGVBUWhHaWhCLEdBQW1CLGlFQU9uQkMsR0FBbUIscUlBRW5CQyxHQUFtQixDQUFDNzBCLEVBQVc4MEIsS0FDbkMsTUFBTUMsRUFBZ0IvMEIsRUFBVTFDLFNBQVNDLGNBRXpDLE9BQUl1M0IsRUFBcUJoZSxTQUFTaWUsSUFDNUJMLEdBQWMzZ0IsSUFBSWdoQixJQUNicFgsUUFBUWdYLEdBQWlCdHJCLEtBQUtySixFQUFVZzFCLFlBQWNKLEdBQWlCdnJCLEtBQUtySixFQUFVZzFCLFlBTzFGRixFQUFxQnp4QixRQUFPNHhCLEdBQWtCQSxhQUEwQmxULFNBQVFuUyxNQUFLc2xCLEdBQVNBLEVBQU03ckIsS0FBSzByQixJQUFlLEVBRzNISSxHQUFtQixDQUV2QixJQUFLLENBQUMsUUFBUyxNQUFPLEtBQU0sT0FBUSxPQWpDUCxrQkFrQzdCcG5CLEVBQUcsQ0FBQyxTQUFVLE9BQVEsUUFBUyxPQUMvQnFuQixLQUFNLEdBQ05wbkIsRUFBRyxHQUNIcW5CLEdBQUksR0FDSkMsSUFBSyxHQUNMQyxLQUFNLEdBQ05DLElBQUssR0FDTEMsR0FBSSxHQUNKQyxHQUFJLEdBQ0pDLEdBQUksR0FDSkMsR0FBSSxHQUNKQyxHQUFJLEdBQ0pDLEdBQUksR0FDSkMsR0FBSSxHQUNKQyxHQUFJLEdBQ0p6bkIsRUFBRyxHQUNIbWEsSUFBSyxDQUFDLE1BQU8sU0FBVSxNQUFPLFFBQVMsUUFBUyxVQUNoRHVOLEdBQUksR0FDSkMsR0FBSSxHQUNKQyxFQUFHLEdBQ0hDLElBQUssR0FDTEMsRUFBRyxHQUNIQyxNQUFPLEdBQ1BDLEtBQU0sR0FDTkMsSUFBSyxHQUNMQyxJQUFLLEdBQ0xDLE9BQVEsR0FDUkMsRUFBRyxHQUNIQyxHQUFJLElBK0NBQyxHQUFZLENBQ2hCQyxVQUFXM0IsR0FDWDRCLFFBQVMsQ0FBQyxFQUVWQyxXQUFZLEdBQ1ovc0IsTUFBTSxFQUNOZ3RCLFVBQVUsRUFDVkMsV0FBWSxLQUNaQyxTQUFVLGVBRU5DLEdBQWdCLENBQ3BCTixVQUFXLFNBQ1hDLFFBQVMsU0FDVEMsV0FBWSxvQkFDWi9zQixLQUFNLFVBQ05ndEIsU0FBVSxVQUNWQyxXQUFZLGtCQUNaQyxTQUFVLFVBRU5FLEdBQXFCLENBQ3pCQyxNQUFPLGlDQUNQM2dCLFNBQVUsb0JBTVosTUFBTTRnQixXQUF3QnhXLEdBQzVCVSxZQUFZTCxHQUNWZSxRQUNBdEYsS0FBS3dGLFFBQVV4RixLQUFLc0UsV0FBV0MsRUFDakMsQ0FHV0oscUJBQ1QsT0FBTzZWLEVBQ1QsQ0FFVzVWLHlCQUNULE9BQU9tVyxFQUNULENBRVcvZCxrQkFDVCxNQTVDVyxpQkE2Q2IsQ0FHQW1lLGFBQ0UsT0FBTzk0QixPQUFPcWQsT0FBT2MsS0FBS3dGLFFBQVEwVSxTQUFTdmpCLEtBQUk0TixHQUFVdkUsS0FBSzRhLHlCQUF5QnJXLEtBQVMvZCxPQUFPc2EsUUFDekcsQ0FFQStaLGFBQ0UsT0FBTzdhLEtBQUsyYSxhQUFhNXBCLE9BQVMsQ0FDcEMsQ0FFQStwQixjQUFjWixHQU1aLE9BTEFsYSxLQUFLK2EsY0FBY2IsR0FFbkJsYSxLQUFLd0YsUUFBUTBVLFFBQVUsSUFBS2xhLEtBQUt3RixRQUFRMFUsV0FDcENBLEdBRUVsYSxJQUNULENBRUFnYixTQUNFLE1BQU1DLEVBQWtCejFCLFNBQVM2dUIsY0FBYyxPQUMvQzRHLEVBQWdCQyxVQUFZbGIsS0FBS21iLGVBQWVuYixLQUFLd0YsUUFBUThVLFVBRTdELElBQUssTUFBT3hnQixFQUFVc2hCLEtBQVN2NUIsT0FBT3lnQixRQUFRdEMsS0FBS3dGLFFBQVEwVSxTQUN6RGxhLEtBQUtxYixZQUFZSixFQUFpQkcsRUFBTXRoQixHQUcxQyxNQUFNd2dCLEVBQVdXLEVBQWdCOVQsU0FBUyxHQUVwQ2dULEVBQWFuYSxLQUFLNGEseUJBQXlCNWEsS0FBS3dGLFFBQVEyVSxZQU05RCxPQUpJQSxHQUNGRyxFQUFTL2UsVUFBVXZFLE9BQU9takIsRUFBVzcyQixNQUFNLE1BR3RDZzNCLENBQ1QsQ0FHQTVWLGlCQUFpQkgsR0FDZmUsTUFBTVosaUJBQWlCSCxHQUV2QnZFLEtBQUsrYSxjQUFjeFcsRUFBTzJWLFFBQzVCLENBRUFhLGNBQWNPLEdBQ1osSUFBSyxNQUFPeGhCLEVBQVVvZ0IsS0FBWXI0QixPQUFPeWdCLFFBQVFnWixHQUMvQ2hXLE1BQU1aLGlCQUFpQixDQUNyQjVLLFdBQ0EyZ0IsTUFBT1AsR0FDTk0sR0FFUCxDQUVBYSxZQUFZZixFQUFVSixFQUFTcGdCLEdBQzdCLE1BQU15aEIsRUFBa0J0VSxHQUFlQyxRQUFRcE4sRUFBVXdnQixHQUVwRGlCLEtBSUxyQixFQUFVbGEsS0FBSzRhLHlCQUF5QlYsSUFPcEMsR0FBVUEsR0FDWmxhLEtBQUt3YixzQkFBc0I1Z0IsR0FBV3NmLEdBQVVxQixHQUs5Q3ZiLEtBQUt3RixRQUFRcFksS0FDZm11QixFQUFnQkwsVUFBWWxiLEtBQUttYixlQUFlakIsR0FJbERxQixFQUFnQkUsWUFBY3ZCLEVBZjVCcUIsRUFBZ0J0WSxTQWdCcEIsQ0FFQWtZLGVBQWVHLEdBQ2IsT0FBT3RiLEtBQUt3RixRQUFRNFUsU0E3S3hCLFNBQXNCc0IsRUFBWXpCLEVBQVcwQixHQUMzQyxJQUFLRCxFQUFXM3FCLE9BQ2QsT0FBTzJxQixFQUdULEdBQUlDLEdBQWdELG1CQUFyQkEsRUFDN0IsT0FBT0EsRUFBaUJELEdBRzFCLE1BQ01FLEdBRFksSUFBSS82QixPQUFPZzdCLFdBQ0tDLGdCQUFnQkosRUFBWSxhQUN4RDM1QixFQUFXLEdBQUduQyxVQUFVZzhCLEVBQWdCbHZCLEtBQUswVCxpQkFBaUIsTUFFcEUsSUFBSyxNQUFNNWYsS0FBV3VCLEVBQVUsQ0FDOUIsTUFBTWc2QixFQUFjdjdCLEVBQVFDLFNBQVNDLGNBRXJDLElBQUttQixPQUFPQyxLQUFLbTRCLEdBQVdoZ0IsU0FBUzhoQixHQUFjLENBQ2pEdjdCLEVBQVF5aUIsU0FDUixRQUNGLENBRUEsTUFBTStZLEVBQWdCLEdBQUdwOEIsVUFBVVksRUFBUTJCLFlBQ3JDODVCLEVBQW9CLEdBQUdyOEIsT0FBT3E2QixFQUFVLE1BQVEsR0FBSUEsRUFBVThCLElBQWdCLElBRXBGLElBQUssTUFBTTU0QixLQUFhNjRCLEVBQ2pCaEUsR0FBaUI3MEIsRUFBVzg0QixJQUMvQno3QixFQUFROEIsZ0JBQWdCYSxFQUFVMUMsU0FHeEMsQ0FFQSxPQUFPbTdCLEVBQWdCbHZCLEtBQUt3dUIsU0FDOUIsQ0E2SW1DZ0IsQ0FBYVosRUFBS3RiLEtBQUt3RixRQUFReVUsVUFBV2phLEtBQUt3RixRQUFRNlUsWUFBY2lCLENBQ3RHLENBRUFWLHlCQUF5QlUsR0FDdkIsTUFBc0IsbUJBQVJBLEVBQXFCQSxFQUFJdGIsTUFBUXNiLENBQ2pELENBRUFFLHNCQUFzQmg3QixFQUFTKzZCLEdBQzdCLEdBQUl2YixLQUFLd0YsUUFBUXBZLEtBR2YsT0FGQW11QixFQUFnQkwsVUFBWSxRQUM1QkssRUFBZ0JqSCxPQUFPOXpCLEdBSXpCKzZCLEVBQWdCRSxZQUFjajdCLEVBQVFpN0IsV0FDeEMsRUFjRixNQUNNVSxHQUF3QixJQUFJdGxCLElBQUksQ0FBQyxXQUFZLFlBQWEsZUFDMUR1bEIsR0FBb0IsT0FFcEJDLEdBQW9CLE9BRXBCQyxHQUFpQixTQUNqQkMsR0FBbUIsZ0JBQ25CQyxHQUFnQixRQUNoQkMsR0FBZ0IsUUFhaEJDLEdBQWdCLENBQ3BCQyxLQUFNLE9BQ05DLElBQUssTUFDTEMsTUFBTzNnQixLQUFVLE9BQVMsUUFDMUI0Z0IsT0FBUSxTQUNSQyxLQUFNN2dCLEtBQVUsUUFBVSxRQUV0QjhnQixHQUFZLENBQ2hCL0MsVUFBVzNCLEdBQ1gyRSxXQUFXLEVBQ1gzdUIsU0FBVSxrQkFDVjR1QixXQUFXLEVBQ1hDLFlBQWEsR0FDYkMsTUFBTyxFQUNQL3NCLG1CQUFvQixDQUFDLE1BQU8sUUFBUyxTQUFVLFFBQy9DakQsTUFBTSxFQUNOOUUsT0FBUSxDQUFDLEVBQUcsR0FDWjNJLFVBQVcsTUFDWHd3QixhQUFjLEtBQ2RpSyxVQUFVLEVBQ1ZDLFdBQVksS0FDWnZnQixVQUFVLEVBQ1Z3Z0IsU0FBVSwrR0FDVitDLE1BQU8sR0FDUDViLFFBQVMsZUFFTDZiLEdBQWdCLENBQ3BCckQsVUFBVyxTQUNYZ0QsVUFBVyxVQUNYM3VCLFNBQVUsbUJBQ1Y0dUIsVUFBVywyQkFDWEMsWUFBYSxvQkFDYkMsTUFBTyxrQkFDUC9zQixtQkFBb0IsUUFDcEJqRCxLQUFNLFVBQ045RSxPQUFRLDBCQUNSM0ksVUFBVyxvQkFDWHd3QixhQUFjLHlCQUNkaUssU0FBVSxVQUNWQyxXQUFZLGtCQUNadmdCLFNBQVUsbUJBQ1Z3Z0IsU0FBVSxTQUNWK0MsTUFBTyw0QkFDUDViLFFBQVMsVUFNWCxNQUFNOGIsV0FBZ0JsWSxHQUNwQlQsWUFBWXBrQixFQUFTK2pCLEdBQ25CLFFBQXNCLElBQVgsRUFDVCxNQUFNLElBQUlZLFVBQVUsK0RBR3RCRyxNQUFNOWtCLEVBQVMrakIsR0FFZnZFLEtBQUt3ZCxZQUFhLEVBQ2xCeGQsS0FBS3lkLFNBQVcsRUFDaEJ6ZCxLQUFLMGQsWUFBYSxFQUNsQjFkLEtBQUsyZCxlQUFpQixDQUFDLEVBQ3ZCM2QsS0FBS3NRLFFBQVUsS0FDZnRRLEtBQUs0ZCxpQkFBbUIsS0FDeEI1ZCxLQUFLNmQsWUFBYyxLQUVuQjdkLEtBQUs4ZCxJQUFNLEtBRVg5ZCxLQUFLK2QsZUFDUCxDQUdXNVoscUJBQ1QsT0FBTzZZLEVBQ1QsQ0FFVzVZLHlCQUNULE9BQU9rWixFQUNULENBRVc5Z0Isa0JBQ1QsTUF0R1csU0F1R2IsQ0FHQXdoQixTQUNFaGUsS0FBS3dkLFlBQWEsQ0FDcEIsQ0FFQVMsVUFDRWplLEtBQUt3ZCxZQUFhLENBQ3BCLENBRUFVLGdCQUNFbGUsS0FBS3dkLFlBQWN4ZCxLQUFLd2QsVUFDMUIsQ0FFQXpXLE9BQU81SCxHQUNMLEdBQUthLEtBQUt3ZCxXQUFWLENBSUEsR0FBSXJlLEVBQU8sQ0FDVCxNQUFNcVMsRUFBVXhSLEtBQUttZSw2QkFBNkJoZixHQVVsRCxPQVJBcVMsRUFBUW1NLGVBQWVTLE9BQVM1TSxFQUFRbU0sZUFBZVMsV0FFbkQ1TSxFQUFRNk0sdUJBQ1Y3TSxFQUFROE0sU0FFUjlNLEVBQVErTSxTQUlaLENBRUl2ZSxLQUFLb08sV0FDUHBPLEtBQUt1ZSxTQUtQdmUsS0FBS3NlLFFBdEJMLENBdUJGLENBRUE1WSxVQUNFc0csYUFBYWhNLEtBQUt5ZCxVQUNsQmxkLEdBQWFDLElBQUlSLEtBQUt1RixTQUFTckssUUFBUW9oQixJQUFpQkMsR0FBa0J2YyxLQUFLd2UsbUJBRTNFeGUsS0FBSzhkLEtBQ1A5ZCxLQUFLOGQsSUFBSTdhLFNBR1hqRCxLQUFLeWUsaUJBRUxuWixNQUFNSSxTQUNSLENBRUE0SSxPQUNFLEdBQW9DLFNBQWhDdE8sS0FBS3VGLFNBQVN0akIsTUFBTWl1QixRQUN0QixNQUFNLElBQUk3TCxNQUFNLHVDQUdsQixJQUFNckUsS0FBSzBlLG1CQUFvQjFlLEtBQUt3ZCxXQUNsQyxPQUdGLE1BQU12RyxFQUFZMVcsR0FBYWtCLFFBQVF6QixLQUFLdUYsU0FBVXZGLEtBQUs0RSxZQUFZOEgsVUExSnRELFNBNkpYaVMsR0FGYWpqQixHQUFlc0UsS0FBS3VGLFdBRUx2RixLQUFLdUYsU0FBU3hrQixjQUFjMEUsaUJBQWlCZCxTQUFTcWIsS0FBS3VGLFVBRTdGLEdBQUkwUixFQUFVcFYsbUJBQXFCOGMsRUFDakMsT0FJRTNlLEtBQUs4ZCxNQUNQOWQsS0FBSzhkLElBQUk3YSxTQUNUakQsS0FBSzhkLElBQU0sTUFHYixNQUFNQSxFQUFNOWQsS0FBSzRlLGlCQUVqQjVlLEtBQUt1RixTQUFTaGpCLGFBQWEsbUJBQW9CdTdCLEVBQUkvakIsYUFBYSxPQUVoRSxNQUFNLFVBQ0ptakIsR0FDRWxkLEtBQUt3RixRQWtCVCxHQWhCS3hGLEtBQUt1RixTQUFTeGtCLGNBQWMwRSxnQkFBZ0JkLFNBQVNxYixLQUFLOGQsT0FDN0RaLEVBQVU1SSxPQUFPd0osR0FDakJ2ZCxHQUFha0IsUUFBUXpCLEtBQUt1RixTQUFVdkYsS0FBSzRFLFlBQVk4SCxVQWpMcEMsY0FvTGYxTSxLQUFLc1EsUUFDUHRRLEtBQUtzUSxRQUFRaGxCLFNBRWIwVSxLQUFLc1EsUUFBVXRRLEtBQUsyUSxjQUFjbU4sR0FHcENBLEVBQUl2aUIsVUFBVXZFLElBQUlxbEIsSUFLZCxpQkFBa0I3MkIsU0FBU0MsZ0JBQzdCLElBQUssTUFBTWpGLElBQVcsR0FBR1osVUFBVTRGLFNBQVNrSCxLQUFLeWEsVUFDL0M1RyxHQUFhWSxHQUFHM2dCLEVBQVMsWUFBYXFiLElBYzFDbUUsS0FBSzhGLGdCQVZZLEtBQ2YsTUFBTStZLEVBQXFCN2UsS0FBSzBkLFdBQ2hDMWQsS0FBSzBkLFlBQWEsRUFDbEJuZCxHQUFha0IsUUFBUXpCLEtBQUt1RixTQUFVdkYsS0FBSzRFLFlBQVk4SCxVQXpNckMsVUEyTVptUyxHQUNGN2UsS0FBS3VlLFFBQ1AsR0FHNEJ2ZSxLQUFLOGQsSUFBSzlkLEtBQUsrTSxjQUMvQyxDQUVBc0IsT0FDRSxJQUFLck8sS0FBS29PLFdBQ1IsT0FLRixHQUZrQjdOLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBQVV2RixLQUFLNEUsWUFBWThILFVBM050RCxTQTZOSDdLLGlCQUNaLE9BR0YsTUFBTWljLEVBQU05ZCxLQUFLNGUsaUJBS2pCLEdBSEFkLEVBQUl2aUIsVUFBVTBILE9BQU9vWixJQUdqQixpQkFBa0I3MkIsU0FBU0MsZ0JBQzdCLElBQUssTUFBTWpGLElBQVcsR0FBR1osVUFBVTRGLFNBQVNrSCxLQUFLeWEsVUFDL0M1RyxHQUFhQyxJQUFJaGdCLEVBQVMsWUFBYXFiLElBSTNDbUUsS0FBSzJkLGVBQTRCLE9BQUksRUFDckMzZCxLQUFLMmQsZUFBNEIsT0FBSSxFQUNyQzNkLEtBQUsyZCxlQUE0QixPQUFJLEVBQ3JDM2QsS0FBSzBkLFlBQWEsRUFrQmxCMWQsS0FBSzhGLGdCQWhCWSxLQUNYOUYsS0FBS3FlLHlCQUlKcmUsS0FBSzBkLFlBQ1JJLEVBQUk3YSxTQUdOakQsS0FBS3VGLFNBQVNqakIsZ0JBQWdCLG9CQUU5QmllLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBQVV2RixLQUFLNEUsWUFBWThILFVBM1BwQyxXQTZQakIxTSxLQUFLeWUsaUJBQWdCLEdBR096ZSxLQUFLOGQsSUFBSzlkLEtBQUsrTSxjQUMvQyxDQUVBemhCLFNBQ00wVSxLQUFLc1EsU0FDUHRRLEtBQUtzUSxRQUFRaGxCLFFBRWpCLENBR0FvekIsaUJBQ0UsT0FBTzVkLFFBQVFkLEtBQUs4ZSxZQUN0QixDQUVBRixpQkFLRSxPQUpLNWUsS0FBSzhkLE1BQ1I5ZCxLQUFLOGQsSUFBTTlkLEtBQUsrZSxrQkFBa0IvZSxLQUFLNmQsYUFBZTdkLEtBQUtnZiwyQkFHdERoZixLQUFLOGQsR0FDZCxDQUVBaUIsa0JBQWtCN0UsR0FDaEIsTUFBTTRELEVBQU05ZCxLQUFLaWYsb0JBQW9CL0UsR0FBU2MsU0FHOUMsSUFBSzhDLEVBQ0gsT0FBTyxLQUdUQSxFQUFJdmlCLFVBQVUwSCxPQUFPbVosR0FBbUJDLElBRXhDeUIsRUFBSXZpQixVQUFVdkUsSUFBSSxNQUFNZ0osS0FBSzRFLFlBQVlwSSxhQUN6QyxNQUFNMGlCLEVBMzNIS0MsS0FDYixHQUNFQSxHQUFVNTdCLEtBQUs2N0IsTUFsQkgsSUFrQlM3N0IsS0FBSzg3QixnQkFDbkI3NUIsU0FBUzg1QixlQUFlSCxJQUVqQyxPQUFPQSxDQUFNLEVBczNIR0ksQ0FBT3ZmLEtBQUs0RSxZQUFZcEksTUFBTTFiLFdBTzVDLE9BTkFnOUIsRUFBSXY3QixhQUFhLEtBQU0yOEIsR0FFbkJsZixLQUFLK00sZUFDUCtRLEVBQUl2aUIsVUFBVXZFLElBQUlvbEIsSUFHYjBCLENBQ1QsQ0FFQTBCLFdBQVd0RixHQUNUbGEsS0FBSzZkLFlBQWMzRCxFQUVmbGEsS0FBS29PLGFBQ1BwTyxLQUFLeWUsaUJBRUx6ZSxLQUFLc08sT0FFVCxDQUVBMlEsb0JBQW9CL0UsR0FZbEIsT0FYSWxhLEtBQUs0ZCxpQkFDUDVkLEtBQUs0ZCxpQkFBaUI5QyxjQUFjWixHQUVwQ2xhLEtBQUs0ZCxpQkFBbUIsSUFBSWxELEdBQWdCLElBQUsxYSxLQUFLd0YsUUFHcEQwVSxVQUNBQyxXQUFZbmEsS0FBSzRhLHlCQUF5QjVhLEtBQUt3RixRQUFRMlgsZUFJcERuZCxLQUFLNGQsZ0JBQ2QsQ0FFQW9CLHlCQUNFLE1BQU8sQ0FDTCxpQkFBMEJoZixLQUFLOGUsWUFFbkMsQ0FFQUEsWUFDRSxPQUFPOWUsS0FBSzRhLHlCQUF5QjVhLEtBQUt3RixRQUFRNlgsUUFBVXJkLEtBQUt3RixRQUFRaWEsYUFDM0UsQ0FHQXRCLDZCQUE2QmhmLEdBQzNCLE9BQU9hLEtBQUs0RSxZQUFZNEIsb0JBQW9CckgsRUFBTVcsZUFBZ0JFLEtBQUswZixxQkFDekUsQ0FFQTNTLGNBQ0UsT0FBTy9NLEtBQUt3RixRQUFReVgsV0FBYWpkLEtBQUs4ZCxLQUFPOWQsS0FBSzhkLElBQUl2aUIsVUFBVTVXLFNBQVN5M0IsR0FDM0UsQ0FFQWhPLFdBQ0UsT0FBT3BPLEtBQUs4ZCxLQUFPOWQsS0FBSzhkLElBQUl2aUIsVUFBVTVXLFNBQVMwM0IsR0FDakQsQ0FFQTFMLGNBQWNtTixHQUNaLE1BQU1uK0IsRUFBOEMsbUJBQTNCcWdCLEtBQUt3RixRQUFRN2xCLFVBQTJCcWdCLEtBQUt3RixRQUFRN2xCLFVBQVVvZ0IsS0FBS0MsS0FBTThkLEVBQUs5ZCxLQUFLdUYsVUFBWXZGLEtBQUt3RixRQUFRN2xCLFVBQ2hJZ2dDLEVBQWFqRCxHQUFjLzhCLEVBQVV5bEIsZUFDM0MsT0FBTyxHQUFvQnBGLEtBQUt1RixTQUFVdVksRUFBSzlkLEtBQUsrUSxpQkFBaUI0TyxHQUN2RSxDQUVBeE8sYUFDRSxNQUFNLE9BQ0o3b0IsR0FDRTBYLEtBQUt3RixRQUVULE1BQXNCLGlCQUFYbGQsRUFDRkEsRUFBT2hGLE1BQU0sS0FBS3FULEtBQUl0VSxHQUFTaWIsT0FBTytPLFNBQVNocUIsRUFBTyxNQUd6QyxtQkFBWGlHLEVBQ0Y4b0IsR0FBYzlvQixFQUFPOG9CLEVBQVlwUixLQUFLdUYsVUFHeENqZCxDQUNULENBRUFzeUIseUJBQXlCVSxHQUN2QixNQUFzQixtQkFBUkEsRUFBcUJBLEVBQUl2YixLQUFLQyxLQUFLdUYsVUFBWStWLENBQy9ELENBRUF2SyxpQkFBaUI0TyxHQUNmLE1BQU10TyxFQUF3QixDQUM1QjF4QixVQUFXZ2dDLEVBQ1hqcEIsVUFBVyxDQUFDLENBQ1ZuVixLQUFNLE9BQ05xQixRQUFTLENBQ1B5TixtQkFBb0IyUCxLQUFLd0YsUUFBUW5WLHFCQUVsQyxDQUNEOU8sS0FBTSxTQUNOcUIsUUFBUyxDQUNQMEYsT0FBUTBYLEtBQUttUixlQUVkLENBQ0Q1dkIsS0FBTSxrQkFDTnFCLFFBQVMsQ0FDUDBMLFNBQVUwUixLQUFLd0YsUUFBUWxYLFdBRXhCLENBQ0QvTSxLQUFNLFFBQ05xQixRQUFTLENBQ1BwQyxRQUFTLElBQUl3ZixLQUFLNEUsWUFBWXBJLGVBRS9CLENBQ0RqYixLQUFNLGtCQUNOQyxTQUFTLEVBQ1RDLE1BQU8sYUFDUEMsR0FBSWtKLElBR0ZvVixLQUFLNGUsaUJBQWlCcjhCLGFBQWEsd0JBQXlCcUksRUFBS2hKLE1BQU1qQyxVQUFVLEtBSXZGLE1BQU8sSUFBSzB4QixLQUMrQixtQkFBOUJyUixLQUFLd0YsUUFBUTJLLGFBQThCblEsS0FBS3dGLFFBQVEySyxhQUFha0IsR0FBeUJyUixLQUFLd0YsUUFBUTJLLGFBRTFILENBRUE0TixnQkFDRSxNQUFNNkIsRUFBVzVmLEtBQUt3RixRQUFRL0QsUUFBUW5lLE1BQU0sS0FFNUMsSUFBSyxNQUFNbWUsS0FBV21lLEVBQ3BCLEdBQWdCLFVBQVpuZSxFQUNGbEIsR0FBYVksR0FBR25CLEtBQUt1RixTQUFVdkYsS0FBSzRFLFlBQVk4SCxVQTdabEMsU0E2WjREMU0sS0FBS3dGLFFBQVExTCxVQUFVcUYsR0FBU2EsS0FBSytHLE9BQU81SCxVQUNqSCxHQXBhVSxXQW9hTnNDLEVBQTRCLENBQ3JDLE1BQU1vZSxFQUFVcGUsSUFBWSthLEdBQWdCeGMsS0FBSzRFLFlBQVk4SCxVQTVaNUMsY0E0WjBFMU0sS0FBSzRFLFlBQVk4SCxVQTlaNUYsV0ErWlZvVCxFQUFXcmUsSUFBWSthLEdBQWdCeGMsS0FBSzRFLFlBQVk4SCxVQTVaN0MsY0E0WjJFMU0sS0FBSzRFLFlBQVk4SCxVQTlaNUYsWUErWmpCbk0sR0FBYVksR0FBR25CLEtBQUt1RixTQUFVc2EsRUFBUzdmLEtBQUt3RixRQUFRMUwsVUFBVXFGLElBQzdELE1BQU1xUyxFQUFVeFIsS0FBS21lLDZCQUE2QmhmLEdBRWxEcVMsRUFBUW1NLGVBQThCLFlBQWZ4ZSxFQUFNc0IsS0FBcUJnYyxHQUFnQkQsS0FBaUIsRUFFbkZoTCxFQUFROE0sUUFBUSxJQUVsQi9kLEdBQWFZLEdBQUduQixLQUFLdUYsU0FBVXVhLEVBQVU5ZixLQUFLd0YsUUFBUTFMLFVBQVVxRixJQUM5RCxNQUFNcVMsRUFBVXhSLEtBQUttZSw2QkFBNkJoZixHQUVsRHFTLEVBQVFtTSxlQUE4QixhQUFmeGUsRUFBTXNCLEtBQXNCZ2MsR0FBZ0JELElBQWlCaEwsRUFBUWpNLFNBQVM1Z0IsU0FBU3dhLEVBQU1VLGVBRXBIMlIsRUFBUStNLFFBQVEsR0FFcEIsQ0FHRnZlLEtBQUt3ZSxrQkFBb0IsS0FDbkJ4ZSxLQUFLdUYsVUFDUHZGLEtBQUtxTyxNQUNQLEVBR0Y5TixHQUFhWSxHQUFHbkIsS0FBS3VGLFNBQVNySyxRQUFRb2hCLElBQWlCQyxHQUFrQnZjLEtBQUt3ZSxtQkFFMUV4ZSxLQUFLd0YsUUFBUTFMLFNBQ2ZrRyxLQUFLd0YsUUFBVSxJQUFLeEYsS0FBS3dGLFFBQ3ZCL0QsUUFBUyxTQUNUM0gsU0FBVSxJQUdaa0csS0FBSytmLFdBRVQsQ0FFQUEsWUFDRSxNQUFNMUMsRUFBUXJkLEtBQUt3RixRQUFRaWEsY0FFdEJwQyxJQUlBcmQsS0FBS3VGLFNBQVN4TCxhQUFhLGVBQWtCaUcsS0FBS3VGLFNBQVNrVyxZQUFZdGhCLFFBQzFFNkYsS0FBS3VGLFNBQVNoakIsYUFBYSxhQUFjODZCLEdBRzNDcmQsS0FBS3VGLFNBQVNqakIsZ0JBQWdCLFNBQ2hDLENBRUFnOEIsU0FDTXRlLEtBQUtvTyxZQUFjcE8sS0FBSzBkLFdBQzFCMWQsS0FBSzBkLFlBQWEsR0FJcEIxZCxLQUFLMGQsWUFBYSxFQUVsQjFkLEtBQUtnZ0IsYUFBWSxLQUNYaGdCLEtBQUswZCxZQUNQMWQsS0FBS3NPLE1BQ1AsR0FDQ3RPLEtBQUt3RixRQUFRNFgsTUFBTTlPLE1BQ3hCLENBRUFpUSxTQUNNdmUsS0FBS3FlLHlCQUlUcmUsS0FBSzBkLFlBQWEsRUFFbEIxZCxLQUFLZ2dCLGFBQVksS0FDVmhnQixLQUFLMGQsWUFDUjFkLEtBQUtxTyxNQUNQLEdBQ0NyTyxLQUFLd0YsUUFBUTRYLE1BQU0vTyxNQUN4QixDQUVBMlIsWUFBWXJpQixFQUFTc2lCLEdBQ25CalUsYUFBYWhNLEtBQUt5ZCxVQUNsQnpkLEtBQUt5ZCxTQUFXN2YsV0FBV0QsRUFBU3NpQixFQUN0QyxDQUVBNUIsdUJBQ0UsT0FBT3g4QixPQUFPcWQsT0FBT2MsS0FBSzJkLGdCQUFnQjFqQixVQUFTLEVBQ3JELENBRUFxSyxXQUFXQyxHQUNULE1BQU0yYixFQUFpQnpjLEdBQVlHLGtCQUFrQjVELEtBQUt1RixVQUUxRCxJQUFLLE1BQU00YSxLQUFpQnQrQixPQUFPQyxLQUFLbytCLEdBQ2xDL0QsR0FBc0JqbEIsSUFBSWlwQixXQUNyQkQsRUFBZUMsR0FZMUIsT0FSQTViLEVBQVMsSUFBSzJiLEtBQ1UsaUJBQVgzYixHQUF1QkEsRUFBU0EsRUFBUyxDQUFDLEdBRXZEQSxFQUFTdkUsS0FBS3dFLGdCQUFnQkQsR0FDOUJBLEVBQVN2RSxLQUFLeUUsa0JBQWtCRixHQUVoQ3ZFLEtBQUswRSxpQkFBaUJILEdBRWZBLENBQ1QsQ0FFQUUsa0JBQWtCRixHQW9CaEIsT0FuQkFBLEVBQU8yWSxXQUFpQyxJQUFyQjNZLEVBQU8yWSxVQUFzQjEzQixTQUFTa0gsS0FBT2tPLEdBQVcySixFQUFPMlksV0FFdEQsaUJBQWpCM1ksRUFBTzZZLFFBQ2hCN1ksRUFBTzZZLE1BQVEsQ0FDYjlPLEtBQU0vSixFQUFPNlksTUFDYi9PLEtBQU05SixFQUFPNlksUUFJakI3WSxFQUFPa2IsY0FBZ0J6ZixLQUFLdUYsU0FBU3hMLGFBQWEsVUFBWSxHQUVsQyxpQkFBakJ3SyxFQUFPOFksUUFDaEI5WSxFQUFPOFksTUFBUTlZLEVBQU84WSxNQUFNdjhCLFlBR0EsaUJBQW5CeWpCLEVBQU8yVixVQUNoQjNWLEVBQU8yVixRQUFVM1YsRUFBTzJWLFFBQVFwNUIsWUFHM0J5akIsQ0FDVCxDQUVBbWIscUJBQ0UsTUFBTW5iLEVBQVMsQ0FBQyxFQUVoQixJQUFLLE1BQU12ZCxLQUFPZ1osS0FBS3dGLFFBQ2pCeEYsS0FBSzRFLFlBQVlULFFBQVFuZCxLQUFTZ1osS0FBS3dGLFFBQVF4ZSxLQUNqRHVkLEVBQU92ZCxHQUFPZ1osS0FBS3dGLFFBQVF4ZSxJQU8vQixPQUFPdWQsQ0FDVCxDQUVBa2EsaUJBQ016ZSxLQUFLc1EsVUFDUHRRLEtBQUtzUSxRQUFROVcsVUFFYndHLEtBQUtzUSxRQUFVLEtBRW5CLENBR0F0Syx1QkFBdUJ6QixHQUNyQixPQUFPdkUsS0FBSzRHLE1BQUssV0FDZixNQUFNaGMsRUFBTzJ5QixHQUFRL1csb0JBQW9CeEcsS0FBTXVFLEdBRS9DLEdBQXNCLGlCQUFYQSxFQUFYLENBSUEsUUFBNEIsSUFBakIzWixFQUFLMlosR0FDZCxNQUFNLElBQUlZLFVBQVUsb0JBQW9CWixNQUcxQzNaLEVBQUsyWixJQU5MLENBT0YsR0FDRixFQVFGbkksR0FBbUJtaEIsSUFZbkIsTUFHTTZDLEdBQVksSUFBSzdDLEdBQVFwWixRQUM3QitWLFFBQVMsR0FDVDV4QixPQUFRLENBQUMsRUFBRyxHQUNaM0ksVUFBVyxRQUNYMjZCLFNBQVUsOElBQ1Y3WSxRQUFTLFNBRUw0ZSxHQUFnQixJQUFLOUMsR0FBUW5aLFlBQ2pDOFYsUUFBUyxrQ0FNWCxNQUFNb0csV0FBZ0IvQyxHQUVUcFoscUJBQ1QsT0FBT2ljLEVBQ1QsQ0FFV2hjLHlCQUNULE9BQU9pYyxFQUNULENBRVc3akIsa0JBQ1QsTUE1QlcsU0E2QmIsQ0FHQWtpQixpQkFDRSxPQUFPMWUsS0FBSzhlLGFBQWU5ZSxLQUFLdWdCLGFBQ2xDLENBR0F2Qix5QkFDRSxNQUFPLENBQ0wsa0JBQWtCaGYsS0FBSzhlLFlBQ3ZCLGdCQUFvQjllLEtBQUt1Z0IsY0FFN0IsQ0FFQUEsY0FDRSxPQUFPdmdCLEtBQUs0YSx5QkFBeUI1YSxLQUFLd0YsUUFBUTBVLFFBQ3BELENBR0FsVSx1QkFBdUJ6QixHQUNyQixPQUFPdkUsS0FBSzRHLE1BQUssV0FDZixNQUFNaGMsRUFBTzAxQixHQUFROVosb0JBQW9CeEcsS0FBTXVFLEdBRS9DLEdBQXNCLGlCQUFYQSxFQUFYLENBSUEsUUFBNEIsSUFBakIzWixFQUFLMlosR0FDZCxNQUFNLElBQUlZLFVBQVUsb0JBQW9CWixNQUcxQzNaLEVBQUsyWixJQU5MLENBT0YsR0FDRixFQVFGbkksR0FBbUJra0IsSUFZbkIsTUFLTUUsR0FBYyxxQkFHZEMsR0FBc0IsU0FFdEJDLEdBQXdCLFNBUXhCQyxHQUFZLENBQ2hCcjRCLE9BQVEsS0FFUnM0QixXQUFZLGVBQ1pDLGNBQWMsRUFDZDl6QixPQUFRLE1BRUorekIsR0FBZ0IsQ0FDcEJ4NEIsT0FBUSxnQkFFUnM0QixXQUFZLFNBQ1pDLGFBQWMsVUFDZDl6QixPQUFRLFdBTVYsTUFBTWcwQixXQUFrQjFiLEdBQ3RCVCxZQUFZcGtCLEVBQVMrakIsR0FDbkJlLE1BQU05a0IsRUFBUytqQixHQUVmdkUsS0FBS2doQixhQUFlLElBQUl6dkIsSUFDeEJ5TyxLQUFLaWhCLG9CQUFzQixJQUFJMXZCLElBQy9CeU8sS0FBS2toQixhQUE2RCxZQUE5Qzk3QixpQkFBaUI0YSxLQUFLdUYsVUFBVWhaLFVBQTBCLEtBQU95VCxLQUFLdUYsU0FDMUZ2RixLQUFLbWhCLGNBQWdCLEtBQ3JCbmhCLEtBQUtvaEIsVUFBWSxLQUNqQnBoQixLQUFLcWhCLG9CQUFzQixDQUN6QkMsZ0JBQWlCLEVBQ2pCQyxnQkFBaUIsR0FFbkJ2aEIsS0FBS3doQixTQUNQLENBR1dyZCxxQkFDVCxPQUFPd2MsRUFDVCxDQUVXdmMseUJBQ1QsT0FBTzBjLEVBQ1QsQ0FFV3RrQixrQkFDVCxNQTlEVyxXQStEYixDQUdBZ2xCLFVBQ0V4aEIsS0FBS3loQixtQ0FFTHpoQixLQUFLMGhCLDJCQUVEMWhCLEtBQUtvaEIsVUFDUHBoQixLQUFLb2hCLFVBQVVPLGFBRWYzaEIsS0FBS29oQixVQUFZcGhCLEtBQUs0aEIsa0JBR3hCLElBQUssTUFBTUMsS0FBVzdoQixLQUFLaWhCLG9CQUFvQi9oQixTQUM3Q2MsS0FBS29oQixVQUFVVSxRQUFRRCxFQUUzQixDQUVBbmMsVUFDRTFGLEtBQUtvaEIsVUFBVU8sYUFFZnJjLE1BQU1JLFNBQ1IsQ0FHQWpCLGtCQUFrQkYsR0FHaEIsT0FEQUEsRUFBT3hYLE9BQVM2TixHQUFXMkosRUFBT3hYLFNBQVd2SCxTQUFTa0gsS0FDL0M2WCxDQUNULENBRUFtZCwyQkFDTzFoQixLQUFLd0YsUUFBUXFiLGVBS2xCdGdCLEdBQWFDLElBQUlSLEtBQUt3RixRQUFRelksT0FBUXl6QixJQUN0Q2pnQixHQUFhWSxHQUFHbkIsS0FBS3dGLFFBQVF6WSxPQUFReXpCLEdBQWFFLElBQXVCdmhCLElBQ3ZFLE1BQU00aUIsRUFBb0IvaEIsS0FBS2loQixvQkFBb0J4dUIsSUFBSTBNLEVBQU1wUyxPQUFPdkIsTUFFcEUsR0FBSXUyQixFQUFtQixDQUNyQjVpQixFQUFNZ0QsaUJBQ04sTUFBTXZHLEVBQU9vRSxLQUFLa2hCLGNBQWdCcmdDLE9BQzVCc0QsRUFBUzQ5QixFQUFrQnI5QixVQUFZc2IsS0FBS3VGLFNBQVM3Z0IsVUFFM0QsR0FBSWtYLEVBQUtvbUIsU0FLUCxZQUpBcG1CLEVBQUtvbUIsU0FBUyxDQUNabC9CLElBQUtxQixFQUNMODlCLFNBQVUsV0FNZHJtQixFQUFLNVAsVUFBWTdILENBQ25CLEtBRUosQ0FFQXk5QixrQkFDRSxNQUFNaC9CLEVBQVUsQ0FDZGdaLEtBQU1vRSxLQUFLa2hCLGFBQ1hnQixVQUFXLENBQUMsR0FBSyxHQUFLLEdBQ3RCdEIsV0FBWTVnQixLQUFLbWlCLGtCQUVuQixPQUFPLElBQUlDLHNCQUFxQjlmLEdBQVd0QyxLQUFLcWlCLGtCQUFrQi9mLElBQVUxZixFQUM5RSxDQUdBeS9CLGtCQUFrQi9mLEdBQ2hCLE1BQU1nZ0IsRUFBZ0I3SCxHQUFTemEsS0FBS2doQixhQUFhdnVCLElBQUksSUFBSWdvQixFQUFNMXRCLE9BQU93MUIsTUFFaEV2TixFQUFXeUYsSUFDZnphLEtBQUtxaEIsb0JBQW9CQyxnQkFBa0I3RyxFQUFNMXRCLE9BQU9ySSxVQUV4RHNiLEtBQUt3aUIsU0FBU0YsRUFBYzdILEdBQU8sRUFHL0I4RyxHQUFtQnZoQixLQUFLa2hCLGNBQWdCMTdCLFNBQVNDLGlCQUFpQnVHLFVBQ2xFeTJCLEVBQWtCbEIsR0FBbUJ2aEIsS0FBS3FoQixvQkFBb0JFLGdCQUNwRXZoQixLQUFLcWhCLG9CQUFvQkUsZ0JBQWtCQSxFQUUzQyxJQUFLLE1BQU05RyxLQUFTblksRUFBUyxDQUMzQixJQUFLbVksRUFBTWlJLGVBQWdCLENBQ3pCMWlCLEtBQUttaEIsY0FBZ0IsS0FFckJuaEIsS0FBSzJpQixrQkFBa0JMLEVBQWM3SCxJQUVyQyxRQUNGLENBRUEsTUFBTW1JLEVBQTJCbkksRUFBTTF0QixPQUFPckksV0FBYXNiLEtBQUtxaEIsb0JBQW9CQyxnQkFFcEYsR0FBSW1CLEdBQW1CRyxHQUdyQixHQUZBNU4sRUFBU3lGLElBRUo4RyxFQUNILFlBT0NrQixHQUFvQkcsR0FDdkI1TixFQUFTeUYsRUFFYixDQUNGLENBR0EwSCxpQkFDRSxPQUFPbmlCLEtBQUt3RixRQUFRbGQsT0FBUyxHQUFHMFgsS0FBS3dGLFFBQVFsZCxvQkFBc0IwWCxLQUFLd0YsUUFBUW9iLFVBQ2xGLENBRUFhLG1DQUNFemhCLEtBQUtnaEIsYUFBZSxJQUFJenZCLElBQ3hCeU8sS0FBS2loQixvQkFBc0IsSUFBSTF2QixJQUMvQixNQUFNc3hCLEVBQWM1YixHQUFlelUsS0FBS2t1QixHQUF1QjFnQixLQUFLd0YsUUFBUXpZLFFBRTVFLElBQUssTUFBTSsxQixLQUFVRCxFQUFhLENBRWhDLElBQUtDLEVBQU90M0IsTUFBUTRQLEdBQVcwbkIsR0FDN0IsU0FHRixNQUFNZixFQUFvQjlhLEdBQWVDLFFBQVE0YixFQUFPdDNCLEtBQU13VSxLQUFLdUYsVUFFL0QxSyxHQUFVa25CLEtBQ1ovaEIsS0FBS2doQixhQUFhNXVCLElBQUkwd0IsRUFBT3QzQixLQUFNczNCLEdBRW5DOWlCLEtBQUtpaEIsb0JBQW9CN3VCLElBQUkwd0IsRUFBT3QzQixLQUFNdTJCLEdBRTlDLENBQ0YsQ0FFQVMsU0FBU3oxQixHQUNIaVQsS0FBS21oQixnQkFBa0JwMEIsSUFJM0JpVCxLQUFLMmlCLGtCQUFrQjNpQixLQUFLd0YsUUFBUXpZLFFBRXBDaVQsS0FBS21oQixjQUFnQnAwQixFQUNyQkEsRUFBT3dPLFVBQVV2RSxJQUFJeXBCLElBRXJCemdCLEtBQUsraUIsaUJBQWlCaDJCLEdBRXRCd1QsR0FBYWtCLFFBQVF6QixLQUFLdUYsU0FqTlAsd0JBaU5pQyxDQUNsRDFGLGNBQWU5UyxJQUVuQixDQUVBZzJCLGlCQUFpQmgyQixHQUVmLEdBQUlBLEVBQU93TyxVQUFVNVcsU0FyTlEsaUJBc04zQnNpQixHQUFlQyxRQTVNYyxtQkE0TXNCbmEsRUFBT21PLFFBN010QyxjQTZNa0VLLFVBQVV2RSxJQUFJeXBCLFNBSXRHLElBQUssTUFBTXVDLEtBQWEvYixHQUFlSSxRQUFRdGEsRUF0Tm5CLHFCQXlOMUIsSUFBSyxNQUFNazJCLEtBQVFoYyxHQUFlTSxLQUFLeWIsRUFyTmpCLHNEQXNOcEJDLEVBQUsxbkIsVUFBVXZFLElBQUl5cEIsR0FHekIsQ0FFQWtDLGtCQUFrQi85QixHQUNoQkEsRUFBTzJXLFVBQVUwSCxPQUFPd2QsSUFDeEIsTUFBTXlDLEVBQWNqYyxHQUFlelUsS0FBSyxnQkFBbUQ1TixHQUUzRixJQUFLLE1BQU1oRSxLQUFRc2lDLEVBQ2pCdGlDLEVBQUsyYSxVQUFVMEgsT0FBT3dkLEdBRTFCLENBR0F6YSx1QkFBdUJ6QixHQUNyQixPQUFPdkUsS0FBSzRHLE1BQUssV0FDZixNQUFNaGMsRUFBT20yQixHQUFVdmEsb0JBQW9CeEcsS0FBTXVFLEdBRWpELEdBQXNCLGlCQUFYQSxFQUFYLENBSUEsUUFBcUJoTCxJQUFqQjNPLEVBQUsyWixJQUF5QkEsRUFBT3JLLFdBQVcsTUFBbUIsZ0JBQVhxSyxFQUMxRCxNQUFNLElBQUlZLFVBQVUsb0JBQW9CWixNQUcxQzNaLEVBQUsyWixJQU5MLENBT0YsR0FDRixFQVFGaEUsR0FBYVksR0FBR3RnQixPQXBRYyw4QkFvUWlCLEtBQzdDLElBQUssTUFBTXNpQyxLQUFPbGMsR0FBZXpVLEtBbFFULDBCQW1RdEJ1dUIsR0FBVXZhLG9CQUFvQjJjLEVBQ2hDLElBTUYvbUIsR0FBbUIya0IsSUFZbkIsTUFVTXFDLEdBQWlCLFlBQ2pCQyxHQUFrQixhQUNsQkMsR0FBZSxVQUNmQyxHQUFpQixZQUNqQkMsR0FBb0IsU0FDcEJDLEdBQW9CLE9BQ3BCQyxHQUFvQixPQVNwQkMsR0FBdUIsMkVBRXZCQyxHQUFzQixnSEFBc0JELEtBTWxELE1BQU1FLFdBQVl4ZSxHQUNoQlQsWUFBWXBrQixHQUNWOGtCLE1BQU05a0IsR0FDTndmLEtBQUt1USxRQUFVdlEsS0FBS3VGLFNBQVNySyxRQWROLHVDQWdCbEI4RSxLQUFLdVEsVUFNVnZRLEtBQUs4akIsc0JBQXNCOWpCLEtBQUt1USxRQUFTdlEsS0FBSytqQixnQkFFOUN4akIsR0FBYVksR0FBR25CLEtBQUt1RixTQXRDSCxrQkFzQzRCcEcsR0FBU2EsS0FBSzJMLFNBQVN4TSxLQUN2RSxDQUdXM0Msa0JBQ1QsTUFuRFcsS0FvRGIsQ0FHQThSLE9BRUUsTUFBTTBWLEVBQVloa0IsS0FBS3VGLFNBRXZCLEdBQUl2RixLQUFLaWtCLGNBQWNELEdBQ3JCLE9BSUYsTUFBTUUsRUFBU2xrQixLQUFLbWtCLGlCQUVkQyxFQUFZRixFQUFTM2pCLEdBQWFrQixRQUFReWlCLEVBL0QvQixjQStEcUQsQ0FDcEVya0IsY0FBZW1rQixJQUNaLEtBQ2F6akIsR0FBYWtCLFFBQVF1aUIsRUFoRXRCLGNBZ0UrQyxDQUM5RG5rQixjQUFlcWtCLElBR0hyaUIsa0JBQW9CdWlCLEdBQWFBLEVBQVV2aUIsbUJBSXpEN0IsS0FBS3FrQixZQUFZSCxFQUFRRixHQUV6QmhrQixLQUFLc2tCLFVBQVVOLEVBQVdFLEdBQzVCLENBR0FJLFVBQVU5akMsRUFBUytqQyxHQUNaL2pDLElBSUxBLEVBQVErYSxVQUFVdkUsSUFBSXdzQixJQUV0QnhqQixLQUFLc2tCLFVBQVVqcUIsR0FBdUI3WixJQW9CdEN3ZixLQUFLOEYsZ0JBakJZLEtBQ3NCLFFBQWpDdGxCLEVBQVF1WixhQUFhLFNBS3pCdlosRUFBUW93QixRQUNScHdCLEVBQVE4QixnQkFBZ0IsWUFDeEI5QixFQUFRK0IsYUFBYSxpQkFBaUIsR0FFdEN5ZCxLQUFLd2tCLGdCQUFnQmhrQyxHQUFTLEdBRTlCK2YsR0FBYWtCLFFBQVFqaEIsRUFuR0wsZUFtRzZCLENBQzNDcWYsY0FBZTBrQixLQVhmL2pDLEVBQVErYSxVQUFVdkUsSUFBSTBzQixHQVl0QixHQUcwQmxqQyxFQUFTQSxFQUFRK2EsVUFBVTVXLFNBQVM4K0IsS0FDcEUsQ0FFQVksWUFBWTdqQyxFQUFTK2pDLEdBQ2QvakMsSUFJTEEsRUFBUSthLFVBQVUwSCxPQUFPdWdCLElBQ3pCaGpDLEVBQVFvM0IsT0FFUjVYLEtBQUtxa0IsWUFBWWhxQixHQUF1QjdaLElBbUJ4Q3dmLEtBQUs4RixnQkFoQlksS0FDc0IsUUFBakN0bEIsRUFBUXVaLGFBQWEsU0FLekJ2WixFQUFRK0IsYUFBYSxpQkFBaUIsR0FDdEMvQixFQUFRK0IsYUFBYSxXQUFZLE1BRWpDeWQsS0FBS3drQixnQkFBZ0Joa0MsR0FBUyxHQUU5QitmLEdBQWFrQixRQUFRamhCLEVBbklKLGdCQW1JNkIsQ0FDNUNxZixjQUFlMGtCLEtBVmYvakMsRUFBUSthLFVBQVUwSCxPQUFPeWdCLEdBV3pCLEdBRzBCbGpDLEVBQVNBLEVBQVErYSxVQUFVNVcsU0FBUzgrQixLQUNwRSxDQUVBOVgsU0FBU3hNLEdBQ1AsSUFBSyxDQUFDaWtCLEdBQWdCQyxHQUFpQkMsR0FBY0MsSUFBZ0J0cEIsU0FBU2tGLEVBQU1uWSxLQUNsRixPQUdGbVksRUFBTTRTLGtCQUVONVMsRUFBTWdELGlCQUNOLE1BQU1tSyxFQUFTLENBQUMrVyxHQUFpQkUsSUFBZ0J0cEIsU0FBU2tGLEVBQU1uWSxLQUMxRHk5QixFQUFvQjVtQixHQUFxQm1DLEtBQUsrakIsZUFBZXY5QixRQUFPaEcsSUFBWTRhLEdBQVc1YSxLQUFXMmUsRUFBTXBTLE9BQVF1ZixHQUFRLEdBRTlIbVksR0FDRlosR0FBSXJkLG9CQUFvQmllLEdBQW1CblcsTUFFL0MsQ0FFQXlWLGVBRUUsT0FBTzljLEdBQWV6VSxLQUFLb3hCLEdBQXFCNWpCLEtBQUt1USxRQUN2RCxDQUVBNFQsaUJBQ0UsT0FBT25rQixLQUFLK2pCLGVBQWV2eEIsTUFBSzNOLEdBQVNtYixLQUFLaWtCLGNBQWNwL0IsTUFBVyxJQUN6RSxDQUVBaS9CLHNCQUFzQmwvQixFQUFRdWlCLEdBQzVCbkgsS0FBSzBrQix5QkFBeUI5L0IsRUFBUSxPQUFRLFdBRTlDLElBQUssTUFBTUMsS0FBU3NpQixFQUNsQm5ILEtBQUsya0IsNkJBQTZCOS9CLEVBRXRDLENBRUE4L0IsNkJBQTZCOS9CLEdBQzNCQSxFQUFRbWIsS0FBSzRrQixpQkFBaUIvL0IsR0FFOUIsTUFBTWdnQyxFQUFXN2tCLEtBQUtpa0IsY0FBY3AvQixHQUU5QmlnQyxFQUFZOWtCLEtBQUsra0IsaUJBQWlCbGdDLEdBRXhDQSxFQUFNdEMsYUFBYSxnQkFBaUJzaUMsR0FFaENDLElBQWNqZ0MsR0FDaEJtYixLQUFLMGtCLHlCQUF5QkksRUFBVyxPQUFRLGdCQUc5Q0QsR0FDSGhnQyxFQUFNdEMsYUFBYSxXQUFZLE1BR2pDeWQsS0FBSzBrQix5QkFBeUI3L0IsRUFBTyxPQUFRLE9BRzdDbWIsS0FBS2dsQixtQ0FBbUNuZ0MsRUFDMUMsQ0FFQW1nQyxtQ0FBbUNuZ0MsR0FDakMsTUFBTWtJLEVBQVNzTixHQUF1QnhWLEdBRWpDa0ksSUFJTGlULEtBQUswa0IseUJBQXlCMzNCLEVBQVEsT0FBUSxZQUUxQ2xJLEVBQU0wOUIsSUFDUnZpQixLQUFLMGtCLHlCQUF5QjMzQixFQUFRLGtCQUFtQixJQUFJbEksRUFBTTA5QixNQUV2RSxDQUVBaUMsZ0JBQWdCaGtDLEVBQVN5a0MsR0FDdkIsTUFBTUgsRUFBWTlrQixLQUFLK2tCLGlCQUFpQnZrQyxHQUV4QyxJQUFLc2tDLEVBQVV2cEIsVUFBVTVXLFNBdk1OLFlBd01qQixPQUdGLE1BQU1vaUIsRUFBUyxDQUFDak4sRUFBVTZaLEtBQ3hCLE1BQU1uekIsRUFBVXltQixHQUFlQyxRQUFRcE4sRUFBVWdyQixHQUU3Q3RrQyxHQUNGQSxFQUFRK2EsVUFBVXdMLE9BQU80TSxFQUFXc1IsRUFDdEMsRUFHRmxlLEVBbE42QixtQkFrTkl5YyxJQUNqQ3pjLEVBbE4yQixpQkFrTkkyYyxJQUMvQjNjLEVBbE4yQixpQkFrTkl5YyxJQUMvQnNCLEVBQVV2aUMsYUFBYSxnQkFBaUIwaUMsRUFDMUMsQ0FFQVAseUJBQXlCbGtDLEVBQVMyQyxFQUFXZCxHQUN0QzdCLEVBQVFpYixhQUFhdFksSUFDeEIzQyxFQUFRK0IsYUFBYVksRUFBV2QsRUFFcEMsQ0FFQTRoQyxjQUFjbFcsR0FDWixPQUFPQSxFQUFLeFMsVUFBVTVXLFNBQVM2K0IsR0FDakMsQ0FHQW9CLGlCQUFpQjdXLEdBQ2YsT0FBT0EsRUFBSzNHLFFBQVF3YyxJQUF1QjdWLEVBQU85RyxHQUFlQyxRQUFRMGMsR0FBcUI3VixFQUNoRyxDQUdBZ1gsaUJBQWlCaFgsR0FDZixPQUFPQSxFQUFLN1MsUUFwT08sZ0NBb09vQjZTLENBQ3pDLENBR0EvSCx1QkFBdUJ6QixHQUNyQixPQUFPdkUsS0FBSzRHLE1BQUssV0FDZixNQUFNaGMsRUFBT2k1QixHQUFJcmQsb0JBQW9CeEcsTUFFckMsR0FBc0IsaUJBQVh1RSxFQUFYLENBSUEsUUFBcUJoTCxJQUFqQjNPLEVBQUsyWixJQUF5QkEsRUFBT3JLLFdBQVcsTUFBbUIsZ0JBQVhxSyxFQUMxRCxNQUFNLElBQUlZLFVBQVUsb0JBQW9CWixNQUcxQzNaLEVBQUsyWixJQU5MLENBT0YsR0FDRixFQVFGaEUsR0FBYVksR0FBRzNiLFNBOVFhLGVBOFFtQm0rQixJQUFzQixTQUFVeGtCLEdBQzFFLENBQUMsSUFBSyxRQUFRbEYsU0FBUytGLEtBQUt1RyxVQUM5QnBILEVBQU1nRCxpQkFHSi9HLEdBQVc0RSxPQUlmNmpCLEdBQUlyZCxvQkFBb0J4RyxNQUFNc08sTUFDaEMsSUFLQS9OLEdBQWFZLEdBQUd0Z0IsT0EzUlksZUEyUmlCLEtBQzNDLElBQUssTUFBTUwsS0FBV3ltQixHQUFlelUsS0F6UUgsaUdBMFFoQ3F4QixHQUFJcmQsb0JBQW9CaG1CLEVBQzFCLElBTUY0YixHQUFtQnluQixJQVluQixNQVlNcUIsR0FBa0IsT0FFbEJDLEdBQWtCLE9BQ2xCQyxHQUFxQixVQUNyQmhoQixHQUFjLENBQ2xCNlksVUFBVyxVQUNYb0ksU0FBVSxVQUNWakksTUFBTyxVQUVIalosR0FBVSxDQUNkOFksV0FBVyxFQUNYb0ksVUFBVSxFQUNWakksTUFBTyxLQU1ULE1BQU1rSSxXQUFjamdCLEdBQ2xCVCxZQUFZcGtCLEVBQVMrakIsR0FDbkJlLE1BQU05a0IsRUFBUytqQixHQUNmdkUsS0FBS3lkLFNBQVcsS0FDaEJ6ZCxLQUFLdWxCLHNCQUF1QixFQUM1QnZsQixLQUFLd2xCLHlCQUEwQixFQUUvQnhsQixLQUFLK2QsZUFDUCxDQUdXNVoscUJBQ1QsT0FBT0EsRUFDVCxDQUVXQyx5QkFDVCxPQUFPQSxFQUNULENBRVc1SCxrQkFDVCxNQWxEUyxPQW1EWCxDQUdBOFIsT0FDb0IvTixHQUFha0IsUUFBUXpCLEtBQUt1RixTQTlDN0IsaUJBZ0REMUQsbUJBSWQ3QixLQUFLeWxCLGdCQUVEemxCLEtBQUt3RixRQUFReVgsV0FDZmpkLEtBQUt1RixTQUFTaEssVUFBVXZFLElBckROLFFBZ0VwQmdKLEtBQUt1RixTQUFTaEssVUFBVTBILE9BQU9paUIsSUFHL0JwcEIsR0FBT2tFLEtBQUt1RixVQUVadkYsS0FBS3VGLFNBQVNoSyxVQUFVdkUsSUFBSW11QixHQUFpQkMsSUFFN0NwbEIsS0FBSzhGLGdCQWZZLEtBQ2Y5RixLQUFLdUYsU0FBU2hLLFVBQVUwSCxPQUFPbWlCLElBRS9CN2tCLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBNURaLGtCQThEZHZGLEtBQUswbEIsb0JBQW9CLEdBVUcxbEIsS0FBS3VGLFNBQVV2RixLQUFLd0YsUUFBUXlYLFdBQzVELENBRUE1TyxPQUNPck8sS0FBSzJsQixZQUlRcGxCLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBbkY3QixpQkFxRkQxRCxtQkFhZDdCLEtBQUt1RixTQUFTaEssVUFBVXZFLElBQUlvdUIsSUFFNUJwbEIsS0FBSzhGLGdCQVhZLEtBQ2Y5RixLQUFLdUYsU0FBU2hLLFVBQVV2RSxJQUFJa3VCLElBRzVCbGxCLEtBQUt1RixTQUFTaEssVUFBVTBILE9BQU9taUIsR0FBb0JELElBRW5ENWtCLEdBQWFrQixRQUFRekIsS0FBS3VGLFNBOUZYLGtCQThGa0MsR0FLckJ2RixLQUFLdUYsU0FBVXZGLEtBQUt3RixRQUFReVgsWUFDNUQsQ0FFQXZYLFVBQ0UxRixLQUFLeWxCLGdCQUVEemxCLEtBQUsybEIsV0FDUDNsQixLQUFLdUYsU0FBU2hLLFVBQVUwSCxPQUFPa2lCLElBR2pDN2YsTUFBTUksU0FDUixDQUVBaWdCLFVBQ0UsT0FBTzNsQixLQUFLdUYsU0FBU2hLLFVBQVU1VyxTQUFTd2dDLEdBQzFDLENBR0FPLHFCQUNPMWxCLEtBQUt3RixRQUFRNmYsV0FJZHJsQixLQUFLdWxCLHNCQUF3QnZsQixLQUFLd2xCLDBCQUl0Q3hsQixLQUFLeWQsU0FBVzdmLFlBQVcsS0FDekJvQyxLQUFLcU8sTUFBTSxHQUNWck8sS0FBS3dGLFFBQVE0WCxRQUNsQixDQUVBd0ksZUFBZXptQixFQUFPMG1CLEdBQ3BCLE9BQVExbUIsRUFBTXNCLE1BQ1osSUFBSyxZQUNMLElBQUssV0FDSFQsS0FBS3VsQixxQkFBdUJNLEVBQzVCLE1BRUYsSUFBSyxVQUNMLElBQUssV0FDSDdsQixLQUFLd2xCLHdCQUEwQkssRUFJbkMsR0FBSUEsRUFHRixZQUZBN2xCLEtBQUt5bEIsZ0JBS1AsTUFBTWxaLEVBQWNwTixFQUFNVSxjQUV0QkcsS0FBS3VGLFdBQWFnSCxHQUFldk0sS0FBS3VGLFNBQVM1Z0IsU0FBUzRuQixJQUk1RHZNLEtBQUswbEIsb0JBQ1AsQ0FFQTNILGdCQUNFeGQsR0FBYVksR0FBR25CLEtBQUt1RixTQXJLRCxzQkFxSzRCcEcsR0FBU2EsS0FBSzRsQixlQUFlem1CLEdBQU8sS0FDcEZvQixHQUFhWSxHQUFHbkIsS0FBS3VGLFNBcktGLHFCQXFLNEJwRyxHQUFTYSxLQUFLNGxCLGVBQWV6bUIsR0FBTyxLQUNuRm9CLEdBQWFZLEdBQUduQixLQUFLdUYsU0FyS0gsb0JBcUs0QnBHLEdBQVNhLEtBQUs0bEIsZUFBZXptQixHQUFPLEtBQ2xGb0IsR0FBYVksR0FBR25CLEtBQUt1RixTQXJLRixxQkFxSzRCcEcsR0FBU2EsS0FBSzRsQixlQUFlem1CLEdBQU8sSUFDckYsQ0FFQXNtQixnQkFDRXpaLGFBQWFoTSxLQUFLeWQsVUFDbEJ6ZCxLQUFLeWQsU0FBVyxJQUNsQixDQUdBelgsdUJBQXVCekIsR0FDckIsT0FBT3ZFLEtBQUs0RyxNQUFLLFdBQ2YsTUFBTWhjLEVBQU8wNkIsR0FBTTllLG9CQUFvQnhHLEtBQU11RSxHQUU3QyxHQUFzQixpQkFBWEEsRUFBcUIsQ0FDOUIsUUFBNEIsSUFBakIzWixFQUFLMlosR0FDZCxNQUFNLElBQUlZLFVBQVUsb0JBQW9CWixNQUcxQzNaLEVBQUsyWixHQUFRdkUsS0FDZixDQUNGLEdBQ0YsRUFRRm1HLEdBQXFCbWYsSUFLckJscEIsR0FBbUJrcEIsaUJDL2tLbkJ6akMsT0FBTzJnQixlQUFlc2pCLEVBQVMsYUFBYyxDQUFFempDLE9BQU8sSUFDdER5akMsRUFBUUMsbUJBQXFCRCxFQUFRRSxnQkFBa0JGLEVBQVFHLHNCQUF3QkgsRUFBUUkseUJBQTJCSixFQUFRSywyQkFBNkJMLEVBQVFNLDhCQUEyQixFQUNsTSxNQUFNQyxFQUFnQixFQUFRLEtBQ3hCQyxFQUFhLEVBQVEsSUFDckJDLEVBQVUsRUFBUSxLQUNsQkMsRUFBZSxFQUFRLEtBVzdCLFNBQVNKLEVBQXlCSyxFQUFXbEUsRUFBSS9tQixHQUFXLEdBQ3hELE1BQU8sZ0dBQzhDaXJCLHFCQUE2QmxFLE1BQU9tRSxFQUFtQmxyQixXQUNoSCxDQUVBLFNBQVNrckIsRUFBbUJsckIsR0FDeEIsT0FBT0EsRUFBVyxXQUFhLEVBQ25DLENBa0JBLFNBQVMycUIsRUFBMkJRLEVBQU9wRSxFQUFJa0UsRUFBV2pyQixHQUFXLEdBQ2pFLEdBQUltckIsRUFBTWxtQixPQUFTNGxCLEVBQWNPLGdCQUFnQkMsWUFBMkJ0dEIsSUFBbEJvdEIsRUFBTS9qQyxRQUM1RCxPQUVKLE1BQU1ra0MsRUFBT0gsRUFBTS9qQyxhQUNEMlcsSUFBZGt0QixFQUNBQSxFQUFZLEdBR1JLLEVBQUtybUIsT0FBUzRsQixFQUFjVSxXQUFXQyxjQUN2Q1AsR0FBWSxFQUFJSCxFQUFXVyx5QkFBeUJSLEVBQVdLLEVBQUtJLElBQUtKLEVBQUtLLE9BR3RGLElBQUlDLEVBQVksR0FDWkMsRUFBWSxHQUNoQixPQUFRUCxFQUFLcm1CLE1BQ1QsS0FBSzRsQixFQUFjVSxXQUFXTyxPQUMxQkYsR0FBWSxFQUFJYixFQUFRZ0Isb0JBQW9CZCxFQUFXLEVBQUdLLEVBQUtVLE1BQy9ESCxFQUFZLE9BQU9QLEVBQUtJLFdBQVdKLEVBQUtLLE9BQ3hDLE1BQ0osS0FBS2QsRUFBY1UsV0FBV0MsWUFDMUJJLEdBQVksRUFBSWIsRUFBUWdCLHFCQUFvQixFQUFJakIsRUFBV21CLHlCQUF5QmhCLEVBQVdLLEVBQUtJLElBQUtKLEVBQUtLLE1BQU8sRUFBR0wsRUFBS1UsTUFDN0hILEVBQVksZ0JBR3BCLE1BQU8sbUhBR2tDOUUsTUFBTzZFLGdIQUdKWCxxQkFBNkJsRSxNQUFPOEUsWUFBb0JYLEVBQW1CbHJCLGdEQUNoRittQixNQUFPdUUsRUFBS0ksUUFBUUosRUFBS0ssU0FBU0wsRUFBS3JtQixVQUFVcW1CLEVBQUtVLHFCQUFxQmIsRUFBTXBsQyxrREFDbEZnaEMsTUFBT3VFLEVBQUtJLFFBQVFKLEVBQUtLLFNBQVNMLEVBQUtybUIsVUFBVXFtQixFQUFLVSxVQUNoRyxDQWtCQSxTQUFTdEIsRUFBeUJTLEVBQU9wRSxFQUFJa0UsRUFBV2pyQixHQUFXLEdBQy9ELEdBQUltckIsRUFBTWxtQixPQUFTNGxCLEVBQWNPLGdCQUFnQmMsV0FBMEJudUIsSUFBbEJvdEIsRUFBTS9qQyxRQUMzRCxPQUVKLElBQUlra0MsRUFBT0gsRUFBTS9qQyxRQUNic2MsRUFBUyxHQUNiLEdBQUk0bkIsRUFBS2EsTUFBTyxDQUNaLE1BQU05WSxFQUFXNFgsYUFBNkMsRUFBU0EsRUFBVW5qQyxNQUFNLEtBQ3ZGLElBQUssTUFBTXNrQyxLQUFPZCxFQUFLNW5CLE9BQ25CQSxHQUFVLHVMQUdnQnluQixFQUFNcGxDLHdDQUNacW1DLFNBQVdyRix5Q0FDUnFGLGlDQUNQbEIsRUFBbUJsckIsa0NBQ2xCcVQsYUFBMkMsRUFBU0EsRUFBUzVVLFNBQVMydEIsSUFBUSxvQkFBc0IsbUVBQ3BFQSxTQUFXckYsTUFBT3FGLHdDQUd2RSxNQUFPLDREQUE0RHJGLE1BQU9yakIsU0FDOUUsQ0FFSSxJQUFLLE1BQU0wb0IsS0FBT2QsRUFBSzVuQixPQUNuQkEsR0FBVSxpQkFBaUIwb0IsS0FBT0EsSUFBUW5CLEVBQVksV0FBYSxNQUFNbUIsYUFFN0UsTUFBTyw4Q0FBOENyRixNQUFPbUUsRUFBbUJsckIsZ0JBQXVCbXJCLEVBQU1wbEMsU0FBUzJkLFlBRTdILENBckdBNG1CLEVBQVFNLHlCQUEyQkEsRUF3RG5DTixFQUFRSywyQkFBNkJBLEVBOENyQ0wsRUFBUUkseUJBQTJCQSxFQTZDbkNKLEVBQVFHLHNCQTlCUixTQUErQlUsRUFBT3BFLEVBQUlrRSxFQUFXanJCLEdBQVcsR0FDNUQsSUFBSW9zQixFQUFNLGlDQUNRcnVCLElBQWRrdEIsSUFDQUEsRUFBWUUsRUFBTWtCLGNBRXRCLE1BQU1DLEVBQVluQixFQUFNb0IsV0FBYSxpQ0FBaUNwQixFQUFNcGxDLGdCQUFnQmdoQyxNQUFTLEdBQ3JHLE9BQVFvRSxFQUFNbG1CLE1BQ1YsS0FBSzRsQixFQUFjTyxnQkFBZ0JvQixLQUMvQkosR0FBTywrQkFBK0JFLGVBQXVCbkIsRUFBTXBsQyw0QkFBNEJrbEMscUJBQTZCbEUsTUFBT21FLEVBQW1CbHJCLE1BQ3RKLE1BQ0osS0FBSzZxQixFQUFjTyxnQkFBZ0JxQixPQUMvQkwsR0FBTywrQkFBK0JFLDZCQUFxQ25CLEVBQU1wbEMsZ0JBQWdCa2xDLHFCQUE2QmxFLE1BQU9tRSxFQUFtQmxyQixNQUN4SixNQUNKLEtBQUs2cUIsRUFBY08sZ0JBQWdCQyxNQUMvQmUsR0FBT3pCLEVBQTJCUSxFQUFPcEUsRUFBSWtFLEVBQVdqckIsR0FDeEQsTUFDSixLQUFLNnFCLEVBQWNPLGdCQUFnQnNCLEtBQy9CTixHQUFPeEIsRUFBeUJLLEVBQVdsRSxFQUFJL21CLEdBQy9DLE1BQ0osS0FBSzZxQixFQUFjTyxnQkFBZ0JjLEtBQy9CRSxHQUFPMUIsRUFBeUJTLEVBQU9wRSxFQUFJa0UsRUFBV2pyQixHQVE5RCxPQUxBb3NCLEdBQU8sNERBQTREckYsVUFDL0RvRSxFQUFNd0IsY0FDTlAsR0FBTywwQkFBMEJqQixFQUFNd0IscUJBRTNDUCxHQUFPLFNBQ0FBLENBQ1gsRUFrQkE5QixFQUFRRSxnQkFOUixTQUF5QnpELEVBQUk2RixHQUN6QixNQUFNQyxFQUFZN2lDLFNBQVM4NUIsZUFBZSx1QkFBeUJpRCxHQUMvRDhGLElBQ0FBLEVBQVVuTixVQUFZa04sRUFFOUIsRUF5QkF0QyxFQUFRQyxtQkFaUixTQUE0QnVDLEVBQVcvRixFQUFJZ0csRUFBUUMsRUFBUS9uQixFQUFNK21CLEVBQU8sSUFDcEUsTUFBTXo2QixFQUFTdkgsU0FBUzg1QixlQUFlLFdBQWFpRCxHQUNoRHgxQixJQUNJMFQsSUFBUzRsQixFQUFjVSxXQUFXTyxPQUNsQ3Y2QixFQUFPMDdCLFdBQVksRUFBSWxDLEVBQVFnQixvQkFBb0JlLEVBQVVJLGNBQWUsRUFBR2xCLEdBRTFFL21CLElBQVM0bEIsRUFBY1UsV0FBV0MsY0FDdkNqNkIsRUFBTzA3QixXQUFZLEVBQUlsQyxFQUFRZ0IscUJBQW9CLEVBQUlqQixFQUFXbUIseUJBQXlCYSxFQUFVSSxjQUFlSCxFQUFRQyxHQUFTLEVBQUdoQixLQUU1SSxFQUFJaEIsRUFBYW1DLGVBQWVMLEVBQVUvbUMsS0FBS21SLE1BQU0sR0FBSTQxQixFQUFXL0YsR0FFNUUsaUJDL01BMWdDLE9BQU8yZ0IsZUFBZXNqQixFQUFTLGFBQWMsQ0FBRXpqQyxPQUFPLElBQ3REeWpDLEVBQVE4Qyx1QkFBb0IsRUFDNUIsTUFBTXZDLEVBQWdCLEVBQVEsS0FDeEJ3QyxFQUFlLEVBQVEsR0FDdkJDLEVBQWEsRUFBUSxLQUNyQnhDLEVBQWEsRUFBUSxJQUNyQnlDLEVBQVMsRUFBUSxLQUN2QixNQUFNSCxFQUNGaGtCLFlBQVlva0IsRUFBYUMsRUFBa0JDLEVBQW1CQyxHQUUxRG5wQixLQUFLb3BCLFNBQVUsRUFDZnBwQixLQUFLcXBCLE9BQVMsRUFDZHJwQixLQUFLc3BCLFVBQVlqRCxFQUFja0QsWUFBWUMsT0FDM0N4cEIsS0FBS3lwQixjQUFnQixHQUNyQnpwQixLQUFLMHBCLGlCQUFtQixHQUN4QjFwQixLQUFLZ3BCLFlBQWNBLEVBQ25CaHBCLEtBQUsycEIsZUFBaUJua0MsU0FBUzg1QixlQUFlMkosR0FDOUNqcEIsS0FBSzRwQixnQkFBa0Jwa0MsU0FBUzg1QixlQUFlNEosR0FDL0NscEIsS0FBS21wQixRQUFVQSxFQUNmbnBCLEtBQUs2cEIsa0JBQ1QsQ0FPQUMsZUFBZUMsR0FDWC9wQixLQUFLMnBCLGVBQWV0bkMsTUFBUTBuQyxFQUFPQyxPQUFPQyxVQUMxQ2pxQixLQUFLNnBCLG1CQUNMaG9DLE9BQU95Z0IsUUFBUXluQixFQUFPQyxRQUFRaG9DLFNBQVEsRUFBRWdGLEVBQUszRSxHQUFRNFcsS0FDakQsR0FBWSxjQUFSalMsRUFBcUIsQ0FDckIsTUFBTXU3QixFQUFLdmlCLEtBQUtrcUIsU0FBU2xqQyxFQUFLM0UsSUFDbEIsSUFBUmtnQyxJQUNjLzhCLFNBQVM4NUIsZUFBZSxlQUFlaUQsS0FDL0M0SCxRQUFVSixFQUFPSyxTQUFTbndCLFNBQVNqVCxHQUVqRCxLQUVKZ1osS0FBS3FxQix3QkFDVCxDQVFBSCxTQUFTM29DLEVBQU1rbEMsR0FFWCxJQUFJRSxFQUFROWtDLE9BQU9PLE9BQU8sQ0FBQyxHQUFHLEVBQUlpa0MsRUFBY2lFLGdCQUFnQi9vQyxJQUNoRSxHQUFJb2xDLEVBQU8sQ0FDUDNtQixLQUFLb3BCLFNBQVUsRUFDZixNQUFNbUIsR0FBWSxFQUFJMUIsRUFBYTVDLHVCQUF1QlUsRUFBTzNtQixLQUFLcXBCLE9BQVE1QyxHQUFXLEdBQ25GK0QsRUFBVXhxQixLQUFLeXFCLFdBQVdGLEVBQVd2cUIsS0FBS3FwQixPQUFROW5DLEdBTXhELE9BTEFvbEMsRUFBTStELE9BQVMxcUIsS0FBS3FwQixPQUNwQnJwQixLQUFLeXBCLGNBQWN4M0IsS0FBSzAwQixHQUN4QjNtQixLQUFLcXBCLFVBQ0wsRUFBSVAsRUFBVzZCLGFBQWFILEVBQVN4cUIsS0FBS2dwQixhQUMxQ2hwQixLQUFLNHFCLG1CQUFtQmpFLEVBQU0rRCxPQUFRbnBDLEdBQy9Cb2xDLEVBQU0rRCxNQUNqQixDQUNBLE9BQVEsQ0FDWixDQU1BRyxZQUFZdEksR0FDUixJQUFJdUksRUFDSixNQUFNNU4sRUFBWTEzQixTQUFTODVCLGVBQWUsaUJBQWlCaUQsS0FDM0QsR0FBSXJGLEVBQVcsQ0FDWGxkLEtBQUtvcEIsU0FBVSxFQUNvQixRQUFsQzBCLEVBQUs1TixFQUFVNk4scUJBQWtDLElBQVBELEdBQXlCQSxFQUFHRSxZQUFZOU4sR0FDbkYsTUFBTWprQixFQUFRK0csS0FBS3lwQixjQUFjd0IsV0FBVTNSLEdBQUtBLEVBQUVvUixTQUFXbkksS0FDOUMsSUFBWHRwQixJQUNBK0csS0FBS2tyQiwrQkFBK0IzSSxFQUFJdmlCLEtBQUt5cEIsY0FBY3h3QixHQUFPMVgsTUFDbEV5ZSxLQUFLeXBCLGNBQWMwQixPQUFPbHlCLEVBQU8sR0FFekMsQ0FDSixDQU9BbXlCLHVCQUF1QkMsRUFBVzlJLEdBQzlCLE1BQU0rSSxFQUFNdHJCLEtBQUt1ckIsbUJBQW1CaEosR0FDOUJpSixFQUFXeHJCLEtBQUt5cEIsY0FBYzZCLEdBQUsvcEMsS0FFbkNvbEMsRUFBUTlrQyxPQUFPTyxPQUFPLENBQUMsR0FBRyxFQUFJaWtDLEVBQWNpRSxnQkFBZ0JlLEVBQVVocEMsUUFDdEU2NkIsRUFBWTEzQixTQUFTODVCLGVBQWUsc0JBQXNCaUQsS0FDaEV2aUIsS0FBS3lyQiw0QkFBNEJKLEVBQVc5SSxHQUM1Q3ZpQixLQUFLa3JCLCtCQUErQjNJLEVBQUlpSixHQUNwQzdFLEdBQ0EzbUIsS0FBS29wQixTQUFVLEVBQ2Z6QyxFQUFNK0QsT0FBU25JLEVBQ1hyRixJQUNBQSxFQUFVaEMsV0FBWSxFQUFJMk4sRUFBYTVDLHVCQUF1QlUsRUFBT3BFLEtBRTVELElBQVQrSSxJQUNBdHJCLEtBQUt5cEIsY0FBYzZCLEdBQU8zRSxHQUU5QjNtQixLQUFLNHFCLG1CQUFtQnJJLEVBQUk4SSxFQUFVaHBDLFFBRWpDNjZCLElBQ0xBLEVBQVVoQyxVQUFZLHNEQUU5QixDQVVBd1EsS0FBS0MsRUFBWUMsRUFBYUMsRUFBb0JDLEdBRTlDLEdBREE5ckIsS0FBS3FxQix5QkFDRHpCLEVBQWtCbUQsaUJBRWxCLFlBREFDLE1BQU0sOENBR1Zoc0IsS0FBS29wQixTQUFVLEVBQ2YsSUFBSXgrQixFQUFPLElBQUlxaEMsU0FDZixNQUFNQyxFQUFhbHNCLEtBQUttc0IsaUJBQ3hCLEdBQW1CLE9BQWZELEVBQ0EsT0FFSnRoQyxFQUFLMHBCLE9BQU8sT0FBUTRYLEdBQ3BCdGhDLEVBQUswcEIsT0FBTyxZQUFhdFUsS0FBS3NwQixVQUFVeG9DLFlBQ3hDOEosRUFBSzBwQixPQUFPLGFBQWNxWCxHQUMxQixNQUFNdkIsRUFBV3BxQixLQUFLb3NCLGlCQUFpQnhoQyxHQUN2Q0EsRUFBSzBwQixPQUFPLFdBQVk4VixHQUN4QixJQUFJaUMsRUFBcUIsR0FDckJDLEVBQU0sS0FDTlIsSUFDQVEsRUFBTTltQyxTQUFTODVCLGVBQWV3TSxJQUU5QlEsSUFDQUQsRUFBcUJDLEVBQUlwUixVQUN6Qm9SLEVBQUkvcEMsYUFBYSxXQUFZLElBQzdCK3BDLEVBQUlwUixVQUFZLHNHQUVwQixFQUFJNk4sRUFBT3dELHVCQUF1QjNoQyxFQUFNZ2hDLEVBQWE3QyxFQUFPeUQsWUFBWUMsTUFDbkVuekIsTUFBTW96QixJQUNQMXNCLEtBQUsyc0Isb0JBQW9CRCxFQUFVYixFQUFvQlMsRUFBSSxJQUUxRE0sT0FBTzdwQixJQUNSRCxRQUFRQyxNQUFNQSxHQUNWdXBCLElBQ0FBLEVBQUlwUixVQUFZbVIsRUFDaEJDLEVBQUlocUMsZ0JBQWdCLGFBRXhCMHBDLE1BQU0sMEJBQTRCanBCLEVBQU0sR0FFaEQsQ0FNQThtQixtQkFDSTdwQixLQUFLc3BCLFVBQVl0cEIsS0FBSzJwQixlQUFldG5DLE1BQ3JDMmQsS0FBSzBwQixrQkFBbUIsRUFBSXJELEVBQWN3RywyQkFBMkI3c0IsS0FBS3NwQixXQUMxRXRwQixLQUFLOHNCLGtDQUNULENBV0FDLHFCQUNJLE1BQU1DLEVBQU14bkMsU0FBUzg1QixlQUFlLG1CQUNwQ3RmLEtBQUtvcEIsU0FBVSxFQUNvQixLQUEvQnBwQixLQUFLNHBCLGdCQUFnQnZuQyxPQUNqQjJxQyxJQUNBQSxFQUFJdkUsVUFBWSxJQUVwQnpvQixLQUFLNHBCLGdCQUFnQnJ1QixVQUFVMEgsT0FBTyxnQkFHbEMrcEIsSUFDQUEsRUFBSXZFLFVBQVksMkJBRXBCem9CLEtBQUs0cEIsZ0JBQWdCcnVCLFVBQVV2RSxJQUFJLGNBRTNDLENBT0FpMkIsbUJBQW1CMUssRUFBSTZGLEdBQ25CLE1BQU1DLEVBQVk3aUMsU0FBUzg1QixlQUFlLGlCQUFtQmlELEdBQ3ZEMkssRUFBYTFuQyxTQUFTODVCLGVBQWUsY0FBZ0JpRCxHQUN2RDhGLEdBQWE2RSxJQUNiN0UsRUFBVUksVUFBWUwsRUFDUCxJQUFYQSxFQUNBOEUsRUFBVzN4QixVQUFVMEgsT0FBTyxjQUc1QmlxQixFQUFXM3hCLFVBQVV2RSxJQUFJLGNBR3JDLENBVUE0ekIsbUJBQW1CckksRUFBSWhoQyxHQUNuQixNQUFNNHJDLEVBQWFudEIsS0FBS290QixtQkFBbUI3SyxFQUFJaGhDLEdBQy9DLEdBQUk0ckMsRUFBV3A4QixPQUFTLEVBQUcsQ0FDdkIsSUFBSyxNQUFNczhCLEtBQUtGLE9BQ0s1ekIsSUFBYjh6QixFQUFFM0MsUUFDRjFxQixLQUFLc3RCLHFCQUFxQkQsRUFBRTNDLFFBR3BDMXFCLEtBQUtzdEIscUJBQXFCL0ssRUFDOUIsQ0FDSixDQUtBOEgseUJBQ0ksSUFBSyxNQUFNa0QsS0FBS3Z0QixLQUFLeXBCLGNBQ2pCLEdBQUk4RCxFQUFFQyxzQkFBZ0NqMEIsSUFBYmcwQixFQUFFN0MsT0FBc0IsQ0FDN0MsTUFBTStDLEVBQU96dEIsS0FBSzB0Qiw2QkFBNkJILEdBQy9DLEdBQW9CLElBQWhCRSxFQUFLMThCLE9BQWMsQ0FDbkIsSUFBSWk4QixFQUFNLEdBQ1YsSUFBSyxJQUFJVyxLQUFLRixFQUNWVCxHQUFPLEtBQU9XLEVBRWxCWCxFQUFNQSxFQUFJdDZCLE1BQU0sR0FDaEJzTixLQUFLaXRCLG1CQUFtQk0sRUFBRTdDLE9BQVEsK0JBQWlDc0MsRUFDdkUsTUFFSWh0QixLQUFLaXRCLG1CQUFtQk0sRUFBRTdDLE9BQVEsR0FFMUMsQ0FFUixDQU9Bb0MsbUNBQ0ksSUFBSyxJQUFJcDdCLEVBQUksRUFBR0EsRUFBSXNPLEtBQUtxcEIsT0FBUTMzQixJQUFLLENBQ2xDLE1BQU1pMUIsRUFBUW5oQyxTQUFTODVCLGVBQWUsY0FBZ0I1dEIsR0FDdEQsR0FBSWkxQixFQUFPLENBQ1BBLEVBQU1wckIsVUFBVTBILE9BQU8sY0FDdkIsSUFBSTJxQixFQUFXLEdBQ1Y1dEIsS0FBSzZ0QixvQkFBb0JsSCxHQU0xQjNtQixLQUFLaXRCLG1CQUFtQnY3QixFQUFHLEtBTDNCazhCLEVBQVcsaUJBQWlCakgsRUFBTXRrQywwQkFBMEJza0MsRUFBTS9qQyxRQUFRK2pDLEVBQU1tSCxlQUFlMVMsZ0JBQy9GdUwsRUFBTXByQixVQUFVdkUsSUFBSSxjQUNwQmdKLEtBQUtpdEIsbUJBQW1CdjdCLEVBQUcseUNBSy9CaTFCLEVBQU16TCxVQUFZbGIsS0FBSyt0QixxQ0FBcUNwSCxFQUFNdGtDLE9BQVN1ckMsQ0FDL0UsQ0FDSixDQUNKLENBT0FDLG9CQUFvQmxILEdBQ2hCLFFBQVMzbUIsS0FBSzBwQixpQkFBaUJsM0IsTUFBTSs2QixHQUMxQkEsRUFBRWhzQyxPQUFTb2xDLEVBQU10a0MsT0FFaEMsQ0FZQW9vQyxXQUFXOUQsRUFBT3BFLEVBQUl5TCxHQUNsQixNQUFPLDBCQUEwQnpMLG1NQUlnQkEsZ0JBQWlCdmlCLEtBQUttcEIsd0NBQXdDNUcseUJBQ3JHdmlCLEtBQUsrdEIscUNBQXFDQyxxRkFFQ3pMLGdHQUVTQSxvQkFDeERvRSwrTUFJOERwRSxtRUFDZkEsd0hBRWdCdmlCLEtBQUttcEIsdUJBQXVCNUcsNkdBSXJHLENBT0F3TCxxQ0FBcUNsZixHQUNqQyxJQUFJb2YsRUFBUyxHQUNiLElBQUssTUFBTVYsS0FBS3Z0QixLQUFLMHBCLGlCQUNqQnVFLEdBQVUsa0JBQWtCVixFQUFFaHNDLFNBQVNnc0MsRUFBRWhzQyxPQUFTc3RCLEVBQVcsV0FBYSxNQUFNMGUsRUFBRVcscUJBRXRGLE9BQU9ELENBQ1gsQ0FRQTlCLGlCQUNJLElBQUtuc0IsS0FBSzRwQixnQkFDTixPQUFPLEtBRVgsSUFBSzVwQixLQUFLNHBCLGdCQUFnQnZuQyxPQUF3QyxLQUEvQjJkLEtBQUs0cEIsZ0JBQWdCdm5DLE1BQWMsQ0FDbEV4QixPQUFPbWhDLFNBQVMsQ0FBRWwvQixJQUFLLEVBQUdtL0IsU0FBVSxXQUNwQ2ppQixLQUFLNHBCLGdCQUFnQnJ1QixVQUFVdkUsSUFBSSxjQUNuQ2dKLEtBQUs0cEIsZ0JBQWdCaFosUUFDckIsTUFBTXVkLEVBQWtCM29DLFNBQVM4NUIsZUFBZSxtQkFJaEQsT0FISTZPLElBQ0FBLEVBQWdCMUYsVUFBWSw0QkFFekIsSUFDWCxDQUNBLE9BQU96b0IsS0FBSzRwQixnQkFBZ0J2bkMsS0FDaEMsQ0FTQWtwQyxtQkFBbUJoSixHQUNmLE9BQU92aUIsS0FBS3lwQixjQUFjd0IsV0FBV3RFLEdBQzFCQSxFQUFNK0QsU0FBV25JLEdBRWhDLENBU0FrSiw0QkFBNEIyQyxFQUFRN0wsR0FDaEMsSUFBSXBiLEVBQVdpbkIsRUFBT2puQixTQUN0QixJQUFLLElBQUl6VixFQUFJLEVBQUdBLEVBQUl5VixFQUFTcFcsT0FBUVcsSUFDN0J5VixFQUFTelYsR0FBRytKLGFBQWEsWUFDekIyeUIsRUFBT3BELFlBQVk3akIsRUFBU3pWLElBR3BDc08sS0FBS2l0QixtQkFBbUIxSyxFQUFJLElBQzVCNkwsRUFBTzd5QixVQUFVMEgsT0FBTyxhQUM1QixDQVNBbXFCLG1CQUFtQmlCLEVBQVU5c0MsR0FDekIsT0FBT3llLEtBQUt5cEIsY0FBY2pqQyxRQUFRbWdDLEdBQ3ZCQSxFQUFNcGxDLE9BQVNBLEdBQVFvbEMsRUFBTStELFNBQVcyRCxHQUV2RCxDQU9BZixxQkFBcUIvSyxHQUNqQixNQUFNb0UsRUFBUW5oQyxTQUFTODVCLGVBQWUsY0FBZ0JpRCxHQUN0RG9FLFNBQThDQSxFQUFNcHJCLFVBQVV2RSxJQUFJLGNBQ2xFZ0osS0FBS2l0QixtQkFBbUIxSyxFQUFJLHVCQUNoQyxDQU9BMkksK0JBQStCM0ksRUFBSWhoQyxHQUMvQixNQUFNNHJDLEVBQWFudEIsS0FBS290QixtQkFBbUI3SyxFQUFJaGhDLEdBQy9DLEdBQTBCLElBQXRCNHJDLEVBQVdwOEIsYUFBeUN3SSxJQUF6QjR6QixFQUFXLEdBQUd6QyxPQUFzQixDQUMvRCxNQUFNMEQsRUFBUzVvQyxTQUFTODVCLGVBQWUsY0FBZ0I2TixFQUFXLEdBQUd6QyxRQUNyRTBELFNBQWdEQSxFQUFPN3lCLFVBQVUwSCxPQUFPLGNBQ3hFakQsS0FBS2l0QixtQkFBbUJFLEVBQVcsR0FBR3pDLE9BQVEsR0FDbEQsQ0FDSixDQVFBZ0QsNkJBQTZCWSxHQUN6QixJQUFJQyxFQUFlLEdBQ25CLE1BQU01SCxFQUFRbmhDLFNBQVM4NUIsZUFBZSxlQUFpQmdQLGFBQW1ELEVBQVNBLEVBQWE1RCxTQUNoSSxHQUFJNEQsRUFBYWQsZ0JBQ2IsSUFBSyxNQUFNRyxLQUFLVyxFQUFhZCxnQkFDekIsR0FBSUcsRUFBRWEsV0FBV3YwQixTQUFVK0YsS0FBYyxXQUFJLENBQ3pDLE1BQU1zckIsRUFBTXRyQixLQUFLeXBCLGNBQWN3QixXQUFXdEUsR0FDL0JBLEVBQU1wbEMsTUFBUW9zQyxFQUFFcHNDLE9BRTNCLElBQVksR0FBUitwQyxFQUNJcUMsRUFBRWMsY0FBZ0JwSSxFQUFjcUksbUNBQW1DQyxPQUNuRUosRUFBYXQ4QixLQUFLMDdCLEVBQUVwc0MsS0FBTyxzQkFHOUIsQ0FDRCxNQUFNcW1DLEVBQU1waUMsU0FBUzg1QixlQUFlLGNBQWdCdGYsS0FBS3lwQixjQUFjNkIsR0FBS1osUUFDNUUsR0FBSTlDLEdBQU9qQixFQUFPLENBQ2QsTUFBTXFHLEVBQU1wRSxFQUFrQmdHLG1CQUFtQmhILEVBQUsrRixFQUFHaEgsR0FDN0MsT0FBUnFHLEdBQ0F1QixFQUFhdDhCLEtBQUsrNkIsRUFFMUIsQ0FDSixDQUNKLENBR1IsT0FBT3VCLENBQ1gsQ0FVQXZvQiwwQkFBMEI0aEIsRUFBSytGLEVBQUdoSCxHQUM5QixNQUFNdGtDLEVBQVF1bEMsRUFBSXZsQyxNQUNsQixPQUFRc3JDLEVBQUVjLGNBQ04sS0FBS3BJLEVBQWNxSSxtQ0FBbUNHLFNBQ2xELE9BQVFsQixFQUFFcHNDLEtBQU8sa0NBQ3JCLEtBQUs4a0MsRUFBY3FJLG1DQUFtQ0ksVUFDbEQsR0FBSXpzQyxHQUFTc2tDLEVBQU10a0MsTUFDZixPQUFRc3JDLEVBQUVwc0MsS0FBTyxxQ0FFckIsTUFDSixLQUFLOGtDLEVBQWNxSSxtQ0FBbUNLLFFBQ2xELEdBQUkxc0MsR0FBU3NrQyxFQUFNdGtDLE1BQ2YsT0FBUXNyQyxFQUFFcHNDLEtBQU8sbUNBRXJCLE1BQ0osS0FBSzhrQyxFQUFjcUksbUNBQW1DTSxpQkFDbEQsR0FBSTNzQyxFQUFRc2tDLEVBQU10a0MsTUFDZCxPQUFRc3JDLEVBQUVwc0MsS0FBTyw0Q0FFckIsTUFDSixLQUFLOGtDLEVBQWNxSSxtQ0FBbUNPLGVBQ2xELEdBQUk1c0MsRUFBUXNrQyxFQUFNdGtDLE1BQ2QsT0FBUXNyQyxFQUFFcHNDLEtBQU8sMENBRXJCLE1BQ0osS0FBSzhrQyxFQUFjcUksbUNBQW1DUSxRQUNsRCxHQUFJN3NDLEdBQVNza0MsRUFBTXRrQyxNQUNmLE9BQVFzckMsRUFBRXBzQyxLQUFPLGlDQUVyQixNQUNKLEtBQUs4a0MsRUFBY3FJLG1DQUFtQ1MsV0FDbEQsR0FBSTlzQyxHQUFTc2tDLEVBQU10a0MsTUFDZixPQUFRc3JDLEVBQUVwc0MsS0FBTyx1Q0FJN0IsT0FBTyxJQUNYLENBUUF5a0Isd0JBRUksT0FEb0J4Z0IsU0FBUzRhLGlCQUFpQixlQUMzQnJQLE9BQVMsQ0FDaEMsQ0FjQXE3QixpQkFBaUJ4aEMsR0FDYixJQUFJdy9CLEVBQVcsR0FDZixJQUFLLElBQUl6RCxLQUFTM21CLEtBQUt5cEIsY0FBZSxDQUNsQyxNQUFNMkYsRUFBZTVwQyxTQUFTODVCLGVBQWUsY0FBY3FILEVBQU0rRCxVQUMzRDJFLEVBQWE3cEMsU0FBUzg1QixlQUFlLGNBQWNxSCxFQUFNK0QsVUFDekQ0RSxFQUFlOXBDLFNBQVM4NUIsZUFBZSxlQUFlcUgsRUFBTStELFVBQ2xFLEdBQUkwRSxHQUFnQkMsR0FBY0MsRUFJOUIsR0FISUEsRUFBYW5GLFVBQ2JDLEdBQVlpRixFQUFXaHRDLE1BQVEsS0FFL0Irc0MsRUFBYUcsaUJBQTBELFdBQXZDSCxFQUFhN29CLFFBQVE3bEIsY0FDckRrSyxFQUFLMHBCLE9BQU8rYSxFQUFXaHRDLE1BQU91bUMsRUFBa0I0RyxpQkFBaUJKLFFBRWhFLENBQ0QsSUFBSUssRUFBSUwsRUFDUixHQUFJekksRUFBTWxtQixPQUFTNGxCLEVBQWNPLGdCQUFnQkMsT0FBU0YsRUFBTS9qQyxRQUFTLENBQ3JFLE1BQU1ra0MsRUFBT0gsRUFBTS9qQyxRQUNuQixJQUFJZ2xDLEVBQU02SCxFQUFFL0csY0FDUjVCLEVBQUtybUIsT0FBUzRsQixFQUFjVSxXQUFXQyxjQUN2Q1ksR0FBTSxFQUFJdEIsRUFBV21CLHlCQUF5QmdJLEVBQUUvRyxjQUFlNUIsRUFBS0ksSUFBS0osRUFBS0ssT0FFbEZ2OEIsRUFBSzBwQixPQUFPK2EsRUFBV2h0QyxNQUFPdWxDLEVBQUk5bUMsV0FDdEMsTUFFSThKLEVBQUswcEIsT0FBTythLEVBQVdodEMsTUFBT290QyxFQUFFcHRDLE1BQU12QixXQUU5QyxDQUVSLENBQ0EsT0FBT3NwQyxDQUNYLENBZUFwa0Isd0JBQXdCcGhCLEdBQ3BCLElBQUlnakMsRUFBTSxHQUNWLElBQUssSUFBSS9pQyxLQUFTRCxFQUFPdWlCLFNBQ3JCLElBQUssSUFBSXVvQixLQUFjN3FDLEVBQU1zaUIsU0FDekIsR0FBeUMsVUFBckN1b0IsRUFBV25wQixRQUFRN2xCLGVBQWlFLGFBQXBDZ3ZDLEVBQVczMUIsYUFBYSxRQUF3QixDQUNoRyxNQUFNMDFCLEVBQUlDLEVBQ05ELEVBQUV0RixVQUNGdkMsR0FBTzZILEVBQUVwdEMsTUFBUSxJQUV6QixDQUdSLE9BQU91bEMsQ0FDWCxDQVNBK0Usb0JBQW9CRCxFQUFVYixFQUFvQlMsR0FDdkIsS0FBbkJJLEVBQVNpRCxRQUFvQyxLQUFuQmpELEVBQVNpRCxRQUMvQnJELElBQ0FBLEVBQUlwUixVQUFZLFFBQ2hCb1IsRUFBSWhxQyxnQkFBZ0IsYUFFeEJ6QixPQUFPK3VDLFNBQVNDLEtBQU9oRSxHQUd2QmEsRUFBU3RSLE9BQU85aEIsTUFBSzhoQixJQUNqQjRRLE1BQU0sZ0NBQWtDVSxFQUFTaUQsT0FBUyx3Q0FDMUQ3c0IsUUFBUUMsTUFBTXFZLEdBQ1ZrUixJQUNBQSxFQUFJcFIsVUFBWSxVQUNoQm9SLEVBQUlocUMsZ0JBQWdCLFlBQ3hCLEdBR1osRUFFSndqQyxFQUFROEMsa0JBQW9CQSxpQkNobkI1Qi9tQyxPQUFPMmdCLGVBQWVzakIsRUFBUyxhQUFjLENBQUV6akMsT0FBTyxJQUN0RHlqQyxFQUFRZ0ssMEJBQTRCaEssRUFBUWlLLGlCQUFtQmpLLEVBQVFrSyx5QkFBc0IsRUFDN0YsTUFBTTNKLEVBQWdCLEVBQVEsS0FDeEJ5QyxFQUFhLEVBQVEsS0FDckJELEVBQWUsRUFBUSxHQUN2QnZDLEVBQWEsRUFBUSxJQUMzQixNQUFNMEosRUFPRnByQixZQUFZcXJCLEdBQ1Jqd0IsS0FBS2l3QixTQUFXQSxDQUNwQixDQU9BQyxVQUFVbkcsRUFBUW9HLEdBQ2Rud0IsS0FBS293QixRQUFVckcsRUFDZi9wQixLQUFLcXdCLFdBQVdGLEVBQ3BCLENBUUFFLFdBQVdGLEdBRVAsSUFEQSxFQUFJckgsRUFBV3dILGtCQUFrQnR3QixLQUFLaXdCLFVBQ2xDandCLEtBQUtvd0IsUUFBUyxDQUNkLE1BQU1HLEVBQWF2d0IsS0FBS3d3QixjQUFjTCxJQUN0QyxFQUFJckgsRUFBVzZCLGFBQWE0RixFQUFZdndCLEtBQUtpd0IsU0FDakQsQ0FDSixDQVFBTyxjQUFjTCxHQUNWLElBQUtud0IsS0FBS293QixRQUNOLE1BQU8sR0FFWCxNQUFNSyxFQUFzQixDQUN4QjVJLGFBQWM3bkIsS0FBS293QixRQUFRcEcsT0FBT0MsVUFDbEMxb0MsS0FBTSxZQUNOMnNDLFVBQVcsWUFDWHp0QixLQUFNNGxCLEVBQWNPLGdCQUFnQm9CLEtBQ3BDd0csV0FBWSxDQUFDbkksRUFBY2tELFlBQVltSCxjQUFlckssRUFBY2tELFlBQVlDLE9BQVFuRCxFQUFja0QsWUFBWW9ILFNBQVV0SyxFQUFja0QsWUFBWXFILG9CQUVwSkMsR0FBb0IsRUFBSWhJLEVBQWE1Qyx1QkFBdUJ3SyxFQUFxQixFQUFHendCLEtBQUtvd0IsUUFBUXBHLE9BQU9DLFdBQVcsR0FDekgsSUFBSUQsRUFBU2dHLEVBQW9CdkYsV0FBV29HLEVBQW1CLEVBQUdKLEVBQW9CdkMsV0FDbEYzTCxFQUFLLEVBYVQsT0FaQTFnQyxPQUFPeWdCLFFBQVF0QyxLQUFLb3dCLFFBQVFwRyxRQUFRaG9DLFNBQVEsRUFBRWdGLEVBQUszRSxHQUFRNFcsS0FDdkQsR0FBWSxjQUFSalMsUUFBd0N1UyxJQUFqQnlHLEtBQUtvd0IsUUFBdUIsQ0FDbkQsSUFBSXpKLEVBQVE5a0MsT0FBT08sT0FBTyxDQUFDLEdBQUcsRUFBSWlrQyxFQUFjaUUsZ0JBQWdCdGpDLElBQzVEbXBDLEdBQVksT0FBU25wQyxLQUFPbXBDLElBQzVCOXRDLEVBQVE4dEMsRUFBUyxPQUFTbnBDLElBRTlCLE1BQU04cEMsR0FBWSxFQUFJakksRUFBYTVDLHVCQUF1QlUsRUFBT3BFLEVBQUlsZ0MsR0FBUTJ0QyxFQUFvQmUsWUFBWS9wQyxFQUFLZ1osS0FBS293QixRQUFRaEcsV0FDL0hKLEdBQVUsS0FBT2dHLEVBQW9CdkYsV0FBV3FHLEVBQVd2TyxFQUFJb0UsRUFBTXVILFdBQ3JFM0wsR0FDSixLQUVKeUgsR0FBVSxtQkFDSEEsQ0FDWCxDQVdBaGtCLGtCQUFrQjhxQixFQUFXdk8sRUFBSXlPLEdBQzdCLE1BQU8sbUhBR3NCek8seUJBQTBCeU8sOEJBQzdDRixxRUFDK0N2TyxxQ0FHN0QsQ0FPQXZjLG1CQUFtQmhmLEVBQUtpcUMsR0FDcEIsT0FBT0EsRUFBVWgzQixTQUFTalQsRUFDOUIsRUFFSjgrQixFQUFRa0ssb0JBQXNCQSxFQXlDOUJsSyxFQUFRaUssaUJBMUJSLFNBQTBCbUIsR0FDdEIsTUFBTXRtQyxFQUFPLElBQUlxaEMsU0FBU2lGLEdBQzFCLEdBQTJCLE1BQXZCdG1DLEVBQUs2SCxJQUFJLFVBQ1QsT0FBTyxFQUVYLE1BQU0wK0IsR0FBYyxFQUFJOUssRUFBYytLLGlCQUFpQi9LLEVBQWNPLGdCQUFnQkMsT0FDckYsSUFBSyxNQUFNMEcsS0FBSzRELEVBQWEsQ0FDekIsTUFBTTl1QyxFQUFRdUksRUFBSzZILElBQUksT0FBUzg2QixFQUFFaHNDLE1BQ2xDLEdBQWMsT0FBVmMsRUFBZ0IsQ0FDaEIsTUFBTXlrQyxFQUFPeUcsRUFBRTNxQyxRQUNUeXVDLEVBQWU3ckMsU0FBU2tELGNBQWMsVUFBVSxPQUFTNmtDLEVBQUVoc0MsVUFJakUsR0FISTh2QyxJQUNBLEVBQUl2SSxFQUFXd0ksZUFBZUQsR0FFOUJ2SyxFQUFLcm1CLE9BQVM0bEIsRUFBY1UsV0FBV0MsWUFBYSxDQUNwRCxNQUFNdUssRUFBUSxnQ0FBK0IsRUFBSWpMLEVBQVdtQiwwQkFBMEJwbEMsRUFBT3lrQyxFQUFLSSxJQUFLSixFQUFLSyxnQkFBZ0IsT0FBU29HLEVBQUVoc0MsVUFDdkksRUFBSXVuQyxFQUFXMEksa0JBQWlCLEVBQUkxSSxFQUFXMkksY0FBY0YsR0FBUUwsRUFDekUsS0FDSyxDQUNELE1BQU1LLEVBQVEsK0JBQStCbHZDLFlBQWdCLE9BQVNrckMsRUFBRWhzQyxVQUN4RSxFQUFJdW5DLEVBQVcwSSxrQkFBaUIsRUFBSTFJLEVBQVcySSxjQUFjRixHQUFRTCxFQUN6RSxDQUNKLENBQ0osQ0FDQSxPQUFPLENBQ1gsRUFpQkFwTCxFQUFRZ0ssMEJBUFIsU0FBbUM0QixFQUFnQjNpQixHQUMvQyxNQUFNaEIsRUFBT3ZvQixTQUFTODVCLGVBQWVvUyxHQUNqQzNqQixJQUNBQSxFQUFLbU4sVUFBWW5NLEVBQVMsNERBQ3BCLDhEQUVkLGlCQ2pLQWx0QixPQUFPMmdCLGVBQWVzakIsRUFBUyxhQUFjLENBQUV6akMsT0FBTyxJQUN0RHlqQyxFQUFRc0wsZ0JBQWtCdEwsRUFBUTZMLGdCQUFrQjdMLEVBQVE4TCx5QkFBMkI5TCxFQUFRK0csMEJBQTRCL0csRUFBUXdFLGVBQWlCeEUsRUFBUStMLHdCQUEwQi9MLEVBQVE0SSxtQ0FBcUM1SSxFQUFRYyxnQkFBa0JkLEVBQVF5RCxZQUFjekQsRUFBUWlCLGdCQUFhLEVBQ3hTLE1BQU1QLEVBQWUsRUFBUSxLQUN2QkQsRUFBVSxFQUFRLEtBQ2xCdUwsRUFBYyxFQUFRLEtBQzVCLElBQUkvSyxFQUtBd0MsRUFPQTNDLEVBUUE4SCxFQWlOSixTQUFTcEUsRUFBZXRqQyxHQUNwQixPQUFPOCtCLEVBQVErTCx3QkFBd0JyL0IsTUFBTW0wQixHQUNsQ0EsRUFBTXBsQyxPQUFTeUYsR0FFOUIsRUF4T0EsU0FBVysvQixHQUNQQSxFQUFXQSxFQUFtQixPQUFJLEdBQUssU0FDdkNBLEVBQVdBLEVBQXdCLFlBQUksR0FBSyxhQUMvQyxDQUhELENBR0dBLEVBQWFqQixFQUFRaUIsYUFBZWpCLEVBQVFpQixXQUFhLENBQUMsSUFFN0QsU0FBV3dDLEdBQ1BBLEVBQTJCLGNBQUksZ0JBQy9CQSxFQUFzQixTQUFJLFdBQzFCQSxFQUFvQixPQUFJLFNBQ3hCQSxFQUErQixrQkFBSSxtQkFDdEMsQ0FMRCxDQUtHQSxFQUFjekQsRUFBUXlELGNBQWdCekQsRUFBUXlELFlBQWMsQ0FBQyxJQUVoRSxTQUFXM0MsR0FDUEEsRUFBc0IsS0FBSSxPQUMxQkEsRUFBd0IsT0FBSSxTQUM1QkEsRUFBdUIsTUFBSSxRQUMzQkEsRUFBc0IsS0FBSSxPQUMxQkEsRUFBc0IsS0FBSSxNQUM3QixDQU5ELENBTUdBLEVBQWtCZCxFQUFRYyxrQkFBb0JkLEVBQVFjLGdCQUFrQixDQUFDLElBRTVFLFNBQVc4SCxHQUNQQSxFQUFtQ0EsRUFBMEMsTUFBSSxHQUFLLFFBQ3RGQSxFQUFtQ0EsRUFBNkMsU0FBSSxHQUFLLFdBQ3pGQSxFQUFtQ0EsRUFBOEMsVUFBSSxHQUFLLFlBQzFGQSxFQUFtQ0EsRUFBNEMsUUFBSSxHQUFLLFVBQ3hGQSxFQUFtQ0EsRUFBcUQsaUJBQUksR0FBSyxtQkFDakdBLEVBQW1DQSxFQUFtRCxlQUFJLEdBQUssaUJBQy9GQSxFQUFtQ0EsRUFBNEMsUUFBSSxHQUFLLFVBQ3hGQSxFQUFtQ0EsRUFBK0MsV0FBSSxHQUFLLFlBQzlGLENBVEQsQ0FTR0EsRUFBcUM1SSxFQUFRNEkscUNBQXVDNUksRUFBUTRJLG1DQUFxQyxDQUFDLElBQ3JJNUksRUFBUStMLHdCQUEwQixDQUM5QixDQUNJdHdDLEtBQU0sZ0JBQ04yc0MsVUFBVyxxQkFDWHp0QixLQUFNbW1CLEVBQWdCQyxNQUN0QmdCLGFBQWMsRUFDZE0sWUFBYSwySkFDYnZsQyxRQUFTLENBQUVza0MsSUFBSyxJQUFXQyxLQUFNLEtBQWNLLEtBQU0sTUFBTy9tQixLQUFNc21CLEVBQVdDLGFBQzdFd0gsV0FBWSxDQUFDakYsRUFBWW1ILGNBQWVuSCxFQUFZQyxPQUFRRCxFQUFZb0gsU0FBVXBILEVBQVlxSCxtQkFDOUZwRCxnQkFBaUIsQ0FDYixDQUNJanNDLEtBQU0sWUFDTmt0QyxhQUFjQyxFQUFtQ08sZUFDakRULFdBQVksQ0FBQ2pGLEVBQVltSCxnQkFFN0IsQ0FDSW52QyxLQUFNLFlBQ05rdEMsYUFBY0MsRUFBbUNDLE1BQ2pESCxXQUFZLENBQUNqRixFQUFZbUgsa0JBSXJDLENBQ0ludkMsS0FBTSxnQkFDTjJzQyxVQUFXLHdCQUNYenRCLEtBQU1tbUIsRUFBZ0JDLE1BQ3RCZ0IsYUFBYyxFQUNkTSxZQUFhLHdGQUNidmxDLFFBQVMsQ0FBRXNrQyxJQUFLLElBQU9DLEtBQU0sSUFBWUssS0FBTSxZQUFhL21CLEtBQU1zbUIsRUFBV0MsYUFDN0V3SCxXQUFZLENBQUNqRixFQUFZbUgsY0FBZW5ILEVBQVlDLE9BQVFELEVBQVlvSCxTQUFVcEgsRUFBWXFILG1CQUM5RnBELGdCQUFpQixDQUNiLENBQ0lqc0MsS0FBTSxZQUNOa3RDLGFBQWNDLEVBQW1DTyxlQUNqRFQsV0FBWSxDQUFDakYsRUFBWW1ILGdCQUU3QixDQUNJbnZDLEtBQU0sWUFDTmt0QyxhQUFjQyxFQUFtQ0MsTUFDakRILFdBQVksQ0FBQ2pGLEVBQVltSCxrQkFJckMsQ0FDSW52QyxLQUFNLFdBQ04yc0MsVUFBVyxXQUNYenRCLEtBQU1tbUIsRUFBZ0JjLEtBQ3RCRyxhQUFjLEdBQ2RNLFlBQWEsa0RBQ2JxRyxXQUFZLENBQUNqRixFQUFZQyxPQUFRRCxFQUFZbUgsZUFDN0M5dEMsUUFBUyxDQUFFc2MsT0FBUSxDQUFDLE1BQU8sTUFBTyxPQUFRLFFBQVN5b0IsT0FBTyxJQUU5RCxDQUNJcG1DLEtBQU0sWUFDTjJzQyxVQUFXLFlBQ1h6dEIsS0FBTW1tQixFQUFnQm9CLEtBQ3RCSCxhQUFjLEdBQ2RNLFlBQWEscWlCQVdicUcsV0FBWSxDQUFDakYsRUFBWW1ILGVBR3pCM0ksV0FBWSxDQUFDLElBQUl2QixFQUFhdUwsc0JBQXNCLGlEQUFrRCxZQUFhLDBLQUV2SCxDQUNJeHdDLEtBQU0sT0FBUTJzQyxVQUFXLFVBQVd6dEIsS0FBTW1tQixFQUFnQnFCLE9BQVFKLGFBQWMsRUFDaEZNLFlBQWEsd0RBQ2JxRyxXQUFZLENBQUNqRixFQUFZbUgsY0FBZW5ILEVBQVlDLE9BQVFELEVBQVlvSCxTQUFVcEgsRUFBWXFILG9CQUVsRyxDQUNJcnZDLEtBQU0scUJBQ04yc0MsVUFBVyxxQkFDWHp0QixLQUFNbW1CLEVBQWdCQyxNQUN0QmdCLGFBQWMsRUFDZE0sWUFBYSxrR0FDYnZsQyxRQUFTLENBQUVza0MsSUFBSyxFQUFHQyxLQUFNLEdBQUlLLEtBQU0sVUFBVy9tQixLQUFNc21CLEVBQVdPLFFBQy9Ea0gsV0FBWSxDQUFDakYsRUFBWW9ILFdBRTdCLENBQ0lwdkMsS0FBTSxxQkFDTjJzQyxVQUFXLHFCQUNYenRCLEtBQU1tbUIsRUFBZ0JDLE1BQ3RCZ0IsYUFBYyxHQUNkTSxZQUFhLDZIQUNidmxDLFFBQVMsQ0FBRXNrQyxJQUFLLEVBQUdDLEtBQU0sSUFBS0ssS0FBTSxVQUFXL21CLEtBQU1zbUIsRUFBV08sUUFDaEVrSCxXQUFZLENBQUNqRixFQUFZb0gsU0FBVXBILEVBQVlxSCxvQkFFbkQsQ0FDSXJ2QyxLQUFNLFlBQ04yc0MsVUFBVyxpQkFDWHJHLGFBQWMsRUFDZE0sWUFBYSw4WEFHYnFHLFdBQVksQ0FBQ2pGLEVBQVltSCxlQUN6Qmp3QixLQUFNbW1CLEVBQWdCQyxNQUN0QmprQyxRQUFTLENBQUVza0MsSUFBSyxJQUFXQyxLQUFNLEtBQWNLLEtBQU0sTUFBTy9tQixLQUFNc21CLEVBQVdDLGFBQzdFZSxXQUFZLENBQUMsSUFBSXZCLEVBQWF3TCxrQkFDOUJ4RSxnQkFBaUIsQ0FDYixDQUNJanNDLEtBQU0sZ0JBQ05rdEMsYUFBY0MsRUFBbUNNLGlCQUNqRFIsV0FBWSxDQUFDakYsRUFBWW1ILGdCQUU3QixDQUNJbnZDLEtBQU0sZ0JBQ05rdEMsYUFBY0MsRUFBbUNDLE1BQ2pESCxXQUFZLENBQUNqRixFQUFZbUgsa0JBSXJDLENBQ0ludkMsS0FBTSxZQUNOMnNDLFVBQVcsb0JBQ1hyRyxhQUFjLElBQ2RNLFlBQWEsaU1BQ2JxRyxXQUFZLENBQUNqRixFQUFZbUgsZUFDekJqd0IsS0FBTW1tQixFQUFnQkMsTUFDdEJqa0MsUUFBUyxDQUFFc2tDLElBQUssSUFBT0MsS0FBTSxJQUFZSyxLQUFNLFlBQWEvbUIsS0FBTXNtQixFQUFXQyxhQUM3RWUsV0FBWSxDQUFDLElBQUl2QixFQUFhd0wsa0JBQzlCeEUsZ0JBQWlCLENBQ2IsQ0FDSWpzQyxLQUFNLGdCQUNOa3RDLGFBQWNDLEVBQW1DTSxpQkFDakRSLFdBQVksQ0FBQ2pGLEVBQVltSCxnQkFFN0IsQ0FDSW52QyxLQUFNLGdCQUNOa3RDLGFBQWNDLEVBQW1DQyxNQUNqREgsV0FBWSxDQUFDakYsRUFBWW1ILGtCQUlyQyxDQUNJbnZDLEtBQU0sZ0JBQ04yc0MsVUFBVyxnQkFDWHp0QixLQUFNbW1CLEVBQWdCYyxLQUN0QkcsYUFBYyxNQUNkTSxZQUFhLGlFQUNicUcsV0FBWSxDQUFDakYsRUFBWW1ILGVBQ3pCOXRDLFFBQVMsQ0FBRXNjLE9BQVEsQ0FBQyxNQUFPLEtBQU0sTUFBTyxRQUFTLE9BQVEsU0FBVSxXQUFZeW9CLE9BQU8sSUFFMUYsQ0FDSXBtQyxLQUFNLGlCQUNOMnNDLFVBQVcscUJBQ1hyRyxhQUFjLEdBQ2RNLFlBQWEsNFBBRWIxbkIsS0FBTW1tQixFQUFnQm9CLEtBQ3RCd0csV0FBWSxDQUFDakYsRUFBWW1ILGdCQUU3QixDQUNJbnZDLEtBQU0sbUJBQ04yc0MsVUFBVyxtQkFDWE0sV0FBWSxDQUFDakYsRUFBWXFILG1CQUN6Qm53QixLQUFNbW1CLEVBQWdCQyxNQUN0QmdCLGFBQWMsRUFDZE0sWUFBYSxnTUFDYnZsQyxRQUFTLENBQUVza0MsSUFBSyxFQUFHQyxLQUFNLElBQUtLLEtBQU0sSUFBSy9tQixLQUFNc21CLEVBQVdPLFNBRTlELENBQ0kvbEMsS0FBTSxpQkFDTjJzQyxVQUFXLGlCQUNYenRCLEtBQU1tbUIsRUFBZ0JjLEtBQ3RCRyxhQUFjLGNBQ2RNLFlBQWEsb0pBR2JxRyxXQUFZLENBQUNqRixFQUFZcUgsbUJBQ3pCaHVDLFFBQVMsQ0FBRXNjLE9BQVEsQ0FBQyxjQUFlLFlBQWF5b0IsT0FBTyxJQUUzRCxDQUNJcG1DLEtBQU0saUJBQ04yc0MsVUFBVyxpQkFDWHp0QixLQUFNbW1CLEVBQWdCcUIsT0FDdEJKLGFBQWMsR0FDZE0sWUFBYSxnSEFDYnFHLFdBQVksQ0FBQ2pGLEVBQVlvSCxTQUFVcEgsRUFBWW1ILGNBQWVuSCxFQUFZcUgsbUJBQzFFN0ksV0FBWSxDQUFDLElBQUl2QixFQUFheUwscUJBQXFCLEdBQUksT0FnQi9Ebk0sRUFBUXdFLGVBQWlCQSxFQWN6QnhFLEVBQVErRywwQkFOUixTQUFtQ3FGLEdBQy9CLE9BQU9wTSxFQUFRK0wsd0JBQXdCcnJDLFFBQVFtZ0MsSUFDM0MsSUFBSW1FLEVBQ0osT0FBbUMsUUFBM0JBLEVBQUtuRSxFQUFNNkgsa0JBQStCLElBQVAxRCxPQUFnQixFQUFTQSxFQUFHN3dCLFNBQVNpNEIsRUFBUyxHQUVqRyxFQWlCQXBNLEVBQVE4TCx5QkFUUixTQUFrQzVxQyxHQUM5QixNQUFNMi9CLEVBQVEyRCxFQUFldGpDLEdBQzdCLE9BQUkyL0IsR0FBU0EsRUFBTW9CLFdBQ1JwQixFQUFNb0IsV0FHTixFQUVmLEVBdUNBakMsRUFBUTZMLGdCQXpCUixTQUF5QnRVLEVBQU8yTSxFQUFRSSxHQUNwQyxNQUFNK0gsRUFBWTNzQyxTQUFTODVCLGVBQWUscUJBQ3BDOFMsRUFBVzVzQyxTQUFTODVCLGVBQWUsb0JBQ25DK1MsRUFBWTdzQyxTQUFTODVCLGVBQWUscUJBQzFDLEdBQUk2UyxHQUFhQyxHQUFZQyxFQUFXLENBQ3BDRixFQUFValgsVUFBWW1DLEVBQ3RCK1UsRUFBU2xYLFVBQVksR0FDckIsSUFBSyxJQUFJbDBCLEtBQU9nakMsRUFBUSxDQUNwQixJQUFJc0ksRUFBTUYsRUFBU0csVUFBVUgsRUFBU0ksS0FBS3poQyxRQUN2QzBoQyxFQUFVSCxFQUFJSSxhQUNkQyxFQUFVTCxFQUFJSSxhQUNkRSxFQUFlTixFQUFJSSxhQUN2QkQsRUFBUXZYLFVBQVlsMEIsRUFDTyxpQkFBaEJnakMsRUFBT2hqQyxHQUNkMnJDLEVBQVF6WCxXQUFZLEVBQUlxTCxFQUFRZ0Isb0JBQW9CeUMsRUFBT2hqQyxHQUFNLEVBQUcsSUFHcEUyckMsRUFBUXpYLFVBQVk4TyxFQUFPaGpDLEdBQUtsRyxXQUVwQzh4QyxFQUFhMVgsVUFBWWtQLEVBQVNud0IsU0FBU2pULEdBQU8sTUFBUSxJQUM5RCxDQUNZLElBQUk4cUMsRUFBWWxjLE1BQU15YyxFQUFXLENBQUVqZSxVQUFVLEVBQU10SyxVQUFVLElBQ25Fd0UsTUFDVixDQUNKLEVBYUF3WCxFQUFRc0wsZ0JBTFIsU0FBeUIzd0IsR0FDckIsT0FBT3FsQixFQUFRK0wsd0JBQXdCcnJDLFFBQVF1akMsR0FDcENBLEVBQU90cEIsT0FBU0EsR0FFL0IsaUJDOVRBNWUsT0FBTzJnQixlQUFlc2pCLEVBQVMsYUFBYyxDQUFFempDLE9BQU8sSUFDdER5akMsRUFBUTZDLGNBQWdCN0MsRUFBUWtNLGlCQUFtQmxNLEVBQVFpTSxzQkFBd0JqTSxFQUFRbU0sMEJBQXVCLEVBQ2xILE1BQU01TCxFQUFnQixFQUFRLEtBQ3hCd0MsRUFBZSxFQUFRLEdBMkI3Qi9DLEVBQVFtTSxxQkExQlIsTUFTSXJ0QixZQUFZbmhCLEVBQUtELEdBQ2J3YyxLQUFLcGQsUUFBVSxDQUFFYSxJQUFLQSxFQUFLRCxJQUFLQSxFQUNwQyxDQUNBcXZDLFNBQVN4d0MsR0FDTCxJQUFJeXdDLEdBQVEsRUFPWixZQU55QnY1QixJQUFyQnlHLEtBQUtwZCxRQUFRYSxLQUFxQnBCLEdBQVMyZCxLQUFLcGQsUUFBUWEsTUFDeERxdkMsR0FBUSxRQUVhdjVCLElBQXJCeUcsS0FBS3BkLFFBQVFZLEtBQXFCbkIsR0FBUzJkLEtBQUtwZCxRQUFRWSxNQUN4RHN2QyxHQUFRLEdBRUxBLENBQ1gsQ0FDQUMsaUJBQ0ksTUFBTyw0QkFBNEIveUIsS0FBS3BkLFFBQVFhLFNBQVN1YyxLQUFLcGQsUUFBUVksS0FDMUUsR0E2QkpzaUMsRUFBUWlNLHNCQTFCUixNQVFJbnRCLFlBQVl5VCxFQUFPOTJCLEVBQU15eEMsR0FDckJoekIsS0FBS3BkLFFBQVUsQ0FBRXkxQixNQUFPQSxFQUFPOTJCLEtBQU1BLEVBQU15eEMsS0FBTUEsRUFDckQsQ0FDQUgsU0FBU3h3QyxHQUVMLE9BRFcsSUFBSTZpQixPQUFPbEYsS0FBS3BkLFFBQVF5MUIsT0FDekI3ckIsS0FBS25LLEVBQ25CLENBQ0Ewd0MsaUJBQ0ksSUFBSTNLLEVBQVUsaUJBT2QsT0FOSXBvQixLQUFLcGQsUUFBUXJCLE9BQ2I2bUMsR0FBVyxRQUFVcG9CLEtBQUtwZCxRQUFRckIsTUFFbEN5ZSxLQUFLcGQsUUFBUW93QyxPQUNiNUssR0FBVyxNQUFRcG9CLEtBQUtwZCxRQUFRb3dDLE1BRTdCNUssQ0FDWCxHQWNKdEMsRUFBUWtNLGlCQVhSLE1BSUlhLFNBQVN4d0MsR0FDTCxPQUFvQixJQUFYQSxDQUNiLENBQ0Ewd0MsaUJBQ0ksTUFBTyw2QkFDWCxHQStCSmpOLEVBQVE2QyxjQXBCUixTQUF1QnNLLEVBQVdDLEVBQVUzUSxHQUN4QyxNQUFNd0YsR0FBYSxFQUFJMUIsRUFBY3VMLDBCQUEwQnFCLEdBQy9ELEdBQUlsTCxFQUFXaDNCLE9BQVMsRUFBRyxDQUN2QixJQUFJb2lDLEVBQVcsR0FDWEwsR0FBUSxFQUNaLElBQUssSUFBSTU4QixLQUFLNnhCLEVBQ0w3eEIsRUFBRTI4QixTQUFTSyxFQUFTN3dDLFNBQ3JCeXdDLEdBQVEsRUFDUkssR0FBWWo5QixFQUFFNjhCLGlCQUFtQixTQUd6QyxFQUFJbEssRUFBYTdDLGlCQUFpQnpELEVBQUk0USxHQUNqQ0wsRUFJREksRUFBUzMzQixVQUFVMEgsT0FBTyxjQUgxQml3QixFQUFTMzNCLFVBQVV2RSxJQUFJLGFBSy9CLENBQ0osaUJDakdBblYsT0FBTzJnQixlQUFlc2pCLEVBQVMsYUFBYyxDQUFFempDLE9BQU8sSUFDdER5akMsRUFBUXNOLGlCQUFtQnROLEVBQVF1TixzQkFBd0J2TixFQUFRd04saUJBQWMsRUFDakYsTUFBTXhCLEVBQWMsRUFBUSxLQXFCNUJoTSxFQUFRd04sWUFUUixTQUFxQkMsRUFBYUMsRUFBV0MsR0FDekMsTUFBTTFsQixFQUFPdm9CLFNBQVM4NUIsZUFBZW1VLEdBQ2pDRixHQUFlQyxFQUNmemxCLFNBQTRDQSxFQUFLeFMsVUFBVXZFLElBQUksVUFHL0QrVyxTQUE0Q0EsRUFBS3hTLFVBQVUwSCxPQUFPLFNBRTFFLEVBc0JBNmlCLEVBQVF1TixzQkFUUixTQUErQmwwQixFQUFPblksRUFBSzBzQyxHQUN2QyxHQUFJdjBCLEVBQU1uWSxLQUFPQSxFQUFLLENBQ2xCbVksRUFBTWdELGlCQUNOLE1BQU1vdkIsRUFBUS9yQyxTQUFTODVCLGVBQWVvVSxHQUNsQ25DLEdBQ0FBLEVBQU0zZ0IsT0FFZCxDQUNKLEVBK0JBa1YsRUFBUXNOLGlCQWZSLFNBQTBCTyxFQUFXQyxHQUNqQyxNQUFNQyxFQUFpQnJ1QyxTQUFTODVCLGVBQWUsa0JBQy9DLElBQUt1VSxFQUNELE9BRUosTUFBTUMsRUFBUSxJQUFJaEMsRUFBWWxjLE1BQU1pZSxFQUFnQixDQUFFemYsVUFBVSxJQUNoRTBmLEVBQU14bEIsT0FDTixNQUFNZ2UsRUFBTTltQyxTQUFTODVCLGVBQWUsZ0JBQ2hDZ04sSUFDQUEsRUFBSXlILFFBQVUsWUFjdEIsU0FBc0JDLEVBQVNDLEdBQzNCLE1BQU1DLEVBQWExdUMsU0FBUzg1QixlQUFlLGFBQzNDLElBQUs0VSxFQUNELE9BRUosTUFBTXRNLEVBQU1zTSxFQUFXN3hDLE1BQU1pQixNQUFNLEtBQy9CMHdDLElBQ0FBLEVBQVEzeEMsTUFBUXVsQyxFQUFJLElBRXBCcU0sSUFDQUEsRUFBVTV4QyxNQUFRdWxDLEVBQUksR0FFOUIsQ0F6Qll1TSxDQUFhM3VDLFNBQVM4NUIsZUFBZXFVLEdBQVludUMsU0FBUzg1QixlQUFlc1UsSUFDekVFLEVBQU16bEIsTUFDVixFQUVSLGVDdEVBLElBQVdtZSxFQUhYM3FDLE9BQU8yZ0IsZUFBZXNqQixFQUFTLGFBQWMsQ0FBRXpqQyxPQUFPLElBQ3REeWpDLEVBQVF5RyxzQkFBd0J6RyxFQUFRMEcsaUJBQWMsR0FFM0NBLEVBTU0xRyxFQUFRMEcsY0FBZ0IxRyxFQUFRMEcsWUFBYyxDQUFDLElBTDNDLElBQUksTUFDckJBLEVBQWtCLEtBQUksT0FDdEJBLEVBQWlCLElBQUksTUFDckJBLEVBQW9CLE9BQUksU0FDeEJBLEVBQW1CLE1BQUksUUFpQjNCMUcsRUFBUXlHLHNCQVBSLFNBQStCM2hDLEVBQU13cEMsRUFBSy90QixHQUN0QyxNQUFNZ3VCLEVBQWMsQ0FDaEJodUIsT0FBUUEsRUFBT3ZsQixXQUNmNEwsS0FBTTlCLEdBRVYsT0FBTzBwQyxNQUFNRixFQUFLQyxFQUN0QixjQ3hCQXh5QyxPQUFPMmdCLGVBQWVzakIsRUFBUyxhQUFjLENBQUV6akMsT0FBTyxJQUN0RHlqQyxFQUFRbUIsd0JBQTBCbkIsRUFBUTJCLDZCQUEwQixFQXFCcEUzQixFQUFRMkIsd0JBVFIsU0FBaUM4TSxFQUFLaE0sRUFBUUMsR0FDMUMsR0FBSStMLEdBQU8sRUFDUCxPQUFPLEVBRVgsTUFBTTl3QyxFQUFNRixLQUFLaXhDLElBQUlqeEMsS0FBS0MsSUFBSStrQyxFQUFRLElBRWhDa00sR0FETWx4QyxLQUFLaXhDLElBQUloTSxHQUNBL2tDLEdBQU8sSUFDNUIsT0FBT0YsS0FBS0csTUFBTUgsS0FBS214QyxJQUFJSCxFQUFNRSxFQUFRaHhDLEdBQzdDLEVBc0JBcWlDLEVBQVFtQix3QkFUUixTQUFpQ1csRUFBS1csRUFBUUMsR0FDMUMsR0FBSVosR0FBTyxFQUNQLE9BQU8sRUFFWCxNQUFNbmtDLEVBQU1GLEtBQUtpeEMsSUFBSWp4QyxLQUFLQyxJQUFJK2tDLEVBQVEsSUFFaENrTSxHQURNbHhDLEtBQUtpeEMsSUFBSWhNLEdBQ0Eva0MsR0FBTyxJQUM1QixPQUFPRixLQUFLRyxPQUFPSCxLQUFLaXhDLElBQUk1TSxHQUFPbmtDLEdBQU9neEMsRUFDOUMsZUNsQ0EsU0FBU2hELEVBQWFrRCxHQUlsQixPQUhlLElBQUk5WSxXQUNBQyxnQkFBZ0I2WSxFQUFLLGFBRTdCam9DLEtBQUt5YSxRQUNwQixDQVFBLFNBQVNxcUIsRUFBZ0Jwa0MsRUFBTXduQyxHQUMzQixHQUFJeG5DLGFBQWdCaE0sWUFDaEJ3ekMsRUFBSUMsWUFBWXpuQyxRQUVmLEdBQUlBLGFBQWdCMG5DLGVBQWdCLENBQ3JDLElBQUlDLEVBQU12OUIsTUFBTXdMLEtBQUs1VixHQUNyQixJQUFLLElBQUlzRSxFQUFJLEVBQUdBLEVBQUlxakMsRUFBSWhrQyxPQUFRVyxJQUFLLENBQ2pDLE1BQU11eEIsRUFBTzhSLEVBQUlyakMsR0FDakJrakMsRUFBSUMsWUFBWTVSLEVBQ3BCLENBQ0osQ0FDSixDQVdBLFNBQVMrUixFQUFhNW5DLEVBQU1xbUMsR0FDeEIsTUFBTTFtQyxFQUFTdkgsU0FBUzg1QixlQUFlbVUsR0FDbkMxbUMsR0FDQXlrQyxFQUFnQnBrQyxFQUFNTCxFQUU5QixDQWhEQWxMLE9BQU8yZ0IsZUFBZXNqQixFQUFTLGFBQWMsQ0FBRXpqQyxPQUFPLElBQ3REeWpDLEVBQVF3TCxjQUFnQnhMLEVBQVF3SyxpQkFBbUJ4SyxFQUFRNkUsWUFBYzdFLEVBQVFrUCxhQUFlbFAsRUFBUTBMLGdCQUFrQjFMLEVBQVEyTCxrQkFBZSxFQWFqSjNMLEVBQVEyTCxhQUFlQSxFQW1CdkIzTCxFQUFRMEwsZ0JBQWtCQSxFQWdCMUIxTCxFQUFRa1AsYUFBZUEsRUFXdkJsUCxFQUFRNkUsWUFIUixTQUFxQmdLLEVBQUtNLEdBQ3RCRCxFQUFhdkQsRUFBYWtELEdBQU1NLEVBQ3BDLEVBYUFuUCxFQUFRd0ssaUJBTlIsU0FBMEIvTixHQUN0QixNQUFNeFUsRUFBT3ZvQixTQUFTODVCLGVBQWVpRCxHQUNqQ3hVLElBQ0FBLEVBQUttTixVQUFZLEdBRXpCLEVBWUE0SyxFQUFRd0wsY0FKUixTQUF1QnNELEdBQ25CLElBQUk5SixFQUN5QixRQUE1QkEsRUFBSzhKLEVBQUk3SixxQkFBa0MsSUFBUEQsR0FBeUJBLEVBQUdFLFlBQVk0SixFQUNqRixlQ3hDQSxTQUFTTSxFQUFpQjd5QyxFQUFPOHlDLEdBQzdCLE1BQU1DLEVBQWE3eEMsS0FBSzh4QyxJQUFJLEdBQUlGLEdBQWEsR0FDN0MsT0FBTzV4QyxLQUFLRyxNQUFNckIsRUFBUSt5QyxHQUFjQSxDQUM1QyxDQTdDQXZ6QyxPQUFPMmdCLGVBQWVzakIsRUFBUyxhQUFjLENBQUV6akMsT0FBTyxJQUN0RHlqQyxFQUFReUIsd0JBQXFCLEVBOEI3QnpCLEVBQVF5QixtQkFqQlIsU0FBNEIrTixFQUFLQyxFQUFhL04sRUFBTyxJQUNqRCxPQUFJOE4sR0FBTyxLQUNDSixFQUFpQkksRUFBTSxLQUFlQyxHQUFjejBDLFdBQWEsS0FBTzBtQyxFQUUzRThOLEdBQU8sSUFDSkosRUFBaUJJLEVBQU0sSUFBWUMsR0FBY3owQyxXQUFhLEtBQU8wbUMsRUFFeEU4TixHQUFPLElBQ0pKLEVBQWlCSSxFQUFNLElBQVNDLEdBQWN6MEMsV0FBYSxLQUFPMG1DLEVBRXJFOE4sR0FBTyxJQUNKSixFQUFpQkksRUFBTSxJQUFNQyxHQUFjejBDLFdBQWEsS0FBTzBtQyxFQUcvRDBOLEVBQWlCSSxFQUFLQyxHQUFjejBDLFdBQWEsSUFBTTBtQyxDQUV2RSxJQzlCSWdPLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQm44QixJQUFqQm84QixFQUNILE9BQU9BLEVBQWE3UCxRQUdyQixJQUFJOFAsRUFBU0osRUFBeUJFLEdBQVksQ0FHakQ1UCxRQUFTLENBQUMsR0FPWCxPQUhBK1AsRUFBb0JILEdBQVVFLEVBQVFBLEVBQU85UCxRQUFTMlAsR0FHL0NHLEVBQU85UCxPQUNmLENDckJBMlAsRUFBb0JwSSxFQUFJLENBQUN2SCxFQUFTZ1EsS0FDakMsSUFBSSxJQUFJOXVDLEtBQU84dUMsRUFDWEwsRUFBb0JNLEVBQUVELEVBQVk5dUMsS0FBU3l1QyxFQUFvQk0sRUFBRWpRLEVBQVM5K0IsSUFDNUVuRixPQUFPMmdCLGVBQWVzakIsRUFBUzkrQixFQUFLLENBQUVndkMsWUFBWSxFQUFNdmpDLElBQUtxakMsRUFBVzl1QyxJQUUxRSxFQ05EeXVDLEVBQW9CTSxFQUFJLENBQUMzekIsRUFBSzZ6QixJQUFVcDBDLE9BQU9takIsVUFBVS9oQixlQUFlOGMsS0FBS3FDLEVBQUs2ekIsR0NDbEZSLEVBQW9COUgsRUFBSzdILElBQ0gsb0JBQVhvUSxRQUEwQkEsT0FBT0MsYUFDMUN0MEMsT0FBTzJnQixlQUFlc2pCLEVBQVNvUSxPQUFPQyxZQUFhLENBQUU5ekMsTUFBTyxXQUU3RFIsT0FBTzJnQixlQUFlc2pCLEVBQVMsYUFBYyxDQUFFempDLE9BQU8sR0FBTyx5QkNKOURSLE9BQU8yZ0IsZUFBZXNqQixFQUFTLGFBQWMsQ0FBRXpqQyxPQUFPLElBQ3REeWpDLEVBQVFzTixpQkFBbUJ0TixFQUFRdU4sc0JBQXdCdk4sRUFBUXdOLFlBQWN4TixFQUFRQyxtQkFBcUJELEVBQVE2QyxjQUFnQjdDLEVBQVFpSyxpQkFBbUJqSyxFQUFRZ0ssMEJBQTRCaEssRUFBUWtLLG9CQUFzQmxLLEVBQVE4QyxrQkFBb0I5QyxFQUFRNkwscUJBQWtCLEVBQ3pSLE1BQU1HLEVBQWMsRUFBUSxLQUM1Qmp4QyxPQUFPdTFDLE9BQVMsV0FDYSxHQUFHMWpDLE1BQU1xTixLQUFLdmEsU0FBUzRhLGlCQUFpQiwrQkFDNUJ6SixLQUFJLFNBQVUwL0IsR0FDL0MsT0FBTyxJQUFJdkUsRUFBWXZVLFFBQVE4WSxFQUNuQyxHQUNKLEVBQ0EsSUFBSWhRLEVBQWdCLEVBQVEsS0FDNUJ4a0MsT0FBTzJnQixlQUFlc2pCLEVBQVMsa0JBQW1CLENBQUVrUSxZQUFZLEVBQU12akMsSUFBSyxXQUFjLE9BQU80ekIsRUFBY3NMLGVBQWlCLElBQy9ILElBQUkyRSxFQUF5QixFQUFRLEtBQ3JDejBDLE9BQU8yZ0IsZUFBZXNqQixFQUFTLG9CQUFxQixDQUFFa1EsWUFBWSxFQUFNdmpDLElBQUssV0FBYyxPQUFPNmpDLEVBQXVCMU4saUJBQW1CLElBQzVJLElBQUkyTixFQUEyQixFQUFRLEtBQ3ZDMTBDLE9BQU8yZ0IsZUFBZXNqQixFQUFTLHNCQUF1QixDQUFFa1EsWUFBWSxFQUFNdmpDLElBQUssV0FBYyxPQUFPOGpDLEVBQXlCdkcsbUJBQXFCLElBQ2xKbnVDLE9BQU8yZ0IsZUFBZXNqQixFQUFTLDRCQUE2QixDQUFFa1EsWUFBWSxFQUFNdmpDLElBQUssV0FBYyxPQUFPOGpDLEVBQXlCekcseUJBQTJCLElBQzlKanVDLE9BQU8yZ0IsZUFBZXNqQixFQUFTLG1CQUFvQixDQUFFa1EsWUFBWSxFQUFNdmpDLElBQUssV0FBYyxPQUFPOGpDLEVBQXlCeEcsZ0JBQWtCLElBQzVJLElBQUl2SixFQUFlLEVBQVEsS0FDM0Iza0MsT0FBTzJnQixlQUFlc2pCLEVBQVMsZ0JBQWlCLENBQUVrUSxZQUFZLEVBQU12akMsSUFBSyxXQUFjLE9BQU8rekIsRUFBYW1DLGFBQWUsSUFDMUgsSUFBSUUsRUFBZSxFQUFRLEdBQzNCaG5DLE9BQU8yZ0IsZUFBZXNqQixFQUFTLHFCQUFzQixDQUFFa1EsWUFBWSxFQUFNdmpDLElBQUssV0FBYyxPQUFPbzJCLEVBQWE5QyxrQkFBb0IsSUFDcEksSUFBSXlRLEVBQVUsRUFBUSxLQUN0QjMwQyxPQUFPMmdCLGVBQWVzakIsRUFBUyxjQUFlLENBQUVrUSxZQUFZLEVBQU12akMsSUFBSyxXQUFjLE9BQU8rakMsRUFBUWxELFdBQWEsSUFDakh6eEMsT0FBTzJnQixlQUFlc2pCLEVBQVMsd0JBQXlCLENBQUVrUSxZQUFZLEVBQU12akMsSUFBSyxXQUFjLE9BQU8rakMsRUFBUW5ELHFCQUF1QixJQUNySXh4QyxPQUFPMmdCLGVBQWVzakIsRUFBUyxtQkFBb0IsQ0FBRWtRLFlBQVksRUFBTXZqQyxJQUFLLFdBQWMsT0FBTytqQyxFQUFRcEQsZ0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2VudW1zLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Tm9kZU5hbWUuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvYXBwbHlTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21hdGguanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRMYXlvdXRSZWN0LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvY29udGFpbnMuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRDb21wdXRlZFN0eWxlLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvaXNUYWJsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXREb2N1bWVudEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRQYXJlbnROb2RlLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3dpdGhpbi5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvbWVyZ2VQYWRkaW5nT2JqZWN0LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRGcmVzaFNpZGVPYmplY3QuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2V4cGFuZFRvSGFzaE1hcC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2Fycm93LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRWYXJpYXRpb24uanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvZXZlbnRMaXN0ZW5lcnMuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldE9wcG9zaXRlUGxhY2VtZW50LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvd1Njcm9sbC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvd1Njcm9sbEJhclguanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pc1Njcm9sbFBhcmVudC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFNjcm9sbFBhcmVudC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2xpc3RTY3JvbGxQYXJlbnRzLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q2xpcHBpbmdSZWN0LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Vmlld3BvcnRSZWN0LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRSZWN0LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9jb21wdXRlT2Zmc2V0cy5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9mbGlwLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9jb21wdXRlQXV0b1BsYWNlbWVudC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2hpZGUuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9vZmZzZXQuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9wb3BwZXJPZmZzZXRzLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcHJldmVudE92ZXJmbG93LmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRBbHRBeGlzLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q29tcG9zaXRlUmVjdC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldE5vZGVTY3JvbGwuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRIVE1MRWxlbWVudFNjcm9sbC5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvb3JkZXJNb2RpZmllcnMuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2NyZWF0ZVBvcHBlci5qcyIsIndlYnBhY2s6Ly9FeGFGUy8uL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21lcmdlQnlOYW1lLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9wb3BwZXIuanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3BvcHBlci1saXRlLmpzIiwid2VicGFjazovL0V4YUZTLy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2pzL2Jvb3RzdHJhcC5lc20uanMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9mbG93YXBwL3N0YXRpYy90cy9kZHAvZGRwX2lucHV0cy50cyIsIndlYnBhY2s6Ly9FeGFGUy8uL2Zsb3dhcHAvc3RhdGljL3RzL2RkcC9kZHBfcHJlc2V0X2VkaXRfZm9ybS50cyIsIndlYnBhY2s6Ly9FeGFGUy8uL2Zsb3dhcHAvc3RhdGljL3RzL2RkcC9kZHBfcHJlc2V0X3NlbGVjdF9mb3JtLnRzIiwid2VicGFjazovL0V4YUZTLy4vZmxvd2FwcC9zdGF0aWMvdHMvZGRwL2RkcF9wcmVzZXRzLnRzIiwid2VicGFjazovL0V4YUZTLy4vZmxvd2FwcC9zdGF0aWMvdHMvZGRwL3ZhbGlkYXRvcnMudHMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9mbG93YXBwL3N0YXRpYy90cy9mb3Jtcy50cyIsIndlYnBhY2s6Ly9FeGFGUy8uL2Zsb3dhcHAvc3RhdGljL3RzL2h0dHAudHMiLCJ3ZWJwYWNrOi8vRXhhRlMvLi9mbG93YXBwL3N0YXRpYy90cy9sb2dzY2FsZS50cyIsIndlYnBhY2s6Ly9FeGFGUy8uL2Zsb3dhcHAvc3RhdGljL3RzL3JlbmRlcmVyLnRzIiwid2VicGFjazovL0V4YUZTLy4vZmxvd2FwcC9zdGF0aWMvdHMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vRXhhRlMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vRXhhRlMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0V4YUZTL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vRXhhRlMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9FeGFGUy8uL2Zsb3dhcHAvc3RhdGljL3RzL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciB0b3AgPSAndG9wJztcbmV4cG9ydCB2YXIgYm90dG9tID0gJ2JvdHRvbSc7XG5leHBvcnQgdmFyIHJpZ2h0ID0gJ3JpZ2h0JztcbmV4cG9ydCB2YXIgbGVmdCA9ICdsZWZ0JztcbmV4cG9ydCB2YXIgYXV0byA9ICdhdXRvJztcbmV4cG9ydCB2YXIgYmFzZVBsYWNlbWVudHMgPSBbdG9wLCBib3R0b20sIHJpZ2h0LCBsZWZ0XTtcbmV4cG9ydCB2YXIgc3RhcnQgPSAnc3RhcnQnO1xuZXhwb3J0IHZhciBlbmQgPSAnZW5kJztcbmV4cG9ydCB2YXIgY2xpcHBpbmdQYXJlbnRzID0gJ2NsaXBwaW5nUGFyZW50cyc7XG5leHBvcnQgdmFyIHZpZXdwb3J0ID0gJ3ZpZXdwb3J0JztcbmV4cG9ydCB2YXIgcG9wcGVyID0gJ3BvcHBlcic7XG5leHBvcnQgdmFyIHJlZmVyZW5jZSA9ICdyZWZlcmVuY2UnO1xuZXhwb3J0IHZhciB2YXJpYXRpb25QbGFjZW1lbnRzID0gLyojX19QVVJFX18qL2Jhc2VQbGFjZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGFjYy5jb25jYXQoW3BsYWNlbWVudCArIFwiLVwiICsgc3RhcnQsIHBsYWNlbWVudCArIFwiLVwiICsgZW5kXSk7XG59LCBbXSk7XG5leHBvcnQgdmFyIHBsYWNlbWVudHMgPSAvKiNfX1BVUkVfXyovW10uY29uY2F0KGJhc2VQbGFjZW1lbnRzLCBbYXV0b10pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIGFjYy5jb25jYXQoW3BsYWNlbWVudCwgcGxhY2VtZW50ICsgXCItXCIgKyBzdGFydCwgcGxhY2VtZW50ICsgXCItXCIgKyBlbmRdKTtcbn0sIFtdKTsgLy8gbW9kaWZpZXJzIHRoYXQgbmVlZCB0byByZWFkIHRoZSBET01cblxuZXhwb3J0IHZhciBiZWZvcmVSZWFkID0gJ2JlZm9yZVJlYWQnO1xuZXhwb3J0IHZhciByZWFkID0gJ3JlYWQnO1xuZXhwb3J0IHZhciBhZnRlclJlYWQgPSAnYWZ0ZXJSZWFkJzsgLy8gcHVyZS1sb2dpYyBtb2RpZmllcnNcblxuZXhwb3J0IHZhciBiZWZvcmVNYWluID0gJ2JlZm9yZU1haW4nO1xuZXhwb3J0IHZhciBtYWluID0gJ21haW4nO1xuZXhwb3J0IHZhciBhZnRlck1haW4gPSAnYWZ0ZXJNYWluJzsgLy8gbW9kaWZpZXIgd2l0aCB0aGUgcHVycG9zZSB0byB3cml0ZSB0byB0aGUgRE9NIChvciB3cml0ZSBpbnRvIGEgZnJhbWV3b3JrIHN0YXRlKVxuXG5leHBvcnQgdmFyIGJlZm9yZVdyaXRlID0gJ2JlZm9yZVdyaXRlJztcbmV4cG9ydCB2YXIgd3JpdGUgPSAnd3JpdGUnO1xuZXhwb3J0IHZhciBhZnRlcldyaXRlID0gJ2FmdGVyV3JpdGUnO1xuZXhwb3J0IHZhciBtb2RpZmllclBoYXNlcyA9IFtiZWZvcmVSZWFkLCByZWFkLCBhZnRlclJlYWQsIGJlZm9yZU1haW4sIG1haW4sIGFmdGVyTWFpbiwgYmVmb3JlV3JpdGUsIHdyaXRlLCBhZnRlcldyaXRlXTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXROb2RlTmFtZShlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50ID8gKGVsZW1lbnQubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdpbmRvdyhub2RlKSB7XG4gIGlmIChub2RlID09IG51bGwpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgaWYgKG5vZGUudG9TdHJpbmcoKSAhPT0gJ1tvYmplY3QgV2luZG93XScpIHtcbiAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICByZXR1cm4gb3duZXJEb2N1bWVudCA/IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93IDogd2luZG93O1xuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59IiwiaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcblxuZnVuY3Rpb24gaXNFbGVtZW50KG5vZGUpIHtcbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuRWxlbWVudDtcbiAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KG5vZGUpIHtcbiAgdmFyIE93bkVsZW1lbnQgPSBnZXRXaW5kb3cobm9kZSkuSFRNTEVsZW1lbnQ7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGlzU2hhZG93Um9vdChub2RlKSB7XG4gIC8vIElFIDExIGhhcyBubyBTaGFkb3dSb290XG4gIGlmICh0eXBlb2YgU2hhZG93Um9vdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgT3duRWxlbWVudCA9IGdldFdpbmRvdyhub2RlKS5TaGFkb3dSb290O1xuICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIE93bkVsZW1lbnQgfHwgbm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3Q7XG59XG5cbmV4cG9ydCB7IGlzRWxlbWVudCwgaXNIVE1MRWxlbWVudCwgaXNTaGFkb3dSb290IH07IiwiaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi4vZG9tLXV0aWxzL2luc3RhbmNlT2YuanNcIjsgLy8gVGhpcyBtb2RpZmllciB0YWtlcyB0aGUgc3R5bGVzIHByZXBhcmVkIGJ5IHRoZSBgY29tcHV0ZVN0eWxlc2AgbW9kaWZpZXJcbi8vIGFuZCBhcHBsaWVzIHRoZW0gdG8gdGhlIEhUTUxFbGVtZW50cyBzdWNoIGFzIHBvcHBlciBhbmQgYXJyb3dcblxuZnVuY3Rpb24gYXBwbHlTdHlsZXMoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlO1xuICBPYmplY3Qua2V5cyhzdGF0ZS5lbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBzdHlsZSA9IHN0YXRlLnN0eWxlc1tuYW1lXSB8fCB7fTtcbiAgICB2YXIgYXR0cmlidXRlcyA9IHN0YXRlLmF0dHJpYnV0ZXNbbmFtZV0gfHwge307XG4gICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1tuYW1lXTsgLy8gYXJyb3cgaXMgb3B0aW9uYWwgKyB2aXJ0dWFsIGVsZW1lbnRzXG5cbiAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgIWdldE5vZGVOYW1lKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBGbG93IGRvZXNuJ3Qgc3VwcG9ydCB0byBleHRlbmQgdGhpcyBwcm9wZXJ0eSwgYnV0IGl0J3MgdGhlIG1vc3RcbiAgICAvLyBlZmZlY3RpdmUgd2F5IHRvIGFwcGx5IHN0eWxlcyB0byBhbiBIVE1MRWxlbWVudFxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuXG5cbiAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlKTtcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuXG4gICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUgPT09IHRydWUgPyAnJyA6IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVmZmVjdChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZTtcbiAgdmFyIGluaXRpYWxTdHlsZXMgPSB7XG4gICAgcG9wcGVyOiB7XG4gICAgICBwb3NpdGlvbjogc3RhdGUub3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIGxlZnQ6ICcwJyxcbiAgICAgIHRvcDogJzAnLFxuICAgICAgbWFyZ2luOiAnMCdcbiAgICB9LFxuICAgIGFycm93OiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0sXG4gICAgcmVmZXJlbmNlOiB7fVxuICB9O1xuICBPYmplY3QuYXNzaWduKHN0YXRlLmVsZW1lbnRzLnBvcHBlci5zdHlsZSwgaW5pdGlhbFN0eWxlcy5wb3BwZXIpO1xuICBzdGF0ZS5zdHlsZXMgPSBpbml0aWFsU3R5bGVzO1xuXG4gIGlmIChzdGF0ZS5lbGVtZW50cy5hcnJvdykge1xuICAgIE9iamVjdC5hc3NpZ24oc3RhdGUuZWxlbWVudHMuYXJyb3cuc3R5bGUsIGluaXRpYWxTdHlsZXMuYXJyb3cpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBPYmplY3Qua2V5cyhzdGF0ZS5lbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1tuYW1lXTtcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3RhdGUuYXR0cmlidXRlc1tuYW1lXSB8fCB7fTtcbiAgICAgIHZhciBzdHlsZVByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhzdGF0ZS5zdHlsZXMuaGFzT3duUHJvcGVydHkobmFtZSkgPyBzdGF0ZS5zdHlsZXNbbmFtZV0gOiBpbml0aWFsU3R5bGVzW25hbWVdKTsgLy8gU2V0IGFsbCB2YWx1ZXMgdG8gYW4gZW1wdHkgc3RyaW5nIHRvIHVuc2V0IHRoZW1cblxuICAgICAgdmFyIHN0eWxlID0gc3R5bGVQcm9wZXJ0aWVzLnJlZHVjZShmdW5jdGlvbiAoc3R5bGUsIHByb3BlcnR5KSB7XG4gICAgICAgIHN0eWxlW3Byb3BlcnR5XSA9ICcnO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICB9LCB7fSk7IC8vIGFycm93IGlzIG9wdGlvbmFsICsgdmlydHVhbCBlbGVtZW50c1xuXG4gICAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgIWdldE5vZGVOYW1lKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnYXBwbHlTdHlsZXMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3dyaXRlJyxcbiAgZm46IGFwcGx5U3R5bGVzLFxuICBlZmZlY3Q6IGVmZmVjdCxcbiAgcmVxdWlyZXM6IFsnY29tcHV0ZVN0eWxlcyddXG59OyIsImltcG9ydCB7IGF1dG8gfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIHJldHVybiBwbGFjZW1lbnQuc3BsaXQoJy0nKVswXTtcbn0iLCJleHBvcnQgdmFyIG1heCA9IE1hdGgubWF4O1xuZXhwb3J0IHZhciBtaW4gPSBNYXRoLm1pbjtcbmV4cG9ydCB2YXIgcm91bmQgPSBNYXRoLnJvdW5kOyIsImltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCwgaW5jbHVkZVNjYWxlKSB7XG4gIGlmIChpbmNsdWRlU2NhbGUgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVTY2FsZSA9IGZhbHNlO1xuICB9XG5cbiAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgc2NhbGVYID0gMTtcbiAgdmFyIHNjYWxlWSA9IDE7XG5cbiAgaWYgKGlzSFRNTEVsZW1lbnQoZWxlbWVudCkgJiYgaW5jbHVkZVNjYWxlKSB7XG4gICAgdmFyIG9mZnNldEhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIHZhciBvZmZzZXRXaWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7IC8vIERvIG5vdCBhdHRlbXB0IHRvIGRpdmlkZSBieSAwLCBvdGhlcndpc2Ugd2UgZ2V0IGBJbmZpbml0eWAgYXMgc2NhbGVcbiAgICAvLyBGYWxsYmFjayB0byAxIGluIGNhc2UgYm90aCB2YWx1ZXMgYXJlIGAwYFxuXG4gICAgaWYgKG9mZnNldFdpZHRoID4gMCkge1xuICAgICAgc2NhbGVYID0gcm91bmQocmVjdC53aWR0aCkgLyBvZmZzZXRXaWR0aCB8fCAxO1xuICAgIH1cblxuICAgIGlmIChvZmZzZXRIZWlnaHQgPiAwKSB7XG4gICAgICBzY2FsZVkgPSByb3VuZChyZWN0LmhlaWdodCkgLyBvZmZzZXRIZWlnaHQgfHwgMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiByZWN0LndpZHRoIC8gc2NhbGVYLFxuICAgIGhlaWdodDogcmVjdC5oZWlnaHQgLyBzY2FsZVksXG4gICAgdG9wOiByZWN0LnRvcCAvIHNjYWxlWSxcbiAgICByaWdodDogcmVjdC5yaWdodCAvIHNjYWxlWCxcbiAgICBib3R0b206IHJlY3QuYm90dG9tIC8gc2NhbGVZLFxuICAgIGxlZnQ6IHJlY3QubGVmdCAvIHNjYWxlWCxcbiAgICB4OiByZWN0LmxlZnQgLyBzY2FsZVgsXG4gICAgeTogcmVjdC50b3AgLyBzY2FsZVlcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiOyAvLyBSZXR1cm5zIHRoZSBsYXlvdXQgcmVjdCBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIGl0cyBvZmZzZXRQYXJlbnQuIExheW91dFxuLy8gbWVhbnMgaXQgZG9lc24ndCB0YWtlIGludG8gYWNjb3VudCB0cmFuc2Zvcm1zLlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRMYXlvdXRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIGNsaWVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCk7IC8vIFVzZSB0aGUgY2xpZW50UmVjdCBzaXplcyBpZiBpdCdzIG5vdCBiZWVuIHRyYW5zZm9ybWVkLlxuICAvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vcG9wcGVyanMvcG9wcGVyLWNvcmUvaXNzdWVzLzEyMjNcblxuICB2YXIgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG5cbiAgaWYgKE1hdGguYWJzKGNsaWVudFJlY3Qud2lkdGggLSB3aWR0aCkgPD0gMSkge1xuICAgIHdpZHRoID0gY2xpZW50UmVjdC53aWR0aDtcbiAgfVxuXG4gIGlmIChNYXRoLmFicyhjbGllbnRSZWN0LmhlaWdodCAtIGhlaWdodCkgPD0gMSkge1xuICAgIGhlaWdodCA9IGNsaWVudFJlY3QuaGVpZ2h0O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBlbGVtZW50Lm9mZnNldExlZnQsXG4gICAgeTogZWxlbWVudC5vZmZzZXRUb3AsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0XG4gIH07XG59IiwiaW1wb3J0IHsgaXNTaGFkb3dSb290IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICB2YXIgcm9vdE5vZGUgPSBjaGlsZC5nZXRSb290Tm9kZSAmJiBjaGlsZC5nZXRSb290Tm9kZSgpOyAvLyBGaXJzdCwgYXR0ZW1wdCB3aXRoIGZhc3RlciBuYXRpdmUgbWV0aG9kXG5cbiAgaWYgKHBhcmVudC5jb250YWlucyhjaGlsZCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyB0aGVuIGZhbGxiYWNrIHRvIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiB3aXRoIFNoYWRvdyBET00gc3VwcG9ydFxuICBlbHNlIGlmIChyb290Tm9kZSAmJiBpc1NoYWRvd1Jvb3Qocm9vdE5vZGUpKSB7XG4gICAgICB2YXIgbmV4dCA9IGNoaWxkO1xuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuZXh0ICYmIHBhcmVudC5pc1NhbWVOb2RlKG5leHQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddOiBuZWVkIGEgYmV0dGVyIHdheSB0byBoYW5kbGUgdGhpcy4uLlxuXG5cbiAgICAgICAgbmV4dCA9IG5leHQucGFyZW50Tm9kZSB8fCBuZXh0Lmhvc3Q7XG4gICAgICB9IHdoaWxlIChuZXh0KTtcbiAgICB9IC8vIEdpdmUgdXAsIHRoZSByZXN1bHQgaXMgZmFsc2VcblxuXG4gIHJldHVybiBmYWxzZTtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gIHJldHVybiBnZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbn0iLCJpbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzVGFibGVFbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIFsndGFibGUnLCAndGQnLCAndGgnXS5pbmRleE9mKGdldE5vZGVOYW1lKGVsZW1lbnQpKSA+PSAwO1xufSIsImltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSB7XG4gIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGFzc3VtZSBib2R5IGlzIGFsd2F5cyBhdmFpbGFibGVcbiAgcmV0dXJuICgoaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gIGVsZW1lbnQuZG9jdW1lbnQpIHx8IHdpbmRvdy5kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50O1xufSIsImltcG9ydCBnZXROb2RlTmFtZSBmcm9tIFwiLi9nZXROb2RlTmFtZS5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCB7IGlzU2hhZG93Um9vdCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBhcmVudE5vZGUoZWxlbWVudCkge1xuICBpZiAoZ2V0Tm9kZU5hbWUoZWxlbWVudCkgPT09ICdodG1sJykge1xuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuICgvLyB0aGlzIGlzIGEgcXVpY2tlciAoYnV0IGxlc3MgdHlwZSBzYWZlKSB3YXkgdG8gc2F2ZSBxdWl0ZSBzb21lIGJ5dGVzIGZyb20gdGhlIGJ1bmRsZVxuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl1cbiAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICBlbGVtZW50LmFzc2lnbmVkU2xvdCB8fCAvLyBzdGVwIGludG8gdGhlIHNoYWRvdyBET00gb2YgdGhlIHBhcmVudCBvZiBhIHNsb3R0ZWQgbm9kZVxuICAgIGVsZW1lbnQucGFyZW50Tm9kZSB8fCAoIC8vIERPTSBFbGVtZW50IGRldGVjdGVkXG4gICAgaXNTaGFkb3dSb290KGVsZW1lbnQpID8gZWxlbWVudC5ob3N0IDogbnVsbCkgfHwgLy8gU2hhZG93Um9vdCBkZXRlY3RlZFxuICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhbGxdOiBIVE1MRWxlbWVudCBpcyBhIE5vZGVcbiAgICBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkgLy8gZmFsbGJhY2tcblxuICApO1xufSIsImltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCBnZXRDb21wdXRlZFN0eWxlIGZyb20gXCIuL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQsIGlzU2hhZG93Um9vdCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBpc1RhYmxlRWxlbWVudCBmcm9tIFwiLi9pc1RhYmxlRWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuXG5mdW5jdGlvbiBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQpIHtcbiAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvODM3XG4gIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50Lm9mZnNldFBhcmVudDtcbn0gLy8gYC5vZmZzZXRQYXJlbnRgIHJlcG9ydHMgYG51bGxgIGZvciBmaXhlZCBlbGVtZW50cywgd2hpbGUgYWJzb2x1dGUgZWxlbWVudHNcbi8vIHJldHVybiB0aGUgY29udGFpbmluZyBibG9ja1xuXG5cbmZ1bmN0aW9uIGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7XG4gIHZhciBpc0ZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMTtcbiAgdmFyIGlzSUUgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ1RyaWRlbnQnKSAhPT0gLTE7XG5cbiAgaWYgKGlzSUUgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSkge1xuICAgIC8vIEluIElFIDksIDEwIGFuZCAxMSBmaXhlZCBlbGVtZW50cyBjb250YWluaW5nIGJsb2NrIGlzIGFsd2F5cyBlc3RhYmxpc2hlZCBieSB0aGUgdmlld3BvcnRcbiAgICB2YXIgZWxlbWVudENzcyA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG5cbiAgICBpZiAoZWxlbWVudENzcy5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgdmFyIGN1cnJlbnROb2RlID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcblxuICBpZiAoaXNTaGFkb3dSb290KGN1cnJlbnROb2RlKSkge1xuICAgIGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUuaG9zdDtcbiAgfVxuXG4gIHdoaWxlIChpc0hUTUxFbGVtZW50KGN1cnJlbnROb2RlKSAmJiBbJ2h0bWwnLCAnYm9keSddLmluZGV4T2YoZ2V0Tm9kZU5hbWUoY3VycmVudE5vZGUpKSA8IDApIHtcbiAgICB2YXIgY3NzID0gZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7IC8vIFRoaXMgaXMgbm9uLWV4aGF1c3RpdmUgYnV0IGNvdmVycyB0aGUgbW9zdCBjb21tb24gQ1NTIHByb3BlcnRpZXMgdGhhdFxuICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5pbmcgYmxvY2suXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL0NvbnRhaW5pbmdfYmxvY2sjaWRlbnRpZnlpbmdfdGhlX2NvbnRhaW5pbmdfYmxvY2tcblxuICAgIGlmIChjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgY3NzLmNvbnRhaW4gPT09ICdwYWludCcgfHwgWyd0cmFuc2Zvcm0nLCAncGVyc3BlY3RpdmUnXS5pbmRleE9mKGNzcy53aWxsQ2hhbmdlKSAhPT0gLTEgfHwgaXNGaXJlZm94ICYmIGNzcy53aWxsQ2hhbmdlID09PSAnZmlsdGVyJyB8fCBpc0ZpcmVmb3ggJiYgY3NzLmZpbHRlciAmJiBjc3MuZmlsdGVyICE9PSAnbm9uZScpIHtcbiAgICAgIHJldHVybiBjdXJyZW50Tm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSAvLyBHZXRzIHRoZSBjbG9zZXN0IGFuY2VzdG9yIHBvc2l0aW9uZWQgZWxlbWVudC4gSGFuZGxlcyBzb21lIGVkZ2UgY2FzZXMsXG4vLyBzdWNoIGFzIHRhYmxlIGFuY2VzdG9ycyBhbmQgY3Jvc3MgYnJvd3NlciBidWdzLlxuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9mZnNldFBhcmVudChlbGVtZW50KSB7XG4gIHZhciB3aW5kb3cgPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBvZmZzZXRQYXJlbnQgPSBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQpO1xuXG4gIHdoaWxlIChvZmZzZXRQYXJlbnQgJiYgaXNUYWJsZUVsZW1lbnQob2Zmc2V0UGFyZW50KSAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpO1xuICB9XG5cbiAgaWYgKG9mZnNldFBhcmVudCAmJiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSA9PT0gJ2h0bWwnIHx8IGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgPT09ICdib2R5JyAmJiBnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSkge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW5kb3c7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpID49IDAgPyAneCcgOiAneSc7XG59IiwiaW1wb3J0IHsgbWF4IGFzIG1hdGhNYXgsIG1pbiBhcyBtYXRoTWluIH0gZnJvbSBcIi4vbWF0aC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhpbihtaW4sIHZhbHVlLCBtYXgpIHtcbiAgcmV0dXJuIG1hdGhNYXgobWluLCBtYXRoTWluKHZhbHVlLCBtYXgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3aXRoaW5NYXhDbGFtcChtaW4sIHZhbHVlLCBtYXgpIHtcbiAgdmFyIHYgPSB3aXRoaW4obWluLCB2YWx1ZSwgbWF4KTtcbiAgcmV0dXJuIHYgPiBtYXggPyBtYXggOiB2O1xufSIsImltcG9ydCBnZXRGcmVzaFNpZGVPYmplY3QgZnJvbSBcIi4vZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZVBhZGRpbmdPYmplY3QocGFkZGluZ09iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZ2V0RnJlc2hTaWRlT2JqZWN0KCksIHBhZGRpbmdPYmplY3QpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEZyZXNoU2lkZU9iamVjdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IDAsXG4gICAgcmlnaHQ6IDAsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDBcbiAgfTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHBhbmRUb0hhc2hNYXAodmFsdWUsIGtleXMpIHtcbiAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChoYXNoTWFwLCBrZXkpIHtcbiAgICBoYXNoTWFwW2tleV0gPSB2YWx1ZTtcbiAgICByZXR1cm4gaGFzaE1hcDtcbiAgfSwge30pO1xufSIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBjb250YWlucyBmcm9tIFwiLi4vZG9tLXV0aWxzL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanNcIjtcbmltcG9ydCB7IHdpdGhpbiB9IGZyb20gXCIuLi91dGlscy93aXRoaW4uanNcIjtcbmltcG9ydCBtZXJnZVBhZGRpbmdPYmplY3QgZnJvbSBcIi4uL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi4vdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzXCI7XG5pbXBvcnQgeyBsZWZ0LCByaWdodCwgYmFzZVBsYWNlbWVudHMsIHRvcCwgYm90dG9tIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHRvUGFkZGluZ09iamVjdCA9IGZ1bmN0aW9uIHRvUGFkZGluZ09iamVjdChwYWRkaW5nLCBzdGF0ZSkge1xuICBwYWRkaW5nID0gdHlwZW9mIHBhZGRpbmcgPT09ICdmdW5jdGlvbicgPyBwYWRkaW5nKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJlY3RzLCB7XG4gICAgcGxhY2VtZW50OiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSkpIDogcGFkZGluZztcbiAgcmV0dXJuIG1lcmdlUGFkZGluZ09iamVjdCh0eXBlb2YgcGFkZGluZyAhPT0gJ251bWJlcicgPyBwYWRkaW5nIDogZXhwYW5kVG9IYXNoTWFwKHBhZGRpbmcsIGJhc2VQbGFjZW1lbnRzKSk7XG59O1xuXG5mdW5jdGlvbiBhcnJvdyhfcmVmKSB7XG4gIHZhciBfc3RhdGUkbW9kaWZpZXJzRGF0YSQ7XG5cbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7XG4gIHZhciBwb3BwZXJPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzO1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGF4aXMgPSBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCk7XG4gIHZhciBpc1ZlcnRpY2FsID0gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDA7XG4gIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gIGlmICghYXJyb3dFbGVtZW50IHx8ICFwb3BwZXJPZmZzZXRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhZGRpbmdPYmplY3QgPSB0b1BhZGRpbmdPYmplY3Qob3B0aW9ucy5wYWRkaW5nLCBzdGF0ZSk7XG4gIHZhciBhcnJvd1JlY3QgPSBnZXRMYXlvdXRSZWN0KGFycm93RWxlbWVudCk7XG4gIHZhciBtaW5Qcm9wID0gYXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgdmFyIG1heFByb3AgPSBheGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgdmFyIGVuZERpZmYgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbbGVuXSArIHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtheGlzXSAtIHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5wb3BwZXJbbGVuXTtcbiAgdmFyIHN0YXJ0RGlmZiA9IHBvcHBlck9mZnNldHNbYXhpc10gLSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2VbYXhpc107XG4gIHZhciBhcnJvd09mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChhcnJvd0VsZW1lbnQpO1xuICB2YXIgY2xpZW50U2l6ZSA9IGFycm93T2Zmc2V0UGFyZW50ID8gYXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRXaWR0aCB8fCAwIDogMDtcbiAgdmFyIGNlbnRlclRvUmVmZXJlbmNlID0gZW5kRGlmZiAvIDIgLSBzdGFydERpZmYgLyAyOyAvLyBNYWtlIHN1cmUgdGhlIGFycm93IGRvZXNuJ3Qgb3ZlcmZsb3cgdGhlIHBvcHBlciBpZiB0aGUgY2VudGVyIHBvaW50IGlzXG4gIC8vIG91dHNpZGUgb2YgdGhlIHBvcHBlciBib3VuZHNcblxuICB2YXIgbWluID0gcGFkZGluZ09iamVjdFttaW5Qcm9wXTtcbiAgdmFyIG1heCA9IGNsaWVudFNpemUgLSBhcnJvd1JlY3RbbGVuXSAtIHBhZGRpbmdPYmplY3RbbWF4UHJvcF07XG4gIHZhciBjZW50ZXIgPSBjbGllbnRTaXplIC8gMiAtIGFycm93UmVjdFtsZW5dIC8gMiArIGNlbnRlclRvUmVmZXJlbmNlO1xuICB2YXIgb2Zmc2V0ID0gd2l0aGluKG1pbiwgY2VudGVyLCBtYXgpOyAvLyBQcmV2ZW50cyBicmVha2luZyBzeW50YXggaGlnaGxpZ2h0aW5nLi4uXG5cbiAgdmFyIGF4aXNQcm9wID0gYXhpcztcbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IChfc3RhdGUkbW9kaWZpZXJzRGF0YSQgPSB7fSwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkW2F4aXNQcm9wXSA9IG9mZnNldCwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkLmNlbnRlck9mZnNldCA9IG9mZnNldCAtIGNlbnRlciwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkKTtcbn1cblxuZnVuY3Rpb24gZWZmZWN0KF9yZWYyKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYyLm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50LFxuICAgICAgYXJyb3dFbGVtZW50ID0gX29wdGlvbnMkZWxlbWVudCA9PT0gdm9pZCAwID8gJ1tkYXRhLXBvcHBlci1hcnJvd10nIDogX29wdGlvbnMkZWxlbWVudDtcblxuICBpZiAoYXJyb3dFbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gQ1NTIHNlbGVjdG9yXG5cblxuICBpZiAodHlwZW9mIGFycm93RWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICBhcnJvd0VsZW1lbnQgPSBzdGF0ZS5lbGVtZW50cy5wb3BwZXIucXVlcnlTZWxlY3RvcihhcnJvd0VsZW1lbnQpO1xuXG4gICAgaWYgKCFhcnJvd0VsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgaWYgKCFpc0hUTUxFbGVtZW50KGFycm93RWxlbWVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydQb3BwZXI6IFwiYXJyb3dcIiBlbGVtZW50IG11c3QgYmUgYW4gSFRNTEVsZW1lbnQgKG5vdCBhbiBTVkdFbGVtZW50KS4nLCAnVG8gdXNlIGFuIFNWRyBhcnJvdywgd3JhcCBpdCBpbiBhbiBIVE1MRWxlbWVudCB0aGF0IHdpbGwgYmUgdXNlZCBhcycsICd0aGUgYXJyb3cuJ10uam9pbignICcpKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbnRhaW5zKHN0YXRlLmVsZW1lbnRzLnBvcHBlciwgYXJyb3dFbGVtZW50KSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoWydQb3BwZXI6IFwiYXJyb3dcIiBtb2RpZmllclxcJ3MgYGVsZW1lbnRgIG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgcG9wcGVyJywgJ2VsZW1lbnQuJ10uam9pbignICcpKTtcbiAgICB9XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBzdGF0ZS5lbGVtZW50cy5hcnJvdyA9IGFycm93RWxlbWVudDtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ2Fycm93JyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdtYWluJyxcbiAgZm46IGFycm93LFxuICBlZmZlY3Q6IGVmZmVjdCxcbiAgcmVxdWlyZXM6IFsncG9wcGVyT2Zmc2V0cyddLFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ3ByZXZlbnRPdmVyZmxvdyddXG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFZhcmlhdGlvbihwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5zcGxpdCgnLScpWzFdO1xufSIsImltcG9ydCB7IHRvcCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgZW5kIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0T2Zmc2V0UGFyZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0T2Zmc2V0UGFyZW50LmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuLi91dGlscy9nZXRWYXJpYXRpb24uanNcIjtcbmltcG9ydCB7IHJvdW5kIH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG52YXIgdW5zZXRTaWRlcyA9IHtcbiAgdG9wOiAnYXV0bycsXG4gIHJpZ2h0OiAnYXV0bycsXG4gIGJvdHRvbTogJ2F1dG8nLFxuICBsZWZ0OiAnYXV0bydcbn07IC8vIFJvdW5kIHRoZSBvZmZzZXRzIHRvIHRoZSBuZWFyZXN0IHN1aXRhYmxlIHN1YnBpeGVsIGJhc2VkIG9uIHRoZSBEUFIuXG4vLyBab29taW5nIGNhbiBjaGFuZ2UgdGhlIERQUiwgYnV0IGl0IHNlZW1zIHRvIHJlcG9ydCBhIHZhbHVlIHRoYXQgd2lsbFxuLy8gY2xlYW5seSBkaXZpZGUgdGhlIHZhbHVlcyBpbnRvIHRoZSBhcHByb3ByaWF0ZSBzdWJwaXhlbHMuXG5cbmZ1bmN0aW9uIHJvdW5kT2Zmc2V0c0J5RFBSKF9yZWYpIHtcbiAgdmFyIHggPSBfcmVmLngsXG4gICAgICB5ID0gX3JlZi55O1xuICB2YXIgd2luID0gd2luZG93O1xuICB2YXIgZHByID0gd2luLmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgcmV0dXJuIHtcbiAgICB4OiByb3VuZCh4ICogZHByKSAvIGRwciB8fCAwLFxuICAgIHk6IHJvdW5kKHkgKiBkcHIpIC8gZHByIHx8IDBcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFRvU3R5bGVzKF9yZWYyKSB7XG4gIHZhciBfT2JqZWN0JGFzc2lnbjI7XG5cbiAgdmFyIHBvcHBlciA9IF9yZWYyLnBvcHBlcixcbiAgICAgIHBvcHBlclJlY3QgPSBfcmVmMi5wb3BwZXJSZWN0LFxuICAgICAgcGxhY2VtZW50ID0gX3JlZjIucGxhY2VtZW50LFxuICAgICAgdmFyaWF0aW9uID0gX3JlZjIudmFyaWF0aW9uLFxuICAgICAgb2Zmc2V0cyA9IF9yZWYyLm9mZnNldHMsXG4gICAgICBwb3NpdGlvbiA9IF9yZWYyLnBvc2l0aW9uLFxuICAgICAgZ3B1QWNjZWxlcmF0aW9uID0gX3JlZjIuZ3B1QWNjZWxlcmF0aW9uLFxuICAgICAgYWRhcHRpdmUgPSBfcmVmMi5hZGFwdGl2ZSxcbiAgICAgIHJvdW5kT2Zmc2V0cyA9IF9yZWYyLnJvdW5kT2Zmc2V0cyxcbiAgICAgIGlzRml4ZWQgPSBfcmVmMi5pc0ZpeGVkO1xuICB2YXIgX29mZnNldHMkeCA9IG9mZnNldHMueCxcbiAgICAgIHggPSBfb2Zmc2V0cyR4ID09PSB2b2lkIDAgPyAwIDogX29mZnNldHMkeCxcbiAgICAgIF9vZmZzZXRzJHkgPSBvZmZzZXRzLnksXG4gICAgICB5ID0gX29mZnNldHMkeSA9PT0gdm9pZCAwID8gMCA6IF9vZmZzZXRzJHk7XG5cbiAgdmFyIF9yZWYzID0gdHlwZW9mIHJvdW5kT2Zmc2V0cyA9PT0gJ2Z1bmN0aW9uJyA/IHJvdW5kT2Zmc2V0cyh7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0pIDoge1xuICAgIHg6IHgsXG4gICAgeTogeVxuICB9O1xuXG4gIHggPSBfcmVmMy54O1xuICB5ID0gX3JlZjMueTtcbiAgdmFyIGhhc1ggPSBvZmZzZXRzLmhhc093blByb3BlcnR5KCd4Jyk7XG4gIHZhciBoYXNZID0gb2Zmc2V0cy5oYXNPd25Qcm9wZXJ0eSgneScpO1xuICB2YXIgc2lkZVggPSBsZWZ0O1xuICB2YXIgc2lkZVkgPSB0b3A7XG4gIHZhciB3aW4gPSB3aW5kb3c7XG5cbiAgaWYgKGFkYXB0aXZlKSB7XG4gICAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChwb3BwZXIpO1xuICAgIHZhciBoZWlnaHRQcm9wID0gJ2NsaWVudEhlaWdodCc7XG4gICAgdmFyIHdpZHRoUHJvcCA9ICdjbGllbnRXaWR0aCc7XG5cbiAgICBpZiAob2Zmc2V0UGFyZW50ID09PSBnZXRXaW5kb3cocG9wcGVyKSkge1xuICAgICAgb2Zmc2V0UGFyZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KHBvcHBlcik7XG5cbiAgICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gIT09ICdzdGF0aWMnICYmIHBvc2l0aW9uID09PSAnYWJzb2x1dGUnKSB7XG4gICAgICAgIGhlaWdodFByb3AgPSAnc2Nyb2xsSGVpZ2h0JztcbiAgICAgICAgd2lkdGhQcm9wID0gJ3Njcm9sbFdpZHRoJztcbiAgICAgIH1cbiAgICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLWNhc3RdOiBmb3JjZSB0eXBlIHJlZmluZW1lbnQsIHdlIGNvbXBhcmUgb2Zmc2V0UGFyZW50IHdpdGggd2luZG93IGFib3ZlLCBidXQgRmxvdyBkb2Vzbid0IGRldGVjdCBpdFxuXG5cbiAgICBvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQ7XG5cbiAgICBpZiAocGxhY2VtZW50ID09PSB0b3AgfHwgKHBsYWNlbWVudCA9PT0gbGVmdCB8fCBwbGFjZW1lbnQgPT09IHJpZ2h0KSAmJiB2YXJpYXRpb24gPT09IGVuZCkge1xuICAgICAgc2lkZVkgPSBib3R0b207XG4gICAgICB2YXIgb2Zmc2V0WSA9IGlzRml4ZWQgJiYgb2Zmc2V0UGFyZW50ID09PSB3aW4gJiYgd2luLnZpc3VhbFZpZXdwb3J0ID8gd2luLnZpc3VhbFZpZXdwb3J0LmhlaWdodCA6IC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICAgICAgb2Zmc2V0UGFyZW50W2hlaWdodFByb3BdO1xuICAgICAgeSAtPSBvZmZzZXRZIC0gcG9wcGVyUmVjdC5oZWlnaHQ7XG4gICAgICB5ICo9IGdwdUFjY2VsZXJhdGlvbiA/IDEgOiAtMTtcbiAgICB9XG5cbiAgICBpZiAocGxhY2VtZW50ID09PSBsZWZ0IHx8IChwbGFjZW1lbnQgPT09IHRvcCB8fCBwbGFjZW1lbnQgPT09IGJvdHRvbSkgJiYgdmFyaWF0aW9uID09PSBlbmQpIHtcbiAgICAgIHNpZGVYID0gcmlnaHQ7XG4gICAgICB2YXIgb2Zmc2V0WCA9IGlzRml4ZWQgJiYgb2Zmc2V0UGFyZW50ID09PSB3aW4gJiYgd2luLnZpc3VhbFZpZXdwb3J0ID8gd2luLnZpc3VhbFZpZXdwb3J0LndpZHRoIDogLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgICBvZmZzZXRQYXJlbnRbd2lkdGhQcm9wXTtcbiAgICAgIHggLT0gb2Zmc2V0WCAtIHBvcHBlclJlY3Qud2lkdGg7XG4gICAgICB4ICo9IGdwdUFjY2VsZXJhdGlvbiA/IDEgOiAtMTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29tbW9uU3R5bGVzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgcG9zaXRpb246IHBvc2l0aW9uXG4gIH0sIGFkYXB0aXZlICYmIHVuc2V0U2lkZXMpO1xuXG4gIHZhciBfcmVmNCA9IHJvdW5kT2Zmc2V0cyA9PT0gdHJ1ZSA/IHJvdW5kT2Zmc2V0c0J5RFBSKHtcbiAgICB4OiB4LFxuICAgIHk6IHlcbiAgfSkgOiB7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH07XG5cbiAgeCA9IF9yZWY0Lng7XG4gIHkgPSBfcmVmNC55O1xuXG4gIGlmIChncHVBY2NlbGVyYXRpb24pIHtcbiAgICB2YXIgX09iamVjdCRhc3NpZ247XG5cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCAoX09iamVjdCRhc3NpZ24gPSB7fSwgX09iamVjdCRhc3NpZ25bc2lkZVldID0gaGFzWSA/ICcwJyA6ICcnLCBfT2JqZWN0JGFzc2lnbltzaWRlWF0gPSBoYXNYID8gJzAnIDogJycsIF9PYmplY3QkYXNzaWduLnRyYW5zZm9ybSA9ICh3aW4uZGV2aWNlUGl4ZWxSYXRpbyB8fCAxKSA8PSAxID8gXCJ0cmFuc2xhdGUoXCIgKyB4ICsgXCJweCwgXCIgKyB5ICsgXCJweClcIiA6IFwidHJhbnNsYXRlM2QoXCIgKyB4ICsgXCJweCwgXCIgKyB5ICsgXCJweCwgMClcIiwgX09iamVjdCRhc3NpZ24pKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMsIChfT2JqZWN0JGFzc2lnbjIgPSB7fSwgX09iamVjdCRhc3NpZ24yW3NpZGVZXSA9IGhhc1kgPyB5ICsgXCJweFwiIDogJycsIF9PYmplY3QkYXNzaWduMltzaWRlWF0gPSBoYXNYID8geCArIFwicHhcIiA6ICcnLCBfT2JqZWN0JGFzc2lnbjIudHJhbnNmb3JtID0gJycsIF9PYmplY3QkYXNzaWduMikpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlU3R5bGVzKF9yZWY1KSB7XG4gIHZhciBzdGF0ZSA9IF9yZWY1LnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWY1Lm9wdGlvbnM7XG4gIHZhciBfb3B0aW9ucyRncHVBY2NlbGVyYXQgPSBvcHRpb25zLmdwdUFjY2VsZXJhdGlvbixcbiAgICAgIGdwdUFjY2VsZXJhdGlvbiA9IF9vcHRpb25zJGdwdUFjY2VsZXJhdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGdwdUFjY2VsZXJhdCxcbiAgICAgIF9vcHRpb25zJGFkYXB0aXZlID0gb3B0aW9ucy5hZGFwdGl2ZSxcbiAgICAgIGFkYXB0aXZlID0gX29wdGlvbnMkYWRhcHRpdmUgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRhZGFwdGl2ZSxcbiAgICAgIF9vcHRpb25zJHJvdW5kT2Zmc2V0cyA9IG9wdGlvbnMucm91bmRPZmZzZXRzLFxuICAgICAgcm91bmRPZmZzZXRzID0gX29wdGlvbnMkcm91bmRPZmZzZXRzID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcm91bmRPZmZzZXRzO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICB2YXIgdHJhbnNpdGlvblByb3BlcnR5ID0gZ2V0Q29tcHV0ZWRTdHlsZShzdGF0ZS5lbGVtZW50cy5wb3BwZXIpLnRyYW5zaXRpb25Qcm9wZXJ0eSB8fCAnJztcblxuICAgIGlmIChhZGFwdGl2ZSAmJiBbJ3RyYW5zZm9ybScsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5zb21lKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRyYW5zaXRpb25Qcm9wZXJ0eS5pbmRleE9mKHByb3BlcnR5KSA+PSAwO1xuICAgIH0pKSB7XG4gICAgICBjb25zb2xlLndhcm4oWydQb3BwZXI6IERldGVjdGVkIENTUyB0cmFuc2l0aW9ucyBvbiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZycsICdDU1MgcHJvcGVydGllczogXCJ0cmFuc2Zvcm1cIiwgXCJ0b3BcIiwgXCJyaWdodFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIi4nLCAnXFxuXFxuJywgJ0Rpc2FibGUgdGhlIFwiY29tcHV0ZVN0eWxlc1wiIG1vZGlmaWVyXFwncyBgYWRhcHRpdmVgIG9wdGlvbiB0byBhbGxvdycsICdmb3Igc21vb3RoIHRyYW5zaXRpb25zLCBvciByZW1vdmUgdGhlc2UgcHJvcGVydGllcyBmcm9tIHRoZSBDU1MnLCAndHJhbnNpdGlvbiBkZWNsYXJhdGlvbiBvbiB0aGUgcG9wcGVyIGVsZW1lbnQgaWYgb25seSB0cmFuc2l0aW9uaW5nJywgJ29wYWNpdHkgb3IgYmFja2dyb3VuZC1jb2xvciBmb3IgZXhhbXBsZS4nLCAnXFxuXFxuJywgJ1dlIHJlY29tbWVuZCB1c2luZyB0aGUgcG9wcGVyIGVsZW1lbnQgYXMgYSB3cmFwcGVyIGFyb3VuZCBhbiBpbm5lcicsICdlbGVtZW50IHRoYXQgY2FuIGhhdmUgYW55IENTUyBwcm9wZXJ0eSB0cmFuc2l0aW9uZWQgZm9yIGFuaW1hdGlvbnMuJ10uam9pbignICcpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29tbW9uU3R5bGVzID0ge1xuICAgIHBsYWNlbWVudDogZ2V0QmFzZVBsYWNlbWVudChzdGF0ZS5wbGFjZW1lbnQpLFxuICAgIHZhcmlhdGlvbjogZ2V0VmFyaWF0aW9uKHN0YXRlLnBsYWNlbWVudCksXG4gICAgcG9wcGVyOiBzdGF0ZS5lbGVtZW50cy5wb3BwZXIsXG4gICAgcG9wcGVyUmVjdDogc3RhdGUucmVjdHMucG9wcGVyLFxuICAgIGdwdUFjY2VsZXJhdGlvbjogZ3B1QWNjZWxlcmF0aW9uLFxuICAgIGlzRml4ZWQ6IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3kgPT09ICdmaXhlZCdcbiAgfTtcblxuICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzICE9IG51bGwpIHtcbiAgICBzdGF0ZS5zdHlsZXMucG9wcGVyID0gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3R5bGVzLnBvcHBlciwgbWFwVG9TdHlsZXMoT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzLCB7XG4gICAgICBvZmZzZXRzOiBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMsXG4gICAgICBwb3NpdGlvbjogc3RhdGUub3B0aW9ucy5zdHJhdGVneSxcbiAgICAgIGFkYXB0aXZlOiBhZGFwdGl2ZSxcbiAgICAgIHJvdW5kT2Zmc2V0czogcm91bmRPZmZzZXRzXG4gICAgfSkpKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5tb2RpZmllcnNEYXRhLmFycm93ICE9IG51bGwpIHtcbiAgICBzdGF0ZS5zdHlsZXMuYXJyb3cgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zdHlsZXMuYXJyb3csIG1hcFRvU3R5bGVzKE9iamVjdC5hc3NpZ24oe30sIGNvbW1vblN0eWxlcywge1xuICAgICAgb2Zmc2V0czogc3RhdGUubW9kaWZpZXJzRGF0YS5hcnJvdyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgYWRhcHRpdmU6IGZhbHNlLFxuICAgICAgcm91bmRPZmZzZXRzOiByb3VuZE9mZnNldHNcbiAgICB9KSkpO1xuICB9XG5cbiAgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciwge1xuICAgICdkYXRhLXBvcHBlci1wbGFjZW1lbnQnOiBzdGF0ZS5wbGFjZW1lbnRcbiAgfSk7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdjb21wdXRlU3R5bGVzJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdiZWZvcmVXcml0ZScsXG4gIGZuOiBjb21wdXRlU3R5bGVzLFxuICBkYXRhOiB7fVxufTsiLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuLi9kb20tdXRpbHMvZ2V0V2luZG93LmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxudmFyIHBhc3NpdmUgPSB7XG4gIHBhc3NpdmU6IHRydWVcbn07XG5cbmZ1bmN0aW9uIGVmZmVjdChfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBpbnN0YW5jZSA9IF9yZWYuaW5zdGFuY2UsXG4gICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zO1xuICB2YXIgX29wdGlvbnMkc2Nyb2xsID0gb3B0aW9ucy5zY3JvbGwsXG4gICAgICBzY3JvbGwgPSBfb3B0aW9ucyRzY3JvbGwgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRzY3JvbGwsXG4gICAgICBfb3B0aW9ucyRyZXNpemUgPSBvcHRpb25zLnJlc2l6ZSxcbiAgICAgIHJlc2l6ZSA9IF9vcHRpb25zJHJlc2l6ZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHJlc2l6ZTtcbiAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdyhzdGF0ZS5lbGVtZW50cy5wb3BwZXIpO1xuICB2YXIgc2Nyb2xsUGFyZW50cyA9IFtdLmNvbmNhdChzdGF0ZS5zY3JvbGxQYXJlbnRzLnJlZmVyZW5jZSwgc3RhdGUuc2Nyb2xsUGFyZW50cy5wb3BwZXIpO1xuXG4gIGlmIChzY3JvbGwpIHtcbiAgICBzY3JvbGxQYXJlbnRzLmZvckVhY2goZnVuY3Rpb24gKHNjcm9sbFBhcmVudCkge1xuICAgICAgc2Nyb2xsUGFyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAocmVzaXplKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmIChzY3JvbGwpIHtcbiAgICAgIHNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbiAoc2Nyb2xsUGFyZW50KSB7XG4gICAgICAgIHNjcm9sbFBhcmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHJlc2l6ZSkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7XG4gICAgfVxuICB9O1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnZXZlbnRMaXN0ZW5lcnMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3dyaXRlJyxcbiAgZm46IGZ1bmN0aW9uIGZuKCkge30sXG4gIGVmZmVjdDogZWZmZWN0LFxuICBkYXRhOiB7fVxufTsiLCJ2YXIgaGFzaCA9IHtcbiAgbGVmdDogJ3JpZ2h0JyxcbiAgcmlnaHQ6ICdsZWZ0JyxcbiAgYm90dG9tOiAndG9wJyxcbiAgdG9wOiAnYm90dG9tJ1xufTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCkge1xuICByZXR1cm4gcGxhY2VtZW50LnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLCBmdW5jdGlvbiAobWF0Y2hlZCkge1xuICAgIHJldHVybiBoYXNoW21hdGNoZWRdO1xuICB9KTtcbn0iLCJ2YXIgaGFzaCA9IHtcbiAgc3RhcnQ6ICdlbmQnLFxuICBlbmQ6ICdzdGFydCdcbn07XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChwbGFjZW1lbnQpIHtcbiAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9zdGFydHxlbmQvZywgZnVuY3Rpb24gKG1hdGNoZWQpIHtcbiAgICByZXR1cm4gaGFzaFttYXRjaGVkXTtcbiAgfSk7XG59IiwiaW1wb3J0IGdldFdpbmRvdyBmcm9tIFwiLi9nZXRXaW5kb3cuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbChub2RlKSB7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3cobm9kZSk7XG4gIHZhciBzY3JvbGxMZWZ0ID0gd2luLnBhZ2VYT2Zmc2V0O1xuICB2YXIgc2Nyb2xsVG9wID0gd2luLnBhZ2VZT2Zmc2V0O1xuICByZXR1cm4ge1xuICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgfTtcbn0iLCJpbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxCYXJYKGVsZW1lbnQpIHtcbiAgLy8gSWYgPGh0bWw+IGhhcyBhIENTUyB3aWR0aCBncmVhdGVyIHRoYW4gdGhlIHZpZXdwb3J0LCB0aGVuIHRoaXMgd2lsbCBiZVxuICAvLyBpbmNvcnJlY3QgZm9yIFJUTC5cbiAgLy8gUG9wcGVyIDEgaXMgYnJva2VuIGluIHRoaXMgY2FzZSBhbmQgbmV2ZXIgaGFkIGEgYnVnIHJlcG9ydCBzbyBsZXQncyBhc3N1bWVcbiAgLy8gaXQncyBub3QgYW4gaXNzdWUuIEkgZG9uJ3QgdGhpbmsgYW55b25lIGV2ZXIgc3BlY2lmaWVzIHdpZHRoIG9uIDxodG1sPlxuICAvLyBhbnl3YXkuXG4gIC8vIEJyb3dzZXJzIHdoZXJlIHRoZSBsZWZ0IHNjcm9sbGJhciBkb2Vzbid0IGNhdXNlIGFuIGlzc3VlIHJlcG9ydCBgMGAgZm9yXG4gIC8vIHRoaXMgKGUuZy4gRWRnZSAyMDE5LCBJRTExLCBTYWZhcmkpXG4gIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKS5sZWZ0ICsgZ2V0V2luZG93U2Nyb2xsKGVsZW1lbnQpLnNjcm9sbExlZnQ7XG59IiwiaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZ2V0Q29tcHV0ZWRTdHlsZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTY3JvbGxQYXJlbnQoZWxlbWVudCkge1xuICAvLyBGaXJlZm94IHdhbnRzIHVzIHRvIGNoZWNrIGAteGAgYW5kIGAteWAgdmFyaWF0aW9ucyBhcyB3ZWxsXG4gIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICBvdmVyZmxvdyA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dYLFxuICAgICAgb3ZlcmZsb3dZID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dZO1xuXG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW4vLnRlc3Qob3ZlcmZsb3cgKyBvdmVyZmxvd1kgKyBvdmVyZmxvd1gpO1xufSIsImltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBpc1Njcm9sbFBhcmVudCBmcm9tIFwiLi9pc1Njcm9sbFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldE5vZGVOYW1lIGZyb20gXCIuL2dldE5vZGVOYW1lLmpzXCI7XG5pbXBvcnQgeyBpc0hUTUxFbGVtZW50IH0gZnJvbSBcIi4vaW5zdGFuY2VPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50KG5vZGUpIHtcbiAgaWYgKFsnaHRtbCcsICdib2R5JywgJyNkb2N1bWVudCddLmluZGV4T2YoZ2V0Tm9kZU5hbWUobm9kZSkpID49IDApIHtcbiAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dOiBhc3N1bWUgYm9keSBpcyBhbHdheXMgYXZhaWxhYmxlXG4gICAgcmV0dXJuIG5vZGUub3duZXJEb2N1bWVudC5ib2R5O1xuICB9XG5cbiAgaWYgKGlzSFRNTEVsZW1lbnQobm9kZSkgJiYgaXNTY3JvbGxQYXJlbnQobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHJldHVybiBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShub2RlKSk7XG59IiwiaW1wb3J0IGdldFNjcm9sbFBhcmVudCBmcm9tIFwiLi9nZXRTY3JvbGxQYXJlbnQuanNcIjtcbmltcG9ydCBnZXRQYXJlbnROb2RlIGZyb20gXCIuL2dldFBhcmVudE5vZGUuanNcIjtcbmltcG9ydCBnZXRXaW5kb3cgZnJvbSBcIi4vZ2V0V2luZG93LmpzXCI7XG5pbXBvcnQgaXNTY3JvbGxQYXJlbnQgZnJvbSBcIi4vaXNTY3JvbGxQYXJlbnQuanNcIjtcbi8qXG5naXZlbiBhIERPTSBlbGVtZW50LCByZXR1cm4gdGhlIGxpc3Qgb2YgYWxsIHNjcm9sbCBwYXJlbnRzLCB1cCB0aGUgbGlzdCBvZiBhbmNlc29yc1xudW50aWwgd2UgZ2V0IHRvIHRoZSB0b3Agd2luZG93IG9iamVjdC4gVGhpcyBsaXN0IGlzIHdoYXQgd2UgYXR0YWNoIHNjcm9sbCBsaXN0ZW5lcnNcbnRvLCBiZWNhdXNlIGlmIGFueSBvZiB0aGVzZSBwYXJlbnQgZWxlbWVudHMgc2Nyb2xsLCB3ZSdsbCBuZWVkIHRvIHJlLWNhbGN1bGF0ZSB0aGVcbnJlZmVyZW5jZSBlbGVtZW50J3MgcG9zaXRpb24uXG4qL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaXN0U2Nyb2xsUGFyZW50cyhlbGVtZW50LCBsaXN0KSB7XG4gIHZhciBfZWxlbWVudCRvd25lckRvY3VtZW47XG5cbiAgaWYgKGxpc3QgPT09IHZvaWQgMCkge1xuICAgIGxpc3QgPSBbXTtcbiAgfVxuXG4gIHZhciBzY3JvbGxQYXJlbnQgPSBnZXRTY3JvbGxQYXJlbnQoZWxlbWVudCk7XG4gIHZhciBpc0JvZHkgPSBzY3JvbGxQYXJlbnQgPT09ICgoX2VsZW1lbnQkb3duZXJEb2N1bWVuID0gZWxlbWVudC5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2VsZW1lbnQkb3duZXJEb2N1bWVuLmJvZHkpO1xuICB2YXIgd2luID0gZ2V0V2luZG93KHNjcm9sbFBhcmVudCk7XG4gIHZhciB0YXJnZXQgPSBpc0JvZHkgPyBbd2luXS5jb25jYXQod2luLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBpc1Njcm9sbFBhcmVudChzY3JvbGxQYXJlbnQpID8gc2Nyb2xsUGFyZW50IDogW10pIDogc2Nyb2xsUGFyZW50O1xuICB2YXIgdXBkYXRlZExpc3QgPSBsaXN0LmNvbmNhdCh0YXJnZXQpO1xuICByZXR1cm4gaXNCb2R5ID8gdXBkYXRlZExpc3QgOiAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1jYWxsXTogaXNCb2R5IHRlbGxzIHVzIHRhcmdldCB3aWxsIGJlIGFuIEhUTUxFbGVtZW50IGhlcmVcbiAgdXBkYXRlZExpc3QuY29uY2F0KGxpc3RTY3JvbGxQYXJlbnRzKGdldFBhcmVudE5vZGUodGFyZ2V0KSkpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlY3RUb0NsaWVudFJlY3QocmVjdCkge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgcmVjdCwge1xuICAgIGxlZnQ6IHJlY3QueCxcbiAgICB0b3A6IHJlY3QueSxcbiAgICByaWdodDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBib3R0b206IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH0pO1xufSIsImltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0Vmlld3BvcnRSZWN0IGZyb20gXCIuL2dldFZpZXdwb3J0UmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50UmVjdCBmcm9tIFwiLi9nZXREb2N1bWVudFJlY3QuanNcIjtcbmltcG9ydCBsaXN0U2Nyb2xsUGFyZW50cyBmcm9tIFwiLi9saXN0U2Nyb2xsUGFyZW50cy5qc1wiO1xuaW1wb3J0IGdldE9mZnNldFBhcmVudCBmcm9tIFwiLi9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGZyb20gXCIuL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGdldFBhcmVudE5vZGUgZnJvbSBcIi4vZ2V0UGFyZW50Tm9kZS5qc1wiO1xuaW1wb3J0IGNvbnRhaW5zIGZyb20gXCIuL2NvbnRhaW5zLmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCByZWN0VG9DbGllbnRSZWN0IGZyb20gXCIuLi91dGlscy9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBtYXgsIG1pbiB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCk7XG4gIHJlY3QudG9wID0gcmVjdC50b3AgKyBlbGVtZW50LmNsaWVudFRvcDtcbiAgcmVjdC5sZWZ0ID0gcmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRMZWZ0O1xuICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyBlbGVtZW50LmNsaWVudFdpZHRoO1xuICByZWN0LndpZHRoID0gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgcmVjdC5oZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgcmVjdC54ID0gcmVjdC5sZWZ0O1xuICByZWN0LnkgPSByZWN0LnRvcDtcbiAgcmV0dXJuIHJlY3Q7XG59XG5cbmZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50KSB7XG4gIHJldHVybiBjbGlwcGluZ1BhcmVudCA9PT0gdmlld3BvcnQgPyByZWN0VG9DbGllbnRSZWN0KGdldFZpZXdwb3J0UmVjdChlbGVtZW50KSkgOiBpc0VsZW1lbnQoY2xpcHBpbmdQYXJlbnQpID8gZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QoY2xpcHBpbmdQYXJlbnQpIDogcmVjdFRvQ2xpZW50UmVjdChnZXREb2N1bWVudFJlY3QoZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpKSk7XG59IC8vIEEgXCJjbGlwcGluZyBwYXJlbnRcIiBpcyBhbiBvdmVyZmxvd2FibGUgY29udGFpbmVyIHdpdGggdGhlIGNoYXJhY3RlcmlzdGljIG9mXG4vLyBjbGlwcGluZyAob3IgaGlkaW5nKSBvdmVyZmxvd2luZyBlbGVtZW50cyB3aXRoIGEgcG9zaXRpb24gZGlmZmVyZW50IGZyb21cbi8vIGBpbml0aWFsYFxuXG5cbmZ1bmN0aW9uIGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSB7XG4gIHZhciBjbGlwcGluZ1BhcmVudHMgPSBsaXN0U2Nyb2xsUGFyZW50cyhnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTtcbiAgdmFyIGNhbkVzY2FwZUNsaXBwaW5nID0gWydhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbikgPj0gMDtcbiAgdmFyIGNsaXBwZXJFbGVtZW50ID0gY2FuRXNjYXBlQ2xpcHBpbmcgJiYgaXNIVE1MRWxlbWVudChlbGVtZW50KSA/IGdldE9mZnNldFBhcmVudChlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgaWYgKCFpc0VsZW1lbnQoY2xpcHBlckVsZW1lbnQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl06IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mbG93L2lzc3Vlcy8xNDE0XG5cblxuICByZXR1cm4gY2xpcHBpbmdQYXJlbnRzLmZpbHRlcihmdW5jdGlvbiAoY2xpcHBpbmdQYXJlbnQpIHtcbiAgICByZXR1cm4gaXNFbGVtZW50KGNsaXBwaW5nUGFyZW50KSAmJiBjb250YWlucyhjbGlwcGluZ1BhcmVudCwgY2xpcHBlckVsZW1lbnQpICYmIGdldE5vZGVOYW1lKGNsaXBwaW5nUGFyZW50KSAhPT0gJ2JvZHknO1xuICB9KTtcbn0gLy8gR2V0cyB0aGUgbWF4aW11bSBhcmVhIHRoYXQgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSBpbiBkdWUgdG8gYW55IG51bWJlciBvZlxuLy8gY2xpcHBpbmcgcGFyZW50c1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChlbGVtZW50LCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5KSB7XG4gIHZhciBtYWluQ2xpcHBpbmdQYXJlbnRzID0gYm91bmRhcnkgPT09ICdjbGlwcGluZ1BhcmVudHMnID8gZ2V0Q2xpcHBpbmdQYXJlbnRzKGVsZW1lbnQpIDogW10uY29uY2F0KGJvdW5kYXJ5KTtcbiAgdmFyIGNsaXBwaW5nUGFyZW50cyA9IFtdLmNvbmNhdChtYWluQ2xpcHBpbmdQYXJlbnRzLCBbcm9vdEJvdW5kYXJ5XSk7XG4gIHZhciBmaXJzdENsaXBwaW5nUGFyZW50ID0gY2xpcHBpbmdQYXJlbnRzWzBdO1xuICB2YXIgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdQYXJlbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjUmVjdCwgY2xpcHBpbmdQYXJlbnQpIHtcbiAgICB2YXIgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50KTtcbiAgICBhY2NSZWN0LnRvcCA9IG1heChyZWN0LnRvcCwgYWNjUmVjdC50b3ApO1xuICAgIGFjY1JlY3QucmlnaHQgPSBtaW4ocmVjdC5yaWdodCwgYWNjUmVjdC5yaWdodCk7XG4gICAgYWNjUmVjdC5ib3R0b20gPSBtaW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTtcbiAgICBhY2NSZWN0LmxlZnQgPSBtYXgocmVjdC5sZWZ0LCBhY2NSZWN0LmxlZnQpO1xuICAgIHJldHVybiBhY2NSZWN0O1xuICB9LCBnZXRDbGllbnRSZWN0RnJvbU1peGVkVHlwZShlbGVtZW50LCBmaXJzdENsaXBwaW5nUGFyZW50KSk7XG4gIGNsaXBwaW5nUmVjdC53aWR0aCA9IGNsaXBwaW5nUmVjdC5yaWdodCAtIGNsaXBwaW5nUmVjdC5sZWZ0O1xuICBjbGlwcGluZ1JlY3QuaGVpZ2h0ID0gY2xpcHBpbmdSZWN0LmJvdHRvbSAtIGNsaXBwaW5nUmVjdC50b3A7XG4gIGNsaXBwaW5nUmVjdC54ID0gY2xpcHBpbmdSZWN0LmxlZnQ7XG4gIGNsaXBwaW5nUmVjdC55ID0gY2xpcHBpbmdSZWN0LnRvcDtcbiAgcmV0dXJuIGNsaXBwaW5nUmVjdDtcbn0iLCJpbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi9nZXREb2N1bWVudEVsZW1lbnQuanNcIjtcbmltcG9ydCBnZXRXaW5kb3dTY3JvbGxCYXJYIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbEJhclguanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFZpZXdwb3J0UmVjdChlbGVtZW50KSB7XG4gIHZhciB3aW4gPSBnZXRXaW5kb3coZWxlbWVudCk7XG4gIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgdmlzdWFsVmlld3BvcnQgPSB3aW4udmlzdWFsVmlld3BvcnQ7XG4gIHZhciB3aWR0aCA9IGh0bWwuY2xpZW50V2lkdGg7XG4gIHZhciBoZWlnaHQgPSBodG1sLmNsaWVudEhlaWdodDtcbiAgdmFyIHggPSAwO1xuICB2YXIgeSA9IDA7IC8vIE5COiBUaGlzIGlzbid0IHN1cHBvcnRlZCBvbiBpT1MgPD0gMTIuIElmIHRoZSBrZXlib2FyZCBpcyBvcGVuLCB0aGUgcG9wcGVyXG4gIC8vIGNhbiBiZSBvYnNjdXJlZCB1bmRlcm5lYXRoIGl0LlxuICAvLyBBbHNvLCBgaHRtbC5jbGllbnRIZWlnaHRgIGFkZHMgdGhlIGJvdHRvbSBiYXIgaGVpZ2h0IGluIFNhZmFyaSBpT1MsIGV2ZW5cbiAgLy8gaWYgaXQgaXNuJ3Qgb3Blbiwgc28gaWYgdGhpcyBpc24ndCBhdmFpbGFibGUsIHRoZSBwb3BwZXIgd2lsbCBiZSBkZXRlY3RlZFxuICAvLyB0byBvdmVyZmxvdyB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4gdG9vIGVhcmx5LlxuXG4gIGlmICh2aXN1YWxWaWV3cG9ydCkge1xuICAgIHdpZHRoID0gdmlzdWFsVmlld3BvcnQud2lkdGg7XG4gICAgaGVpZ2h0ID0gdmlzdWFsVmlld3BvcnQuaGVpZ2h0OyAvLyBVc2VzIExheW91dCBWaWV3cG9ydCAobGlrZSBDaHJvbWU7IFNhZmFyaSBkb2VzIG5vdCBjdXJyZW50bHkpXG4gICAgLy8gSW4gQ2hyb21lLCBpdCByZXR1cm5zIGEgdmFsdWUgdmVyeSBjbG9zZSB0byAwICgrLy0pIGJ1dCBjb250YWlucyByb3VuZGluZ1xuICAgIC8vIGVycm9ycyBkdWUgdG8gZmxvYXRpbmcgcG9pbnQgbnVtYmVycywgc28gd2UgbmVlZCB0byBjaGVjayBwcmVjaXNpb24uXG4gICAgLy8gU2FmYXJpIHJldHVybnMgYSBudW1iZXIgPD0gMCwgdXN1YWxseSA8IC0xIHdoZW4gcGluY2gtem9vbWVkXG4gICAgLy8gRmVhdHVyZSBkZXRlY3Rpb24gZmFpbHMgaW4gbW9iaWxlIGVtdWxhdGlvbiBtb2RlIGluIENocm9tZS5cbiAgICAvLyBNYXRoLmFicyh3aW4uaW5uZXJXaWR0aCAvIHZpc3VhbFZpZXdwb3J0LnNjYWxlIC0gdmlzdWFsVmlld3BvcnQud2lkdGgpIDxcbiAgICAvLyAwLjAwMVxuICAgIC8vIEZhbGxiYWNrIGhlcmU6IFwiTm90IFNhZmFyaVwiIHVzZXJBZ2VudFxuXG4gICAgaWYgKCEvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICB4ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdDtcbiAgICAgIHkgPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3A7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgeDogeCArIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCksXG4gICAgeTogeVxuICB9O1xufSIsImltcG9ydCBnZXREb2N1bWVudEVsZW1lbnQgZnJvbSBcIi4vZ2V0RG9jdW1lbnRFbGVtZW50LmpzXCI7XG5pbXBvcnQgZ2V0Q29tcHV0ZWRTdHlsZSBmcm9tIFwiLi9nZXRDb21wdXRlZFN0eWxlLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsQmFyWCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGxCYXJYLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsIGZyb20gXCIuL2dldFdpbmRvd1Njcm9sbC5qc1wiO1xuaW1wb3J0IHsgbWF4IH0gZnJvbSBcIi4uL3V0aWxzL21hdGguanNcIjsgLy8gR2V0cyB0aGUgZW50aXJlIHNpemUgb2YgdGhlIHNjcm9sbGFibGUgZG9jdW1lbnQgYXJlYSwgZXZlbiBleHRlbmRpbmcgb3V0c2lkZVxuLy8gb2YgdGhlIGA8aHRtbD5gIGFuZCBgPGJvZHk+YCByZWN0IGJvdW5kcyBpZiBob3Jpem9udGFsbHkgc2Nyb2xsYWJsZVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXREb2N1bWVudFJlY3QoZWxlbWVudCkge1xuICB2YXIgX2VsZW1lbnQkb3duZXJEb2N1bWVuO1xuXG4gIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgd2luU2Nyb2xsID0gZ2V0V2luZG93U2Nyb2xsKGVsZW1lbnQpO1xuICB2YXIgYm9keSA9IChfZWxlbWVudCRvd25lckRvY3VtZW4gPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfZWxlbWVudCRvd25lckRvY3VtZW4uYm9keTtcbiAgdmFyIHdpZHRoID0gbWF4KGh0bWwuc2Nyb2xsV2lkdGgsIGh0bWwuY2xpZW50V2lkdGgsIGJvZHkgPyBib2R5LnNjcm9sbFdpZHRoIDogMCwgYm9keSA/IGJvZHkuY2xpZW50V2lkdGggOiAwKTtcbiAgdmFyIGhlaWdodCA9IG1heChodG1sLnNjcm9sbEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGJvZHkgPyBib2R5LnNjcm9sbEhlaWdodCA6IDAsIGJvZHkgPyBib2R5LmNsaWVudEhlaWdodCA6IDApO1xuICB2YXIgeCA9IC13aW5TY3JvbGwuc2Nyb2xsTGVmdCArIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCk7XG4gIHZhciB5ID0gLXdpblNjcm9sbC5zY3JvbGxUb3A7XG5cbiAgaWYgKGdldENvbXB1dGVkU3R5bGUoYm9keSB8fCBodG1sKS5kaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgeCArPSBtYXgoaHRtbC5jbGllbnRXaWR0aCwgYm9keSA/IGJvZHkuY2xpZW50V2lkdGggOiAwKSAtIHdpZHRoO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH07XG59IiwiaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4vZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldFZhcmlhdGlvbiBmcm9tIFwiLi9nZXRWYXJpYXRpb24uanNcIjtcbmltcG9ydCBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQgZnJvbSBcIi4vZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsIHN0YXJ0LCBlbmQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbXB1dGVPZmZzZXRzKF9yZWYpIHtcbiAgdmFyIHJlZmVyZW5jZSA9IF9yZWYucmVmZXJlbmNlLFxuICAgICAgZWxlbWVudCA9IF9yZWYuZWxlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9yZWYucGxhY2VtZW50O1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IHBsYWNlbWVudCA/IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSA6IG51bGw7XG4gIHZhciB2YXJpYXRpb24gPSBwbGFjZW1lbnQgPyBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSA6IG51bGw7XG4gIHZhciBjb21tb25YID0gcmVmZXJlbmNlLnggKyByZWZlcmVuY2Uud2lkdGggLyAyIC0gZWxlbWVudC53aWR0aCAvIDI7XG4gIHZhciBjb21tb25ZID0gcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0IC8gMiAtIGVsZW1lbnQuaGVpZ2h0IC8gMjtcbiAgdmFyIG9mZnNldHM7XG5cbiAgc3dpdGNoIChiYXNlUGxhY2VtZW50KSB7XG4gICAgY2FzZSB0b3A6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiBjb21tb25YLFxuICAgICAgICB5OiByZWZlcmVuY2UueSAtIGVsZW1lbnQuaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGJvdHRvbTpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IGNvbW1vblgsXG4gICAgICAgIHk6IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSByaWdodDpcbiAgICAgIG9mZnNldHMgPSB7XG4gICAgICAgIHg6IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoLFxuICAgICAgICB5OiBjb21tb25ZXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIGxlZnQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCAtIGVsZW1lbnQud2lkdGgsXG4gICAgICAgIHk6IGNvbW1vbllcbiAgICAgIH07XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBvZmZzZXRzID0ge1xuICAgICAgICB4OiByZWZlcmVuY2UueCxcbiAgICAgICAgeTogcmVmZXJlbmNlLnlcbiAgICAgIH07XG4gIH1cblxuICB2YXIgbWFpbkF4aXMgPSBiYXNlUGxhY2VtZW50ID8gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KGJhc2VQbGFjZW1lbnQpIDogbnVsbDtcblxuICBpZiAobWFpbkF4aXMgIT0gbnVsbCkge1xuICAgIHZhciBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gICAgc3dpdGNoICh2YXJpYXRpb24pIHtcbiAgICAgIGNhc2Ugc3RhcnQ6XG4gICAgICAgIG9mZnNldHNbbWFpbkF4aXNdID0gb2Zmc2V0c1ttYWluQXhpc10gLSAocmVmZXJlbmNlW2xlbl0gLyAyIC0gZWxlbWVudFtsZW5dIC8gMik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIGVuZDpcbiAgICAgICAgb2Zmc2V0c1ttYWluQXhpc10gPSBvZmZzZXRzW21haW5BeGlzXSArIChyZWZlcmVuY2VbbGVuXSAvIDIgLSBlbGVtZW50W2xlbl0gLyAyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9mZnNldHM7XG59IiwiaW1wb3J0IGdldENsaXBwaW5nUmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldENsaXBwaW5nUmVjdC5qc1wiO1xuaW1wb3J0IGdldERvY3VtZW50RWxlbWVudCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGdldEJvdW5kaW5nQ2xpZW50UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldEJvdW5kaW5nQ2xpZW50UmVjdC5qc1wiO1xuaW1wb3J0IGNvbXB1dGVPZmZzZXRzIGZyb20gXCIuL2NvbXB1dGVPZmZzZXRzLmpzXCI7XG5pbXBvcnQgcmVjdFRvQ2xpZW50UmVjdCBmcm9tIFwiLi9yZWN0VG9DbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgeyBjbGlwcGluZ1BhcmVudHMsIHJlZmVyZW5jZSwgcG9wcGVyLCBib3R0b20sIHRvcCwgcmlnaHQsIGJhc2VQbGFjZW1lbnRzLCB2aWV3cG9ydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSBcIi4uL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgbWVyZ2VQYWRkaW5nT2JqZWN0IGZyb20gXCIuL21lcmdlUGFkZGluZ09iamVjdC5qc1wiO1xuaW1wb3J0IGV4cGFuZFRvSGFzaE1hcCBmcm9tIFwiLi9leHBhbmRUb0hhc2hNYXAuanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJHBsYWNlbWVudCA9IF9vcHRpb25zLnBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9vcHRpb25zJHBsYWNlbWVudCA9PT0gdm9pZCAwID8gc3RhdGUucGxhY2VtZW50IDogX29wdGlvbnMkcGxhY2VtZW50LFxuICAgICAgX29wdGlvbnMkYm91bmRhcnkgPSBfb3B0aW9ucy5ib3VuZGFyeSxcbiAgICAgIGJvdW5kYXJ5ID0gX29wdGlvbnMkYm91bmRhcnkgPT09IHZvaWQgMCA/IGNsaXBwaW5nUGFyZW50cyA6IF9vcHRpb25zJGJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkcm9vdEJvdW5kYXJ5ID0gX29wdGlvbnMucm9vdEJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5ID0gX29wdGlvbnMkcm9vdEJvdW5kYXJ5ID09PSB2b2lkIDAgPyB2aWV3cG9ydCA6IF9vcHRpb25zJHJvb3RCb3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJGVsZW1lbnRDb250ZSA9IF9vcHRpb25zLmVsZW1lbnRDb250ZXh0LFxuICAgICAgZWxlbWVudENvbnRleHQgPSBfb3B0aW9ucyRlbGVtZW50Q29udGUgPT09IHZvaWQgMCA/IHBvcHBlciA6IF9vcHRpb25zJGVsZW1lbnRDb250ZSxcbiAgICAgIF9vcHRpb25zJGFsdEJvdW5kYXJ5ID0gX29wdGlvbnMuYWx0Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeSA9IF9vcHRpb25zJGFsdEJvdW5kYXJ5ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsdEJvdW5kYXJ5LFxuICAgICAgX29wdGlvbnMkcGFkZGluZyA9IF9vcHRpb25zLnBhZGRpbmcsXG4gICAgICBwYWRkaW5nID0gX29wdGlvbnMkcGFkZGluZyA9PT0gdm9pZCAwID8gMCA6IF9vcHRpb25zJHBhZGRpbmc7XG4gIHZhciBwYWRkaW5nT2JqZWN0ID0gbWVyZ2VQYWRkaW5nT2JqZWN0KHR5cGVvZiBwYWRkaW5nICE9PSAnbnVtYmVyJyA/IHBhZGRpbmcgOiBleHBhbmRUb0hhc2hNYXAocGFkZGluZywgYmFzZVBsYWNlbWVudHMpKTtcbiAgdmFyIGFsdENvbnRleHQgPSBlbGVtZW50Q29udGV4dCA9PT0gcG9wcGVyID8gcmVmZXJlbmNlIDogcG9wcGVyO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07XG4gIHZhciBjbGlwcGluZ0NsaWVudFJlY3QgPSBnZXRDbGlwcGluZ1JlY3QoaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudCA6IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgfHwgZ2V0RG9jdW1lbnRFbGVtZW50KHN0YXRlLmVsZW1lbnRzLnBvcHBlciksIGJvdW5kYXJ5LCByb290Qm91bmRhcnkpO1xuICB2YXIgcmVmZXJlbmNlQ2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChzdGF0ZS5lbGVtZW50cy5yZWZlcmVuY2UpO1xuICB2YXIgcG9wcGVyT2Zmc2V0cyA9IGNvbXB1dGVPZmZzZXRzKHtcbiAgICByZWZlcmVuY2U6IHJlZmVyZW5jZUNsaWVudFJlY3QsXG4gICAgZWxlbWVudDogcG9wcGVyUmVjdCxcbiAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFxuICB9KTtcbiAgdmFyIHBvcHBlckNsaWVudFJlY3QgPSByZWN0VG9DbGllbnRSZWN0KE9iamVjdC5hc3NpZ24oe30sIHBvcHBlclJlY3QsIHBvcHBlck9mZnNldHMpKTtcbiAgdmFyIGVsZW1lbnRDbGllbnRSZWN0ID0gZWxlbWVudENvbnRleHQgPT09IHBvcHBlciA/IHBvcHBlckNsaWVudFJlY3QgOiByZWZlcmVuY2VDbGllbnRSZWN0OyAvLyBwb3NpdGl2ZSA9IG92ZXJmbG93aW5nIHRoZSBjbGlwcGluZyByZWN0XG4gIC8vIDAgb3IgbmVnYXRpdmUgPSB3aXRoaW4gdGhlIGNsaXBwaW5nIHJlY3RcblxuICB2YXIgb3ZlcmZsb3dPZmZzZXRzID0ge1xuICAgIHRvcDogY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wLFxuICAgIGJvdHRvbTogZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tLFxuICAgIGxlZnQ6IGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCxcbiAgICByaWdodDogZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0XG4gIH07XG4gIHZhciBvZmZzZXREYXRhID0gc3RhdGUubW9kaWZpZXJzRGF0YS5vZmZzZXQ7IC8vIE9mZnNldHMgY2FuIGJlIGFwcGxpZWQgb25seSB0byB0aGUgcG9wcGVyIGVsZW1lbnRcblxuICBpZiAoZWxlbWVudENvbnRleHQgPT09IHBvcHBlciAmJiBvZmZzZXREYXRhKSB7XG4gICAgdmFyIG9mZnNldCA9IG9mZnNldERhdGFbcGxhY2VtZW50XTtcbiAgICBPYmplY3Qua2V5cyhvdmVyZmxvd09mZnNldHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIG11bHRpcGx5ID0gW3JpZ2h0LCBib3R0b21dLmluZGV4T2Yoa2V5KSA+PSAwID8gMSA6IC0xO1xuICAgICAgdmFyIGF4aXMgPSBbdG9wLCBib3R0b21dLmluZGV4T2Yoa2V5KSA+PSAwID8gJ3knIDogJ3gnO1xuICAgICAgb3ZlcmZsb3dPZmZzZXRzW2tleV0gKz0gb2Zmc2V0W2F4aXNdICogbXVsdGlwbHk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gb3ZlcmZsb3dPZmZzZXRzO1xufSIsImltcG9ydCBnZXRPcHBvc2l0ZVBsYWNlbWVudCBmcm9tIFwiLi4vdXRpbHMvZ2V0T3Bwb3NpdGVQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4uL3V0aWxzL2RldGVjdE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgY29tcHV0ZUF1dG9QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2NvbXB1dGVBdXRvUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyBib3R0b20sIHRvcCwgc3RhcnQsIHJpZ2h0LCBsZWZ0LCBhdXRvIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7XG5pbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuLi91dGlscy9nZXRWYXJpYXRpb24uanNcIjsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5mdW5jdGlvbiBnZXRFeHBhbmRlZEZhbGxiYWNrUGxhY2VtZW50cyhwbGFjZW1lbnQpIHtcbiAgaWYgKGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSA9PT0gYXV0bykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBvcHBvc2l0ZVBsYWNlbWVudCA9IGdldE9wcG9zaXRlUGxhY2VtZW50KHBsYWNlbWVudCk7XG4gIHJldHVybiBbZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQocGxhY2VtZW50KSwgb3Bwb3NpdGVQbGFjZW1lbnQsIGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KG9wcG9zaXRlUGxhY2VtZW50KV07XG59XG5cbmZ1bmN0aW9uIGZsaXAoX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0uX3NraXApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgX29wdGlvbnMkbWFpbkF4aXMgPSBvcHRpb25zLm1haW5BeGlzLFxuICAgICAgY2hlY2tNYWluQXhpcyA9IF9vcHRpb25zJG1haW5BeGlzID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkbWFpbkF4aXMsXG4gICAgICBfb3B0aW9ucyRhbHRBeGlzID0gb3B0aW9ucy5hbHRBeGlzLFxuICAgICAgY2hlY2tBbHRBeGlzID0gX29wdGlvbnMkYWx0QXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGFsdEF4aXMsXG4gICAgICBzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMgPSBvcHRpb25zLmZhbGxiYWNrUGxhY2VtZW50cyxcbiAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBvcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIF9vcHRpb25zJGZsaXBWYXJpYXRpbyA9IG9wdGlvbnMuZmxpcFZhcmlhdGlvbnMsXG4gICAgICBmbGlwVmFyaWF0aW9ucyA9IF9vcHRpb25zJGZsaXBWYXJpYXRpbyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGZsaXBWYXJpYXRpbyxcbiAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50cyA9IG9wdGlvbnMuYWxsb3dlZEF1dG9QbGFjZW1lbnRzO1xuICB2YXIgcHJlZmVycmVkUGxhY2VtZW50ID0gc3RhdGUub3B0aW9ucy5wbGFjZW1lbnQ7XG4gIHZhciBiYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwcmVmZXJyZWRQbGFjZW1lbnQpO1xuICB2YXIgaXNCYXNlUGxhY2VtZW50ID0gYmFzZVBsYWNlbWVudCA9PT0gcHJlZmVycmVkUGxhY2VtZW50O1xuICB2YXIgZmFsbGJhY2tQbGFjZW1lbnRzID0gc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzIHx8IChpc0Jhc2VQbGFjZW1lbnQgfHwgIWZsaXBWYXJpYXRpb25zID8gW2dldE9wcG9zaXRlUGxhY2VtZW50KHByZWZlcnJlZFBsYWNlbWVudCldIDogZ2V0RXhwYW5kZWRGYWxsYmFja1BsYWNlbWVudHMocHJlZmVycmVkUGxhY2VtZW50KSk7XG4gIHZhciBwbGFjZW1lbnRzID0gW3ByZWZlcnJlZFBsYWNlbWVudF0uY29uY2F0KGZhbGxiYWNrUGxhY2VtZW50cykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIHJldHVybiBhY2MuY29uY2F0KGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KSA9PT0gYXV0byA/IGNvbXB1dGVBdXRvUGxhY2VtZW50KHN0YXRlLCB7XG4gICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LFxuICAgICAgcGFkZGluZzogcGFkZGluZyxcbiAgICAgIGZsaXBWYXJpYXRpb25zOiBmbGlwVmFyaWF0aW9ucyxcbiAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50czogYWxsb3dlZEF1dG9QbGFjZW1lbnRzXG4gICAgfSkgOiBwbGFjZW1lbnQpO1xuICB9LCBbXSk7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIGNoZWNrc01hcCA9IG5ldyBNYXAoKTtcbiAgdmFyIG1ha2VGYWxsYmFja0NoZWNrcyA9IHRydWU7XG4gIHZhciBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRzWzBdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGxhY2VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwbGFjZW1lbnQgPSBwbGFjZW1lbnRzW2ldO1xuXG4gICAgdmFyIF9iYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpO1xuXG4gICAgdmFyIGlzU3RhcnRWYXJpYXRpb24gPSBnZXRWYXJpYXRpb24ocGxhY2VtZW50KSA9PT0gc3RhcnQ7XG4gICAgdmFyIGlzVmVydGljYWwgPSBbdG9wLCBib3R0b21dLmluZGV4T2YoX2Jhc2VQbGFjZW1lbnQpID49IDA7XG4gICAgdmFyIGxlbiA9IGlzVmVydGljYWwgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG4gICAgdmFyIG92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5OiByb290Qm91bmRhcnksXG4gICAgICBhbHRCb3VuZGFyeTogYWx0Qm91bmRhcnksXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nXG4gICAgfSk7XG4gICAgdmFyIG1haW5WYXJpYXRpb25TaWRlID0gaXNWZXJ0aWNhbCA/IGlzU3RhcnRWYXJpYXRpb24gPyByaWdodCA6IGxlZnQgOiBpc1N0YXJ0VmFyaWF0aW9uID8gYm90dG9tIDogdG9wO1xuXG4gICAgaWYgKHJlZmVyZW5jZVJlY3RbbGVuXSA+IHBvcHBlclJlY3RbbGVuXSkge1xuICAgICAgbWFpblZhcmlhdGlvblNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluVmFyaWF0aW9uU2lkZSk7XG4gICAgfVxuXG4gICAgdmFyIGFsdFZhcmlhdGlvblNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluVmFyaWF0aW9uU2lkZSk7XG4gICAgdmFyIGNoZWNrcyA9IFtdO1xuXG4gICAgaWYgKGNoZWNrTWFpbkF4aXMpIHtcbiAgICAgIGNoZWNrcy5wdXNoKG92ZXJmbG93W19iYXNlUGxhY2VtZW50XSA8PSAwKTtcbiAgICB9XG5cbiAgICBpZiAoY2hlY2tBbHRBeGlzKSB7XG4gICAgICBjaGVja3MucHVzaChvdmVyZmxvd1ttYWluVmFyaWF0aW9uU2lkZV0gPD0gMCwgb3ZlcmZsb3dbYWx0VmFyaWF0aW9uU2lkZV0gPD0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGNoZWNrcy5ldmVyeShmdW5jdGlvbiAoY2hlY2spIHtcbiAgICAgIHJldHVybiBjaGVjaztcbiAgICB9KSkge1xuICAgICAgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50O1xuICAgICAgbWFrZUZhbGxiYWNrQ2hlY2tzID0gZmFsc2U7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjaGVja3NNYXAuc2V0KHBsYWNlbWVudCwgY2hlY2tzKTtcbiAgfVxuXG4gIGlmIChtYWtlRmFsbGJhY2tDaGVja3MpIHtcbiAgICAvLyBgMmAgbWF5IGJlIGRlc2lyZWQgaW4gc29tZSBjYXNlcyDigJMgcmVzZWFyY2ggbGF0ZXJcbiAgICB2YXIgbnVtYmVyT2ZDaGVja3MgPSBmbGlwVmFyaWF0aW9ucyA/IDMgOiAxO1xuXG4gICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoX2kpIHtcbiAgICAgIHZhciBmaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50cy5maW5kKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICAgICAgdmFyIGNoZWNrcyA9IGNoZWNrc01hcC5nZXQocGxhY2VtZW50KTtcblxuICAgICAgICBpZiAoY2hlY2tzKSB7XG4gICAgICAgICAgcmV0dXJuIGNoZWNrcy5zbGljZSgwLCBfaSkuZXZlcnkoZnVuY3Rpb24gKGNoZWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZml0dGluZ1BsYWNlbWVudCkge1xuICAgICAgICBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBmaXR0aW5nUGxhY2VtZW50O1xuICAgICAgICByZXR1cm4gXCJicmVha1wiO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBfaSA9IG51bWJlck9mQ2hlY2tzOyBfaSA+IDA7IF9pLS0pIHtcbiAgICAgIHZhciBfcmV0ID0gX2xvb3AoX2kpO1xuXG4gICAgICBpZiAoX3JldCA9PT0gXCJicmVha1wiKSBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoc3RhdGUucGxhY2VtZW50ICE9PSBmaXJzdEZpdHRpbmdQbGFjZW1lbnQpIHtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdLl9za2lwID0gdHJ1ZTtcbiAgICBzdGF0ZS5wbGFjZW1lbnQgPSBmaXJzdEZpdHRpbmdQbGFjZW1lbnQ7XG4gICAgc3RhdGUucmVzZXQgPSB0cnVlO1xuICB9XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdmbGlwJyxcbiAgZW5hYmxlZDogdHJ1ZSxcbiAgcGhhc2U6ICdtYWluJyxcbiAgZm46IGZsaXAsXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsnb2Zmc2V0J10sXG4gIGRhdGE6IHtcbiAgICBfc2tpcDogZmFsc2VcbiAgfVxufTsiLCJpbXBvcnQgZ2V0VmFyaWF0aW9uIGZyb20gXCIuL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IHsgdmFyaWF0aW9uUGxhY2VtZW50cywgYmFzZVBsYWNlbWVudHMsIHBsYWNlbWVudHMgYXMgYWxsUGxhY2VtZW50cyB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGRldGVjdE92ZXJmbG93IGZyb20gXCIuL2RldGVjdE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgZ2V0QmFzZVBsYWNlbWVudCBmcm9tIFwiLi9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIHBsYWNlbWVudCA9IF9vcHRpb25zLnBsYWNlbWVudCxcbiAgICAgIGJvdW5kYXJ5ID0gX29wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBfb3B0aW9ucy5yb290Qm91bmRhcnksXG4gICAgICBwYWRkaW5nID0gX29wdGlvbnMucGFkZGluZyxcbiAgICAgIGZsaXBWYXJpYXRpb25zID0gX29wdGlvbnMuZmxpcFZhcmlhdGlvbnMsXG4gICAgICBfb3B0aW9ucyRhbGxvd2VkQXV0b1AgPSBfb3B0aW9ucy5hbGxvd2VkQXV0b1BsYWNlbWVudHMsXG4gICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHMgPSBfb3B0aW9ucyRhbGxvd2VkQXV0b1AgPT09IHZvaWQgMCA/IGFsbFBsYWNlbWVudHMgOiBfb3B0aW9ucyRhbGxvd2VkQXV0b1A7XG4gIHZhciB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24ocGxhY2VtZW50KTtcbiAgdmFyIHBsYWNlbWVudHMgPSB2YXJpYXRpb24gPyBmbGlwVmFyaWF0aW9ucyA/IHZhcmlhdGlvblBsYWNlbWVudHMgOiB2YXJpYXRpb25QbGFjZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAocGxhY2VtZW50KSB7XG4gICAgcmV0dXJuIGdldFZhcmlhdGlvbihwbGFjZW1lbnQpID09PSB2YXJpYXRpb247XG4gIH0pIDogYmFzZVBsYWNlbWVudHM7XG4gIHZhciBhbGxvd2VkUGxhY2VtZW50cyA9IHBsYWNlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHtcbiAgICByZXR1cm4gYWxsb3dlZEF1dG9QbGFjZW1lbnRzLmluZGV4T2YocGxhY2VtZW50KSA+PSAwO1xuICB9KTtcblxuICBpZiAoYWxsb3dlZFBsYWNlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgYWxsb3dlZFBsYWNlbWVudHMgPSBwbGFjZW1lbnRzO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgY29uc29sZS5lcnJvcihbJ1BvcHBlcjogVGhlIGBhbGxvd2VkQXV0b1BsYWNlbWVudHNgIG9wdGlvbiBkaWQgbm90IGFsbG93IGFueScsICdwbGFjZW1lbnRzLiBFbnN1cmUgdGhlIGBwbGFjZW1lbnRgIG9wdGlvbiBtYXRjaGVzIHRoZSB2YXJpYXRpb24nLCAnb2YgdGhlIGFsbG93ZWQgcGxhY2VtZW50cy4nLCAnRm9yIGV4YW1wbGUsIFwiYXV0b1wiIGNhbm5vdCBiZSB1c2VkIHRvIGFsbG93IFwiYm90dG9tLXN0YXJ0XCIuJywgJ1VzZSBcImF1dG8tc3RhcnRcIiBpbnN0ZWFkLiddLmpvaW4oJyAnKSk7XG4gICAgfVxuICB9IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdOiBGbG93IHNlZW1zIHRvIGhhdmUgcHJvYmxlbXMgd2l0aCB0d28gYXJyYXkgdW5pb25zLi4uXG5cblxuICB2YXIgb3ZlcmZsb3dzID0gYWxsb3dlZFBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIGFjY1twbGFjZW1lbnRdID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHtcbiAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LFxuICAgICAgcm9vdEJvdW5kYXJ5OiByb290Qm91bmRhcnksXG4gICAgICBwYWRkaW5nOiBwYWRkaW5nXG4gICAgfSlbZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpXTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvdmVyZmxvd3MpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gb3ZlcmZsb3dzW2FdIC0gb3ZlcmZsb3dzW2JdO1xuICB9KTtcbn0iLCJpbXBvcnQgeyB0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQgfSBmcm9tIFwiLi4vZW51bXMuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcblxuZnVuY3Rpb24gZ2V0U2lkZU9mZnNldHMob3ZlcmZsb3csIHJlY3QsIHByZXZlbnRlZE9mZnNldHMpIHtcbiAgaWYgKHByZXZlbnRlZE9mZnNldHMgPT09IHZvaWQgMCkge1xuICAgIHByZXZlbnRlZE9mZnNldHMgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRvcDogb3ZlcmZsb3cudG9wIC0gcmVjdC5oZWlnaHQgLSBwcmV2ZW50ZWRPZmZzZXRzLnksXG4gICAgcmlnaHQ6IG92ZXJmbG93LnJpZ2h0IC0gcmVjdC53aWR0aCArIHByZXZlbnRlZE9mZnNldHMueCxcbiAgICBib3R0b206IG92ZXJmbG93LmJvdHRvbSAtIHJlY3QuaGVpZ2h0ICsgcHJldmVudGVkT2Zmc2V0cy55LFxuICAgIGxlZnQ6IG92ZXJmbG93LmxlZnQgLSByZWN0LndpZHRoIC0gcHJldmVudGVkT2Zmc2V0cy54XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChvdmVyZmxvdykge1xuICByZXR1cm4gW3RvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdF0uc29tZShmdW5jdGlvbiAoc2lkZSkge1xuICAgIHJldHVybiBvdmVyZmxvd1tzaWRlXSA+PSAwO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGlkZShfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBuYW1lID0gX3JlZi5uYW1lO1xuICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTtcbiAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7XG4gIHZhciBwcmV2ZW50ZWRPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wcmV2ZW50T3ZlcmZsb3c7XG4gIHZhciByZWZlcmVuY2VPdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7XG4gICAgZWxlbWVudENvbnRleHQ6ICdyZWZlcmVuY2UnXG4gIH0pO1xuICB2YXIgcG9wcGVyQWx0T3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGFsdEJvdW5kYXJ5OiB0cnVlXG4gIH0pO1xuICB2YXIgcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzID0gZ2V0U2lkZU9mZnNldHMocmVmZXJlbmNlT3ZlcmZsb3csIHJlZmVyZW5jZVJlY3QpO1xuICB2YXIgcG9wcGVyRXNjYXBlT2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKHBvcHBlckFsdE92ZXJmbG93LCBwb3BwZXJSZWN0LCBwcmV2ZW50ZWRPZmZzZXRzKTtcbiAgdmFyIGlzUmVmZXJlbmNlSGlkZGVuID0gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyk7XG4gIHZhciBoYXNQb3BwZXJFc2NhcGVkID0gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKHBvcHBlckVzY2FwZU9mZnNldHMpO1xuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0ge1xuICAgIHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0czogcmVmZXJlbmNlQ2xpcHBpbmdPZmZzZXRzLFxuICAgIHBvcHBlckVzY2FwZU9mZnNldHM6IHBvcHBlckVzY2FwZU9mZnNldHMsXG4gICAgaXNSZWZlcmVuY2VIaWRkZW46IGlzUmVmZXJlbmNlSGlkZGVuLFxuICAgIGhhc1BvcHBlckVzY2FwZWQ6IGhhc1BvcHBlckVzY2FwZWRcbiAgfTtcbiAgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciwge1xuICAgICdkYXRhLXBvcHBlci1yZWZlcmVuY2UtaGlkZGVuJzogaXNSZWZlcmVuY2VIaWRkZW4sXG4gICAgJ2RhdGEtcG9wcGVyLWVzY2FwZWQnOiBoYXNQb3BwZXJFc2NhcGVkXG4gIH0pO1xufSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cblxuZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnaGlkZScsXG4gIGVuYWJsZWQ6IHRydWUsXG4gIHBoYXNlOiAnbWFpbicsXG4gIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J10sXG4gIGZuOiBoaWRlXG59OyIsImltcG9ydCBnZXRCYXNlUGxhY2VtZW50IGZyb20gXCIuLi91dGlscy9nZXRCYXNlUGxhY2VtZW50LmpzXCI7XG5pbXBvcnQgeyB0b3AsIGxlZnQsIHJpZ2h0LCBwbGFjZW1lbnRzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlQW5kU2tpZGRpbmdUb1hZKHBsYWNlbWVudCwgcmVjdHMsIG9mZnNldCkge1xuICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocGxhY2VtZW50KTtcbiAgdmFyIGludmVydERpc3RhbmNlID0gW2xlZnQsIHRvcF0uaW5kZXhPZihiYXNlUGxhY2VtZW50KSA+PSAwID8gLTEgOiAxO1xuXG4gIHZhciBfcmVmID0gdHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IG9mZnNldChPYmplY3QuYXNzaWduKHt9LCByZWN0cywge1xuICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gIH0pKSA6IG9mZnNldCxcbiAgICAgIHNraWRkaW5nID0gX3JlZlswXSxcbiAgICAgIGRpc3RhbmNlID0gX3JlZlsxXTtcblxuICBza2lkZGluZyA9IHNraWRkaW5nIHx8IDA7XG4gIGRpc3RhbmNlID0gKGRpc3RhbmNlIHx8IDApICogaW52ZXJ0RGlzdGFuY2U7XG4gIHJldHVybiBbbGVmdCwgcmlnaHRdLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgPj0gMCA/IHtcbiAgICB4OiBkaXN0YW5jZSxcbiAgICB5OiBza2lkZGluZ1xuICB9IDoge1xuICAgIHg6IHNraWRkaW5nLFxuICAgIHk6IGRpc3RhbmNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIG9mZnNldChfcmVmMikge1xuICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSxcbiAgICAgIG9wdGlvbnMgPSBfcmVmMi5vcHRpb25zLFxuICAgICAgbmFtZSA9IF9yZWYyLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRvZmZzZXQgPSBvcHRpb25zLm9mZnNldCxcbiAgICAgIG9mZnNldCA9IF9vcHRpb25zJG9mZnNldCA9PT0gdm9pZCAwID8gWzAsIDBdIDogX29wdGlvbnMkb2Zmc2V0O1xuICB2YXIgZGF0YSA9IHBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkge1xuICAgIGFjY1twbGFjZW1lbnRdID0gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCBzdGF0ZS5yZWN0cywgb2Zmc2V0KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIHZhciBfZGF0YSRzdGF0ZSRwbGFjZW1lbnQgPSBkYXRhW3N0YXRlLnBsYWNlbWVudF0sXG4gICAgICB4ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50LngsXG4gICAgICB5ID0gX2RhdGEkc3RhdGUkcGxhY2VtZW50Lnk7XG5cbiAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7XG4gICAgc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnggKz0geDtcbiAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueSArPSB5O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdvZmZzZXQnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sXG4gIGZuOiBvZmZzZXRcbn07IiwiaW1wb3J0IGNvbXB1dGVPZmZzZXRzIGZyb20gXCIuLi91dGlscy9jb21wdXRlT2Zmc2V0cy5qc1wiO1xuXG5mdW5jdGlvbiBwb3BwZXJPZmZzZXRzKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIC8vIE9mZnNldHMgYXJlIHRoZSBhY3R1YWwgcG9zaXRpb24gdGhlIHBvcHBlciBuZWVkcyB0byBoYXZlIHRvIGJlXG4gIC8vIHByb3Blcmx5IHBvc2l0aW9uZWQgbmVhciBpdHMgcmVmZXJlbmNlIGVsZW1lbnRcbiAgLy8gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBwbGFjZW1lbnQsIGFuZCB3aWxsIGJlIGFkanVzdGVkIGJ5XG4gIC8vIHRoZSBtb2RpZmllcnMgaW4gdGhlIG5leHQgc3RlcFxuICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gY29tcHV0ZU9mZnNldHMoe1xuICAgIHJlZmVyZW5jZTogc3RhdGUucmVjdHMucmVmZXJlbmNlLFxuICAgIGVsZW1lbnQ6IHN0YXRlLnJlY3RzLnBvcHBlcixcbiAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICBwbGFjZW1lbnQ6IHN0YXRlLnBsYWNlbWVudFxuICB9KTtcbn0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ3BvcHBlck9mZnNldHMnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ3JlYWQnLFxuICBmbjogcG9wcGVyT2Zmc2V0cyxcbiAgZGF0YToge31cbn07IiwiaW1wb3J0IHsgdG9wLCBsZWZ0LCByaWdodCwgYm90dG9tLCBzdGFydCB9IGZyb20gXCIuLi9lbnVtcy5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanNcIjtcbmltcG9ydCBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQgZnJvbSBcIi4uL3V0aWxzL2dldE1haW5BeGlzRnJvbVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IGdldEFsdEF4aXMgZnJvbSBcIi4uL3V0aWxzL2dldEFsdEF4aXMuanNcIjtcbmltcG9ydCB7IHdpdGhpbiwgd2l0aGluTWF4Q2xhbXAgfSBmcm9tIFwiLi4vdXRpbHMvd2l0aGluLmpzXCI7XG5pbXBvcnQgZ2V0TGF5b3V0UmVjdCBmcm9tIFwiLi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4uL2RvbS11dGlscy9nZXRPZmZzZXRQYXJlbnQuanNcIjtcbmltcG9ydCBkZXRlY3RPdmVyZmxvdyBmcm9tIFwiLi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCBnZXRWYXJpYXRpb24gZnJvbSBcIi4uL3V0aWxzL2dldFZhcmlhdGlvbi5qc1wiO1xuaW1wb3J0IGdldEZyZXNoU2lkZU9iamVjdCBmcm9tIFwiLi4vdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzXCI7XG5pbXBvcnQgeyBtaW4gYXMgbWF0aE1pbiwgbWF4IGFzIG1hdGhNYXggfSBmcm9tIFwiLi4vdXRpbHMvbWF0aC5qc1wiO1xuXG5mdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coX3JlZikge1xuICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLFxuICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucyxcbiAgICAgIG5hbWUgPSBfcmVmLm5hbWU7XG4gIHZhciBfb3B0aW9ucyRtYWluQXhpcyA9IG9wdGlvbnMubWFpbkF4aXMsXG4gICAgICBjaGVja01haW5BeGlzID0gX29wdGlvbnMkbWFpbkF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRtYWluQXhpcyxcbiAgICAgIF9vcHRpb25zJGFsdEF4aXMgPSBvcHRpb25zLmFsdEF4aXMsXG4gICAgICBjaGVja0FsdEF4aXMgPSBfb3B0aW9ucyRhbHRBeGlzID09PSB2b2lkIDAgPyBmYWxzZSA6IF9vcHRpb25zJGFsdEF4aXMsXG4gICAgICBib3VuZGFyeSA9IG9wdGlvbnMuYm91bmRhcnksXG4gICAgICByb290Qm91bmRhcnkgPSBvcHRpb25zLnJvb3RCb3VuZGFyeSxcbiAgICAgIGFsdEJvdW5kYXJ5ID0gb3B0aW9ucy5hbHRCb3VuZGFyeSxcbiAgICAgIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmcsXG4gICAgICBfb3B0aW9ucyR0ZXRoZXIgPSBvcHRpb25zLnRldGhlcixcbiAgICAgIHRldGhlciA9IF9vcHRpb25zJHRldGhlciA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHRldGhlcixcbiAgICAgIF9vcHRpb25zJHRldGhlck9mZnNldCA9IG9wdGlvbnMudGV0aGVyT2Zmc2V0LFxuICAgICAgdGV0aGVyT2Zmc2V0ID0gX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkdGV0aGVyT2Zmc2V0O1xuICB2YXIgb3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwge1xuICAgIGJvdW5kYXJ5OiBib3VuZGFyeSxcbiAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSxcbiAgICBwYWRkaW5nOiBwYWRkaW5nLFxuICAgIGFsdEJvdW5kYXJ5OiBhbHRCb3VuZGFyeVxuICB9KTtcbiAgdmFyIGJhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHN0YXRlLnBsYWNlbWVudCk7XG4gIHZhciB2YXJpYXRpb24gPSBnZXRWYXJpYXRpb24oc3RhdGUucGxhY2VtZW50KTtcbiAgdmFyIGlzQmFzZVBsYWNlbWVudCA9ICF2YXJpYXRpb247XG4gIHZhciBtYWluQXhpcyA9IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KTtcbiAgdmFyIGFsdEF4aXMgPSBnZXRBbHRBeGlzKG1haW5BeGlzKTtcbiAgdmFyIHBvcHBlck9mZnNldHMgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHM7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gc3RhdGUucmVjdHMucmVmZXJlbmNlO1xuICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjtcbiAgdmFyIHRldGhlck9mZnNldFZhbHVlID0gdHlwZW9mIHRldGhlck9mZnNldCA9PT0gJ2Z1bmN0aW9uJyA/IHRldGhlck9mZnNldChPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yZWN0cywge1xuICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50XG4gIH0pKSA6IHRldGhlck9mZnNldDtcbiAgdmFyIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZSA9IHR5cGVvZiB0ZXRoZXJPZmZzZXRWYWx1ZSA9PT0gJ251bWJlcicgPyB7XG4gICAgbWFpbkF4aXM6IHRldGhlck9mZnNldFZhbHVlLFxuICAgIGFsdEF4aXM6IHRldGhlck9mZnNldFZhbHVlXG4gIH0gOiBPYmplY3QuYXNzaWduKHtcbiAgICBtYWluQXhpczogMCxcbiAgICBhbHRBeGlzOiAwXG4gIH0sIHRldGhlck9mZnNldFZhbHVlKTtcbiAgdmFyIG9mZnNldE1vZGlmaWVyU3RhdGUgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldCA/IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0W3N0YXRlLnBsYWNlbWVudF0gOiBudWxsO1xuICB2YXIgZGF0YSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcblxuICBpZiAoIXBvcHBlck9mZnNldHMpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoY2hlY2tNYWluQXhpcykge1xuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQ7XG5cbiAgICB2YXIgbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gdG9wIDogbGVmdDtcbiAgICB2YXIgYWx0U2lkZSA9IG1haW5BeGlzID09PSAneScgPyBib3R0b20gOiByaWdodDtcbiAgICB2YXIgbGVuID0gbWFpbkF4aXMgPT09ICd5JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICB2YXIgb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1ttYWluQXhpc107XG4gICAgdmFyIG1pbiA9IG9mZnNldCArIG92ZXJmbG93W21haW5TaWRlXTtcbiAgICB2YXIgbWF4ID0gb2Zmc2V0IC0gb3ZlcmZsb3dbYWx0U2lkZV07XG4gICAgdmFyIGFkZGl0aXZlID0gdGV0aGVyID8gLXBvcHBlclJlY3RbbGVuXSAvIDIgOiAwO1xuICAgIHZhciBtaW5MZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gcmVmZXJlbmNlUmVjdFtsZW5dIDogcG9wcGVyUmVjdFtsZW5dO1xuICAgIHZhciBtYXhMZW4gPSB2YXJpYXRpb24gPT09IHN0YXJ0ID8gLXBvcHBlclJlY3RbbGVuXSA6IC1yZWZlcmVuY2VSZWN0W2xlbl07IC8vIFdlIG5lZWQgdG8gaW5jbHVkZSB0aGUgYXJyb3cgaW4gdGhlIGNhbGN1bGF0aW9uIHNvIHRoZSBhcnJvdyBkb2Vzbid0IGdvXG4gICAgLy8gb3V0c2lkZSB0aGUgcmVmZXJlbmNlIGJvdW5kc1xuXG4gICAgdmFyIGFycm93RWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzLmFycm93O1xuICAgIHZhciBhcnJvd1JlY3QgPSB0ZXRoZXIgJiYgYXJyb3dFbGVtZW50ID8gZ2V0TGF5b3V0UmVjdChhcnJvd0VsZW1lbnQpIDoge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIHZhciBhcnJvd1BhZGRpbmdPYmplY3QgPSBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10gPyBzdGF0ZS5tb2RpZmllcnNEYXRhWydhcnJvdyNwZXJzaXN0ZW50J10ucGFkZGluZyA6IGdldEZyZXNoU2lkZU9iamVjdCgpO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNaW4gPSBhcnJvd1BhZGRpbmdPYmplY3RbbWFpblNpZGVdO1xuICAgIHZhciBhcnJvd1BhZGRpbmdNYXggPSBhcnJvd1BhZGRpbmdPYmplY3RbYWx0U2lkZV07IC8vIElmIHRoZSByZWZlcmVuY2UgbGVuZ3RoIGlzIHNtYWxsZXIgdGhhbiB0aGUgYXJyb3cgbGVuZ3RoLCB3ZSBkb24ndCB3YW50XG4gICAgLy8gdG8gaW5jbHVkZSBpdHMgZnVsbCBzaXplIGluIHRoZSBjYWxjdWxhdGlvbi4gSWYgdGhlIHJlZmVyZW5jZSBpcyBzbWFsbFxuICAgIC8vIGFuZCBuZWFyIHRoZSBlZGdlIG9mIGEgYm91bmRhcnksIHRoZSBwb3BwZXIgY2FuIG92ZXJmbG93IGV2ZW4gaWYgdGhlXG4gICAgLy8gcmVmZXJlbmNlIGlzIG5vdCBvdmVyZmxvd2luZyBhcyB3ZWxsIChlLmcuIHZpcnR1YWwgZWxlbWVudHMgd2l0aCBub1xuICAgIC8vIHdpZHRoIG9yIGhlaWdodClcblxuICAgIHZhciBhcnJvd0xlbiA9IHdpdGhpbigwLCByZWZlcmVuY2VSZWN0W2xlbl0sIGFycm93UmVjdFtsZW5dKTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiAtIGFkZGl0aXZlIC0gYXJyb3dMZW4gLSBhcnJvd1BhZGRpbmdNaW4gLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXMgOiBtaW5MZW4gLSBhcnJvd0xlbiAtIGFycm93UGFkZGluZ01pbiAtIG5vcm1hbGl6ZWRUZXRoZXJPZmZzZXRWYWx1ZS5tYWluQXhpcztcbiAgICB2YXIgbWF4T2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gLXJlZmVyZW5jZVJlY3RbbGVuXSAvIDIgKyBhZGRpdGl2ZSArIGFycm93TGVuICsgYXJyb3dQYWRkaW5nTWF4ICsgbm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlLm1haW5BeGlzIDogbWF4TGVuICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUubWFpbkF4aXM7XG4gICAgdmFyIGFycm93T2Zmc2V0UGFyZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3cgJiYgZ2V0T2Zmc2V0UGFyZW50KHN0YXRlLmVsZW1lbnRzLmFycm93KTtcbiAgICB2YXIgY2xpZW50T2Zmc2V0ID0gYXJyb3dPZmZzZXRQYXJlbnQgPyBtYWluQXhpcyA9PT0gJ3knID8gYXJyb3dPZmZzZXRQYXJlbnQuY2xpZW50VG9wIHx8IDAgOiBhcnJvd09mZnNldFBhcmVudC5jbGllbnRMZWZ0IHx8IDAgOiAwO1xuICAgIHZhciBvZmZzZXRNb2RpZmllclZhbHVlID0gKF9vZmZzZXRNb2RpZmllclN0YXRlJCA9IG9mZnNldE1vZGlmaWVyU3RhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9mZnNldE1vZGlmaWVyU3RhdGVbbWFpbkF4aXNdKSAhPSBudWxsID8gX29mZnNldE1vZGlmaWVyU3RhdGUkIDogMDtcbiAgICB2YXIgdGV0aGVyTWluID0gb2Zmc2V0ICsgbWluT2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZSAtIGNsaWVudE9mZnNldDtcbiAgICB2YXIgdGV0aGVyTWF4ID0gb2Zmc2V0ICsgbWF4T2Zmc2V0IC0gb2Zmc2V0TW9kaWZpZXJWYWx1ZTtcbiAgICB2YXIgcHJldmVudGVkT2Zmc2V0ID0gd2l0aGluKHRldGhlciA/IG1hdGhNaW4obWluLCB0ZXRoZXJNaW4pIDogbWluLCBvZmZzZXQsIHRldGhlciA/IG1hdGhNYXgobWF4LCB0ZXRoZXJNYXgpIDogbWF4KTtcbiAgICBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldDtcbiAgICBkYXRhW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldCAtIG9mZnNldDtcbiAgfVxuXG4gIGlmIChjaGVja0FsdEF4aXMpIHtcbiAgICB2YXIgX29mZnNldE1vZGlmaWVyU3RhdGUkMjtcblxuICAgIHZhciBfbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3gnID8gdG9wIDogbGVmdDtcblxuICAgIHZhciBfYWx0U2lkZSA9IG1haW5BeGlzID09PSAneCcgPyBib3R0b20gOiByaWdodDtcblxuICAgIHZhciBfb2Zmc2V0ID0gcG9wcGVyT2Zmc2V0c1thbHRBeGlzXTtcblxuICAgIHZhciBfbGVuID0gYWx0QXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuXG4gICAgdmFyIF9taW4gPSBfb2Zmc2V0ICsgb3ZlcmZsb3dbX21haW5TaWRlXTtcblxuICAgIHZhciBfbWF4ID0gX29mZnNldCAtIG92ZXJmbG93W19hbHRTaWRlXTtcblxuICAgIHZhciBpc09yaWdpblNpZGUgPSBbdG9wLCBsZWZ0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTtcblxuICAgIHZhciBfb2Zmc2V0TW9kaWZpZXJWYWx1ZSA9IChfb2Zmc2V0TW9kaWZpZXJTdGF0ZSQyID0gb2Zmc2V0TW9kaWZpZXJTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogb2Zmc2V0TW9kaWZpZXJTdGF0ZVthbHRBeGlzXSkgIT0gbnVsbCA/IF9vZmZzZXRNb2RpZmllclN0YXRlJDIgOiAwO1xuXG4gICAgdmFyIF90ZXRoZXJNaW4gPSBpc09yaWdpblNpZGUgPyBfbWluIDogX29mZnNldCAtIHJlZmVyZW5jZVJlY3RbX2xlbl0gLSBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgKyBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcztcblxuICAgIHZhciBfdGV0aGVyTWF4ID0gaXNPcmlnaW5TaWRlID8gX29mZnNldCArIHJlZmVyZW5jZVJlY3RbX2xlbl0gKyBwb3BwZXJSZWN0W19sZW5dIC0gX29mZnNldE1vZGlmaWVyVmFsdWUgLSBub3JtYWxpemVkVGV0aGVyT2Zmc2V0VmFsdWUuYWx0QXhpcyA6IF9tYXg7XG5cbiAgICB2YXIgX3ByZXZlbnRlZE9mZnNldCA9IHRldGhlciAmJiBpc09yaWdpblNpZGUgPyB3aXRoaW5NYXhDbGFtcChfdGV0aGVyTWluLCBfb2Zmc2V0LCBfdGV0aGVyTWF4KSA6IHdpdGhpbih0ZXRoZXIgPyBfdGV0aGVyTWluIDogX21pbiwgX29mZnNldCwgdGV0aGVyID8gX3RldGhlck1heCA6IF9tYXgpO1xuXG4gICAgcG9wcGVyT2Zmc2V0c1thbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQ7XG4gICAgZGF0YVthbHRBeGlzXSA9IF9wcmV2ZW50ZWRPZmZzZXQgLSBfb2Zmc2V0O1xuICB9XG5cbiAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7XG59IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICBlbmFibGVkOiB0cnVlLFxuICBwaGFzZTogJ21haW4nLFxuICBmbjogcHJldmVudE92ZXJmbG93LFxuICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddXG59OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEFsdEF4aXMoYXhpcykge1xuICByZXR1cm4gYXhpcyA9PT0gJ3gnID8gJ3knIDogJ3gnO1xufSIsImltcG9ydCBnZXRCb3VuZGluZ0NsaWVudFJlY3QgZnJvbSBcIi4vZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZVNjcm9sbCBmcm9tIFwiLi9nZXROb2RlU2Nyb2xsLmpzXCI7XG5pbXBvcnQgZ2V0Tm9kZU5hbWUgZnJvbSBcIi4vZ2V0Tm9kZU5hbWUuanNcIjtcbmltcG9ydCB7IGlzSFRNTEVsZW1lbnQgfSBmcm9tIFwiLi9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93U2Nyb2xsQmFyWCBmcm9tIFwiLi9nZXRXaW5kb3dTY3JvbGxCYXJYLmpzXCI7XG5pbXBvcnQgZ2V0RG9jdW1lbnRFbGVtZW50IGZyb20gXCIuL2dldERvY3VtZW50RWxlbWVudC5qc1wiO1xuaW1wb3J0IGlzU2Nyb2xsUGFyZW50IGZyb20gXCIuL2lzU2Nyb2xsUGFyZW50LmpzXCI7XG5pbXBvcnQgeyByb3VuZCB9IGZyb20gXCIuLi91dGlscy9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGlzRWxlbWVudFNjYWxlZChlbGVtZW50KSB7XG4gIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHNjYWxlWCA9IHJvdW5kKHJlY3Qud2lkdGgpIC8gZWxlbWVudC5vZmZzZXRXaWR0aCB8fCAxO1xuICB2YXIgc2NhbGVZID0gcm91bmQocmVjdC5oZWlnaHQpIC8gZWxlbWVudC5vZmZzZXRIZWlnaHQgfHwgMTtcbiAgcmV0dXJuIHNjYWxlWCAhPT0gMSB8fCBzY2FsZVkgIT09IDE7XG59IC8vIFJldHVybnMgdGhlIGNvbXBvc2l0ZSByZWN0IG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gaXRzIG9mZnNldFBhcmVudC5cbi8vIENvbXBvc2l0ZSBtZWFucyBpdCB0YWtlcyBpbnRvIGFjY291bnQgdHJhbnNmb3JtcyBhcyB3ZWxsIGFzIGxheW91dC5cblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRDb21wb3NpdGVSZWN0KGVsZW1lbnRPclZpcnR1YWxFbGVtZW50LCBvZmZzZXRQYXJlbnQsIGlzRml4ZWQpIHtcbiAgaWYgKGlzRml4ZWQgPT09IHZvaWQgMCkge1xuICAgIGlzRml4ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTtcbiAgdmFyIG9mZnNldFBhcmVudElzU2NhbGVkID0gaXNIVE1MRWxlbWVudChvZmZzZXRQYXJlbnQpICYmIGlzRWxlbWVudFNjYWxlZChvZmZzZXRQYXJlbnQpO1xuICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZ2V0RG9jdW1lbnRFbGVtZW50KG9mZnNldFBhcmVudCk7XG4gIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnRPclZpcnR1YWxFbGVtZW50LCBvZmZzZXRQYXJlbnRJc1NjYWxlZCk7XG4gIHZhciBzY3JvbGwgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDBcbiAgfTtcbiAgdmFyIG9mZnNldHMgPSB7XG4gICAgeDogMCxcbiAgICB5OiAwXG4gIH07XG5cbiAgaWYgKGlzT2Zmc2V0UGFyZW50QW5FbGVtZW50IHx8ICFpc09mZnNldFBhcmVudEFuRWxlbWVudCAmJiAhaXNGaXhlZCkge1xuICAgIGlmIChnZXROb2RlTmFtZShvZmZzZXRQYXJlbnQpICE9PSAnYm9keScgfHwgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvcHBlcmpzL3BvcHBlci1jb3JlL2lzc3Vlcy8xMDc4XG4gICAgaXNTY3JvbGxQYXJlbnQoZG9jdW1lbnRFbGVtZW50KSkge1xuICAgICAgc2Nyb2xsID0gZ2V0Tm9kZVNjcm9sbChvZmZzZXRQYXJlbnQpO1xuICAgIH1cblxuICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHtcbiAgICAgIG9mZnNldHMgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50LCB0cnVlKTtcbiAgICAgIG9mZnNldHMueCArPSBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDtcbiAgICAgIG9mZnNldHMueSArPSBvZmZzZXRQYXJlbnQuY2xpZW50VG9wO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiByZWN0LmxlZnQgKyBzY3JvbGwuc2Nyb2xsTGVmdCAtIG9mZnNldHMueCxcbiAgICB5OiByZWN0LnRvcCArIHNjcm9sbC5zY3JvbGxUb3AgLSBvZmZzZXRzLnksXG4gICAgd2lkdGg6IHJlY3Qud2lkdGgsXG4gICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICB9O1xufSIsImltcG9ydCBnZXRXaW5kb3dTY3JvbGwgZnJvbSBcIi4vZ2V0V2luZG93U2Nyb2xsLmpzXCI7XG5pbXBvcnQgZ2V0V2luZG93IGZyb20gXCIuL2dldFdpbmRvdy5qc1wiO1xuaW1wb3J0IHsgaXNIVE1MRWxlbWVudCB9IGZyb20gXCIuL2luc3RhbmNlT2YuanNcIjtcbmltcG9ydCBnZXRIVE1MRWxlbWVudFNjcm9sbCBmcm9tIFwiLi9nZXRIVE1MRWxlbWVudFNjcm9sbC5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Tm9kZVNjcm9sbChub2RlKSB7XG4gIGlmIChub2RlID09PSBnZXRXaW5kb3cobm9kZSkgfHwgIWlzSFRNTEVsZW1lbnQobm9kZSkpIHtcbiAgICByZXR1cm4gZ2V0V2luZG93U2Nyb2xsKG5vZGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZXRIVE1MRWxlbWVudFNjcm9sbChub2RlKTtcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEhUTUxFbGVtZW50U2Nyb2xsKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxMZWZ0OiBlbGVtZW50LnNjcm9sbExlZnQsXG4gICAgc2Nyb2xsVG9wOiBlbGVtZW50LnNjcm9sbFRvcFxuICB9O1xufSIsImltcG9ydCB7IG1vZGlmaWVyUGhhc2VzIH0gZnJvbSBcIi4uL2VudW1zLmpzXCI7IC8vIHNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDk4NzUyNTVcblxuZnVuY3Rpb24gb3JkZXIobW9kaWZpZXJzKSB7XG4gIHZhciBtYXAgPSBuZXcgTWFwKCk7XG4gIHZhciB2aXNpdGVkID0gbmV3IFNldCgpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIG1hcC5zZXQobW9kaWZpZXIubmFtZSwgbW9kaWZpZXIpO1xuICB9KTsgLy8gT24gdmlzaXRpbmcgb2JqZWN0LCBjaGVjayBmb3IgaXRzIGRlcGVuZGVuY2llcyBhbmQgdmlzaXQgdGhlbSByZWN1cnNpdmVseVxuXG4gIGZ1bmN0aW9uIHNvcnQobW9kaWZpZXIpIHtcbiAgICB2aXNpdGVkLmFkZChtb2RpZmllci5uYW1lKTtcbiAgICB2YXIgcmVxdWlyZXMgPSBbXS5jb25jYXQobW9kaWZpZXIucmVxdWlyZXMgfHwgW10sIG1vZGlmaWVyLnJlcXVpcmVzSWZFeGlzdHMgfHwgW10pO1xuICAgIHJlcXVpcmVzLmZvckVhY2goZnVuY3Rpb24gKGRlcCkge1xuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhkZXApKSB7XG4gICAgICAgIHZhciBkZXBNb2RpZmllciA9IG1hcC5nZXQoZGVwKTtcblxuICAgICAgICBpZiAoZGVwTW9kaWZpZXIpIHtcbiAgICAgICAgICBzb3J0KGRlcE1vZGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJlc3VsdC5wdXNoKG1vZGlmaWVyKTtcbiAgfVxuXG4gIG1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgIGlmICghdmlzaXRlZC5oYXMobW9kaWZpZXIubmFtZSkpIHtcbiAgICAgIC8vIGNoZWNrIGZvciB2aXNpdGVkIG9iamVjdFxuICAgICAgc29ydChtb2RpZmllcik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3JkZXJNb2RpZmllcnMobW9kaWZpZXJzKSB7XG4gIC8vIG9yZGVyIGJhc2VkIG9uIGRlcGVuZGVuY2llc1xuICB2YXIgb3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyKG1vZGlmaWVycyk7IC8vIG9yZGVyIGJhc2VkIG9uIHBoYXNlXG5cbiAgcmV0dXJuIG1vZGlmaWVyUGhhc2VzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwaGFzZSkge1xuICAgIHJldHVybiBhY2MuY29uY2F0KG9yZGVyZWRNb2RpZmllcnMuZmlsdGVyKGZ1bmN0aW9uIChtb2RpZmllcikge1xuICAgICAgcmV0dXJuIG1vZGlmaWVyLnBoYXNlID09PSBwaGFzZTtcbiAgICB9KSk7XG4gIH0sIFtdKTtcbn0iLCJpbXBvcnQgZ2V0Q29tcG9zaXRlUmVjdCBmcm9tIFwiLi9kb20tdXRpbHMvZ2V0Q29tcG9zaXRlUmVjdC5qc1wiO1xuaW1wb3J0IGdldExheW91dFJlY3QgZnJvbSBcIi4vZG9tLXV0aWxzL2dldExheW91dFJlY3QuanNcIjtcbmltcG9ydCBsaXN0U2Nyb2xsUGFyZW50cyBmcm9tIFwiLi9kb20tdXRpbHMvbGlzdFNjcm9sbFBhcmVudHMuanNcIjtcbmltcG9ydCBnZXRPZmZzZXRQYXJlbnQgZnJvbSBcIi4vZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qc1wiO1xuaW1wb3J0IGdldENvbXB1dGVkU3R5bGUgZnJvbSBcIi4vZG9tLXV0aWxzL2dldENvbXB1dGVkU3R5bGUuanNcIjtcbmltcG9ydCBvcmRlck1vZGlmaWVycyBmcm9tIFwiLi91dGlscy9vcmRlck1vZGlmaWVycy5qc1wiO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gXCIuL3V0aWxzL2RlYm91bmNlLmpzXCI7XG5pbXBvcnQgdmFsaWRhdGVNb2RpZmllcnMgZnJvbSBcIi4vdXRpbHMvdmFsaWRhdGVNb2RpZmllcnMuanNcIjtcbmltcG9ydCB1bmlxdWVCeSBmcm9tIFwiLi91dGlscy91bmlxdWVCeS5qc1wiO1xuaW1wb3J0IGdldEJhc2VQbGFjZW1lbnQgZnJvbSBcIi4vdXRpbHMvZ2V0QmFzZVBsYWNlbWVudC5qc1wiO1xuaW1wb3J0IG1lcmdlQnlOYW1lIGZyb20gXCIuL3V0aWxzL21lcmdlQnlOYW1lLmpzXCI7XG5pbXBvcnQgZGV0ZWN0T3ZlcmZsb3cgZnJvbSBcIi4vdXRpbHMvZGV0ZWN0T3ZlcmZsb3cuanNcIjtcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gXCIuL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzXCI7XG5pbXBvcnQgeyBhdXRvIH0gZnJvbSBcIi4vZW51bXMuanNcIjtcbnZhciBJTlZBTElEX0VMRU1FTlRfRVJST1IgPSAnUG9wcGVyOiBJbnZhbGlkIHJlZmVyZW5jZSBvciBwb3BwZXIgYXJndW1lbnQgcHJvdmlkZWQuIFRoZXkgbXVzdCBiZSBlaXRoZXIgYSBET00gZWxlbWVudCBvciB2aXJ0dWFsIGVsZW1lbnQuJztcbnZhciBJTkZJTklURV9MT09QX0VSUk9SID0gJ1BvcHBlcjogQW4gaW5maW5pdGUgbG9vcCBpbiB0aGUgbW9kaWZpZXJzIGN5Y2xlIGhhcyBiZWVuIGRldGVjdGVkISBUaGUgY3ljbGUgaGFzIGJlZW4gaW50ZXJydXB0ZWQgdG8gcHJldmVudCBhIGJyb3dzZXIgY3Jhc2guJztcbnZhciBERUZBVUxUX09QVElPTlMgPSB7XG4gIHBsYWNlbWVudDogJ2JvdHRvbScsXG4gIG1vZGlmaWVyczogW10sXG4gIHN0cmF0ZWd5OiAnYWJzb2x1dGUnXG59O1xuXG5mdW5jdGlvbiBhcmVWYWxpZEVsZW1lbnRzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuICFhcmdzLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gIShlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gJ2Z1bmN0aW9uJyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9wcGVyR2VuZXJhdG9yKGdlbmVyYXRvck9wdGlvbnMpIHtcbiAgaWYgKGdlbmVyYXRvck9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIGdlbmVyYXRvck9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBfZ2VuZXJhdG9yT3B0aW9ucyA9IGdlbmVyYXRvck9wdGlvbnMsXG4gICAgICBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYgPSBfZ2VuZXJhdG9yT3B0aW9ucy5kZWZhdWx0TW9kaWZpZXJzLFxuICAgICAgZGVmYXVsdE1vZGlmaWVycyA9IF9nZW5lcmF0b3JPcHRpb25zJGRlZiA9PT0gdm9pZCAwID8gW10gOiBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYsXG4gICAgICBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyID0gX2dlbmVyYXRvck9wdGlvbnMuZGVmYXVsdE9wdGlvbnMsXG4gICAgICBkZWZhdWx0T3B0aW9ucyA9IF9nZW5lcmF0b3JPcHRpb25zJGRlZjIgPT09IHZvaWQgMCA/IERFRkFVTFRfT1BUSU9OUyA6IF9nZW5lcmF0b3JPcHRpb25zJGRlZjI7XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVQb3BwZXIocmVmZXJlbmNlLCBwb3BwZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7XG4gICAgfVxuXG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICAgIG9yZGVyZWRNb2RpZmllcnM6IFtdLFxuICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TLCBkZWZhdWx0T3B0aW9ucyksXG4gICAgICBtb2RpZmllcnNEYXRhOiB7fSxcbiAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgIHJlZmVyZW5jZTogcmVmZXJlbmNlLFxuICAgICAgICBwb3BwZXI6IHBvcHBlclxuICAgICAgfSxcbiAgICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgICAgc3R5bGVzOiB7fVxuICAgIH07XG4gICAgdmFyIGVmZmVjdENsZWFudXBGbnMgPSBbXTtcbiAgICB2YXIgaXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgICB2YXIgaW5zdGFuY2UgPSB7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBzZXRPcHRpb25zOiBmdW5jdGlvbiBzZXRPcHRpb25zKHNldE9wdGlvbnNBY3Rpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygc2V0T3B0aW9uc0FjdGlvbiA9PT0gJ2Z1bmN0aW9uJyA/IHNldE9wdGlvbnNBY3Rpb24oc3RhdGUub3B0aW9ucykgOiBzZXRPcHRpb25zQWN0aW9uO1xuICAgICAgICBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCk7XG4gICAgICAgIHN0YXRlLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgc3RhdGUub3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHN0YXRlLnNjcm9sbFBhcmVudHMgPSB7XG4gICAgICAgICAgcmVmZXJlbmNlOiBpc0VsZW1lbnQocmVmZXJlbmNlKSA/IGxpc3RTY3JvbGxQYXJlbnRzKHJlZmVyZW5jZSkgOiByZWZlcmVuY2UuY29udGV4dEVsZW1lbnQgPyBsaXN0U2Nyb2xsUGFyZW50cyhyZWZlcmVuY2UuY29udGV4dEVsZW1lbnQpIDogW10sXG4gICAgICAgICAgcG9wcGVyOiBsaXN0U2Nyb2xsUGFyZW50cyhwb3BwZXIpXG4gICAgICAgIH07IC8vIE9yZGVycyB0aGUgbW9kaWZpZXJzIGJhc2VkIG9uIHRoZWlyIGRlcGVuZGVuY2llcyBhbmQgYHBoYXNlYFxuICAgICAgICAvLyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgdmFyIG9yZGVyZWRNb2RpZmllcnMgPSBvcmRlck1vZGlmaWVycyhtZXJnZUJ5TmFtZShbXS5jb25jYXQoZGVmYXVsdE1vZGlmaWVycywgc3RhdGUub3B0aW9ucy5tb2RpZmllcnMpKSk7IC8vIFN0cmlwIG91dCBkaXNhYmxlZCBtb2RpZmllcnNcblxuICAgICAgICBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzID0gb3JkZXJlZE1vZGlmaWVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICByZXR1cm4gbS5lbmFibGVkO1xuICAgICAgICB9KTsgLy8gVmFsaWRhdGUgdGhlIHByb3ZpZGVkIG1vZGlmaWVycyBzbyB0aGF0IHRoZSBjb25zdW1lciB3aWxsIGdldCB3YXJuZWRcbiAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBtb2RpZmllcnMgaXMgaW52YWxpZCBmb3IgYW55IHJlYXNvblxuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICB2YXIgbW9kaWZpZXJzID0gdW5pcXVlQnkoW10uY29uY2F0KG9yZGVyZWRNb2RpZmllcnMsIHN0YXRlLm9wdGlvbnMubW9kaWZpZXJzKSwgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lO1xuICAgICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFsaWRhdGVNb2RpZmllcnMobW9kaWZpZXJzKTtcblxuICAgICAgICAgIGlmIChnZXRCYXNlUGxhY2VtZW50KHN0YXRlLm9wdGlvbnMucGxhY2VtZW50KSA9PT0gYXV0bykge1xuICAgICAgICAgICAgdmFyIGZsaXBNb2RpZmllciA9IHN0YXRlLm9yZGVyZWRNb2RpZmllcnMuZmluZChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lO1xuICAgICAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gJ2ZsaXAnO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghZmxpcE1vZGlmaWVyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoWydQb3BwZXI6IFwiYXV0b1wiIHBsYWNlbWVudHMgcmVxdWlyZSB0aGUgXCJmbGlwXCIgbW9kaWZpZXIgYmUnLCAncHJlc2VudCBhbmQgZW5hYmxlZCB0byB3b3JrLiddLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF9nZXRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShwb3BwZXIpLFxuICAgICAgICAgICAgICBtYXJnaW5Ub3AgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5tYXJnaW5Ub3AsXG4gICAgICAgICAgICAgIG1hcmdpblJpZ2h0ID0gX2dldENvbXB1dGVkU3R5bGUubWFyZ2luUmlnaHQsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IF9nZXRDb21wdXRlZFN0eWxlLm1hcmdpbkJvdHRvbSxcbiAgICAgICAgICAgICAgbWFyZ2luTGVmdCA9IF9nZXRDb21wdXRlZFN0eWxlLm1hcmdpbkxlZnQ7IC8vIFdlIG5vIGxvbmdlciB0YWtlIGludG8gYWNjb3VudCBgbWFyZ2luc2Agb24gdGhlIHBvcHBlciwgYW5kIGl0IGNhblxuICAgICAgICAgIC8vIGNhdXNlIGJ1Z3Mgd2l0aCBwb3NpdGlvbmluZywgc28gd2UnbGwgd2FybiB0aGUgY29uc3VtZXJcblxuXG4gICAgICAgICAgaWYgKFttYXJnaW5Ub3AsIG1hcmdpblJpZ2h0LCBtYXJnaW5Cb3R0b20sIG1hcmdpbkxlZnRdLnNvbWUoZnVuY3Rpb24gKG1hcmdpbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQobWFyZ2luKTtcbiAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFsnUG9wcGVyOiBDU1MgXCJtYXJnaW5cIiBzdHlsZXMgY2Fubm90IGJlIHVzZWQgdG8gYXBwbHkgcGFkZGluZycsICdiZXR3ZWVuIHRoZSBwb3BwZXIgYW5kIGl0cyByZWZlcmVuY2UgZWxlbWVudCBvciBib3VuZGFyeS4nLCAnVG8gcmVwbGljYXRlIG1hcmdpbiwgdXNlIHRoZSBgb2Zmc2V0YCBtb2RpZmllciwgYXMgd2VsbCBhcycsICd0aGUgYHBhZGRpbmdgIG9wdGlvbiBpbiB0aGUgYHByZXZlbnRPdmVyZmxvd2AgYW5kIGBmbGlwYCcsICdtb2RpZmllcnMuJ10uam9pbignICcpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBydW5Nb2RpZmllckVmZmVjdHMoKTtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIC8vIFN5bmMgdXBkYXRlIOKAkyBpdCB3aWxsIGFsd2F5cyBiZSBleGVjdXRlZCwgZXZlbiBpZiBub3QgbmVjZXNzYXJ5LiBUaGlzXG4gICAgICAvLyBpcyB1c2VmdWwgZm9yIGxvdyBmcmVxdWVuY3kgdXBkYXRlcyB3aGVyZSBzeW5jIGJlaGF2aW9yIHNpbXBsaWZpZXMgdGhlXG4gICAgICAvLyBsb2dpYy5cbiAgICAgIC8vIEZvciBoaWdoIGZyZXF1ZW5jeSB1cGRhdGVzIChlLmcuIGByZXNpemVgIGFuZCBgc2Nyb2xsYCBldmVudHMpLCBhbHdheXNcbiAgICAgIC8vIHByZWZlciB0aGUgYXN5bmMgUG9wcGVyI3VwZGF0ZSBtZXRob2RcbiAgICAgIGZvcmNlVXBkYXRlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKGlzRGVzdHJveWVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9zdGF0ZSRlbGVtZW50cyA9IHN0YXRlLmVsZW1lbnRzLFxuICAgICAgICAgICAgcmVmZXJlbmNlID0gX3N0YXRlJGVsZW1lbnRzLnJlZmVyZW5jZSxcbiAgICAgICAgICAgIHBvcHBlciA9IF9zdGF0ZSRlbGVtZW50cy5wb3BwZXI7IC8vIERvbid0IHByb2NlZWQgaWYgYHJlZmVyZW5jZWAgb3IgYHBvcHBlcmAgYXJlIG5vdCB2YWxpZCBlbGVtZW50c1xuICAgICAgICAvLyBhbnltb3JlXG5cbiAgICAgICAgaWYgKCFhcmVWYWxpZEVsZW1lbnRzKHJlZmVyZW5jZSwgcG9wcGVyKSkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoSU5WQUxJRF9FTEVNRU5UX0VSUk9SKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gU3RvcmUgdGhlIHJlZmVyZW5jZSBhbmQgcG9wcGVyIHJlY3RzIHRvIGJlIHJlYWQgYnkgbW9kaWZpZXJzXG5cblxuICAgICAgICBzdGF0ZS5yZWN0cyA9IHtcbiAgICAgICAgICByZWZlcmVuY2U6IGdldENvbXBvc2l0ZVJlY3QocmVmZXJlbmNlLCBnZXRPZmZzZXRQYXJlbnQocG9wcGVyKSwgc3RhdGUub3B0aW9ucy5zdHJhdGVneSA9PT0gJ2ZpeGVkJyksXG4gICAgICAgICAgcG9wcGVyOiBnZXRMYXlvdXRSZWN0KHBvcHBlcilcbiAgICAgICAgfTsgLy8gTW9kaWZpZXJzIGhhdmUgdGhlIGFiaWxpdHkgdG8gcmVzZXQgdGhlIGN1cnJlbnQgdXBkYXRlIGN5Y2xlLiBUaGVcbiAgICAgICAgLy8gbW9zdCBjb21tb24gdXNlIGNhc2UgZm9yIHRoaXMgaXMgdGhlIGBmbGlwYCBtb2RpZmllciBjaGFuZ2luZyB0aGVcbiAgICAgICAgLy8gcGxhY2VtZW50LCB3aGljaCB0aGVuIG5lZWRzIHRvIHJlLXJ1biBhbGwgdGhlIG1vZGlmaWVycywgYmVjYXVzZSB0aGVcbiAgICAgICAgLy8gbG9naWMgd2FzIHByZXZpb3VzbHkgcmFuIGZvciB0aGUgcHJldmlvdXMgcGxhY2VtZW50IGFuZCBpcyB0aGVyZWZvcmVcbiAgICAgICAgLy8gc3RhbGUvaW5jb3JyZWN0XG5cbiAgICAgICAgc3RhdGUucmVzZXQgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUucGxhY2VtZW50ID0gc3RhdGUub3B0aW9ucy5wbGFjZW1lbnQ7IC8vIE9uIGVhY2ggdXBkYXRlIGN5Y2xlLCB0aGUgYG1vZGlmaWVyc0RhdGFgIHByb3BlcnR5IGZvciBlYWNoIG1vZGlmaWVyXG4gICAgICAgIC8vIGlzIGZpbGxlZCB3aXRoIHRoZSBpbml0aWFsIGRhdGEgc3BlY2lmaWVkIGJ5IHRoZSBtb2RpZmllci4gVGhpcyBtZWFuc1xuICAgICAgICAvLyBpdCBkb2Vzbid0IHBlcnNpc3QgYW5kIGlzIGZyZXNoIG9uIGVhY2ggdXBkYXRlLlxuICAgICAgICAvLyBUbyBlbnN1cmUgcGVyc2lzdGVudCBkYXRhLCB1c2UgYCR7bmFtZX0jcGVyc2lzdGVudGBcblxuICAgICAgICBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLm1vZGlmaWVyc0RhdGFbbW9kaWZpZXIubmFtZV0gPSBPYmplY3QuYXNzaWduKHt9LCBtb2RpZmllci5kYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBfX2RlYnVnX2xvb3BzX18gPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICAgIF9fZGVidWdfbG9vcHNfXyArPSAxO1xuXG4gICAgICAgICAgICBpZiAoX19kZWJ1Z19sb29wc19fID4gMTAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoSU5GSU5JVEVfTE9PUF9FUlJPUik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGF0ZS5yZXNldCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgc3RhdGUucmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX3N0YXRlJG9yZGVyZWRNb2RpZmllID0gc3RhdGUub3JkZXJlZE1vZGlmaWVyc1tpbmRleF0sXG4gICAgICAgICAgICAgIGZuID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLmZuLFxuICAgICAgICAgICAgICBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLm9wdGlvbnMsXG4gICAgICAgICAgICAgIF9vcHRpb25zID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllMiA9PT0gdm9pZCAwID8ge30gOiBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyLFxuICAgICAgICAgICAgICBuYW1lID0gX3N0YXRlJG9yZGVyZWRNb2RpZmllLm5hbWU7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IGZuKHtcbiAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgICBvcHRpb25zOiBfb3B0aW9ucyxcbiAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlXG4gICAgICAgICAgICB9KSB8fCBzdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvLyBBc3luYyBhbmQgb3B0aW1pc3RpY2FsbHkgb3B0aW1pemVkIHVwZGF0ZSDigJMgaXQgd2lsbCBub3QgYmUgZXhlY3V0ZWQgaWZcbiAgICAgIC8vIG5vdCBuZWNlc3NhcnkgKGRlYm91bmNlZCB0byBydW4gYXQgbW9zdCBvbmNlLXBlci10aWNrKVxuICAgICAgdXBkYXRlOiBkZWJvdW5jZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgcmVzb2x2ZShzdGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCk7XG4gICAgICAgIGlzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKCFhcmVWYWxpZEVsZW1lbnRzKHJlZmVyZW5jZSwgcG9wcGVyKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgICBjb25zb2xlLmVycm9yKElOVkFMSURfRUxFTUVOVF9FUlJPUik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICBpbnN0YW5jZS5zZXRPcHRpb25zKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICBpZiAoIWlzRGVzdHJveWVkICYmIG9wdGlvbnMub25GaXJzdFVwZGF0ZSkge1xuICAgICAgICBvcHRpb25zLm9uRmlyc3RVcGRhdGUoc3RhdGUpO1xuICAgICAgfVxuICAgIH0pOyAvLyBNb2RpZmllcnMgaGF2ZSB0aGUgYWJpbGl0eSB0byBleGVjdXRlIGFyYml0cmFyeSBjb2RlIGJlZm9yZSB0aGUgZmlyc3RcbiAgICAvLyB1cGRhdGUgY3ljbGUgcnVucy4gVGhleSB3aWxsIGJlIGV4ZWN1dGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSB1cGRhdGVcbiAgICAvLyBjeWNsZS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBhIG1vZGlmaWVyIGFkZHMgc29tZSBwZXJzaXN0ZW50IGRhdGEgdGhhdFxuICAgIC8vIG90aGVyIG1vZGlmaWVycyBuZWVkIHRvIHVzZSwgYnV0IHRoZSBtb2RpZmllciBpcyBydW4gYWZ0ZXIgdGhlIGRlcGVuZGVudFxuICAgIC8vIG9uZS5cblxuICAgIGZ1bmN0aW9uIHJ1bk1vZGlmaWVyRWZmZWN0cygpIHtcbiAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIG5hbWUgPSBfcmVmMy5uYW1lLFxuICAgICAgICAgICAgX3JlZjMkb3B0aW9ucyA9IF9yZWYzLm9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zID0gX3JlZjMkb3B0aW9ucyA9PT0gdm9pZCAwID8ge30gOiBfcmVmMyRvcHRpb25zLFxuICAgICAgICAgICAgZWZmZWN0ID0gX3JlZjMuZWZmZWN0O1xuXG4gICAgICAgIGlmICh0eXBlb2YgZWZmZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIGNsZWFudXBGbiA9IGVmZmVjdCh7XG4gICAgICAgICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdmFyIG5vb3BGbiA9IGZ1bmN0aW9uIG5vb3BGbigpIHt9O1xuXG4gICAgICAgICAgZWZmZWN0Q2xlYW51cEZucy5wdXNoKGNsZWFudXBGbiB8fCBub29wRm4pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCkge1xuICAgICAgZWZmZWN0Q2xlYW51cEZucy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0pO1xuICAgICAgZWZmZWN0Q2xlYW51cEZucyA9IFtdO1xuICAgIH1cblxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcbn1cbmV4cG9ydCB2YXIgY3JlYXRlUG9wcGVyID0gLyojX19QVVJFX18qL3BvcHBlckdlbmVyYXRvcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzXG5cbmV4cG9ydCB7IGRldGVjdE92ZXJmbG93IH07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVib3VuY2UoZm4pIHtcbiAgdmFyIHBlbmRpbmc7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFwZW5kaW5nKSB7XG4gICAgICBwZW5kaW5nID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcGVuZGluZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICByZXNvbHZlKGZuKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwZW5kaW5nO1xuICB9O1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQnlOYW1lKG1vZGlmaWVycykge1xuICB2YXIgbWVyZ2VkID0gbW9kaWZpZXJzLnJlZHVjZShmdW5jdGlvbiAobWVyZ2VkLCBjdXJyZW50KSB7XG4gICAgdmFyIGV4aXN0aW5nID0gbWVyZ2VkW2N1cnJlbnQubmFtZV07XG4gICAgbWVyZ2VkW2N1cnJlbnQubmFtZV0gPSBleGlzdGluZyA/IE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nLCBjdXJyZW50LCB7XG4gICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZy5vcHRpb25zLCBjdXJyZW50Lm9wdGlvbnMpLFxuICAgICAgZGF0YTogT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmcuZGF0YSwgY3VycmVudC5kYXRhKVxuICAgIH0pIDogY3VycmVudDtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9LCB7fSk7IC8vIElFMTEgZG9lcyBub3Qgc3VwcG9ydCBPYmplY3QudmFsdWVzXG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKG1lcmdlZCkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gbWVyZ2VkW2tleV07XG4gIH0pO1xufSIsImltcG9ydCB7IHBvcHBlckdlbmVyYXRvciwgZGV0ZWN0T3ZlcmZsb3cgfSBmcm9tIFwiLi9jcmVhdGVQb3BwZXIuanNcIjtcbmltcG9ydCBldmVudExpc3RlbmVycyBmcm9tIFwiLi9tb2RpZmllcnMvZXZlbnRMaXN0ZW5lcnMuanNcIjtcbmltcG9ydCBwb3BwZXJPZmZzZXRzIGZyb20gXCIuL21vZGlmaWVycy9wb3BwZXJPZmZzZXRzLmpzXCI7XG5pbXBvcnQgY29tcHV0ZVN0eWxlcyBmcm9tIFwiLi9tb2RpZmllcnMvY29tcHV0ZVN0eWxlcy5qc1wiO1xuaW1wb3J0IGFwcGx5U3R5bGVzIGZyb20gXCIuL21vZGlmaWVycy9hcHBseVN0eWxlcy5qc1wiO1xuaW1wb3J0IG9mZnNldCBmcm9tIFwiLi9tb2RpZmllcnMvb2Zmc2V0LmpzXCI7XG5pbXBvcnQgZmxpcCBmcm9tIFwiLi9tb2RpZmllcnMvZmxpcC5qc1wiO1xuaW1wb3J0IHByZXZlbnRPdmVyZmxvdyBmcm9tIFwiLi9tb2RpZmllcnMvcHJldmVudE92ZXJmbG93LmpzXCI7XG5pbXBvcnQgYXJyb3cgZnJvbSBcIi4vbW9kaWZpZXJzL2Fycm93LmpzXCI7XG5pbXBvcnQgaGlkZSBmcm9tIFwiLi9tb2RpZmllcnMvaGlkZS5qc1wiO1xudmFyIGRlZmF1bHRNb2RpZmllcnMgPSBbZXZlbnRMaXN0ZW5lcnMsIHBvcHBlck9mZnNldHMsIGNvbXB1dGVTdHlsZXMsIGFwcGx5U3R5bGVzLCBvZmZzZXQsIGZsaXAsIHByZXZlbnRPdmVyZmxvdywgYXJyb3csIGhpZGVdO1xudmFyIGNyZWF0ZVBvcHBlciA9IC8qI19fUFVSRV9fKi9wb3BwZXJHZW5lcmF0b3Ioe1xuICBkZWZhdWx0TW9kaWZpZXJzOiBkZWZhdWx0TW9kaWZpZXJzXG59KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBjcmVhdGVQb3BwZXIsIHBvcHBlckdlbmVyYXRvciwgZGVmYXVsdE1vZGlmaWVycywgZGV0ZWN0T3ZlcmZsb3cgfTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBjcmVhdGVQb3BwZXIgYXMgY3JlYXRlUG9wcGVyTGl0ZSB9IGZyb20gXCIuL3BvcHBlci1saXRlLmpzXCI7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXNcblxuZXhwb3J0ICogZnJvbSBcIi4vbW9kaWZpZXJzL2luZGV4LmpzXCI7IiwiaW1wb3J0IHsgcG9wcGVyR2VuZXJhdG9yLCBkZXRlY3RPdmVyZmxvdyB9IGZyb20gXCIuL2NyZWF0ZVBvcHBlci5qc1wiO1xuaW1wb3J0IGV2ZW50TGlzdGVuZXJzIGZyb20gXCIuL21vZGlmaWVycy9ldmVudExpc3RlbmVycy5qc1wiO1xuaW1wb3J0IHBvcHBlck9mZnNldHMgZnJvbSBcIi4vbW9kaWZpZXJzL3BvcHBlck9mZnNldHMuanNcIjtcbmltcG9ydCBjb21wdXRlU3R5bGVzIGZyb20gXCIuL21vZGlmaWVycy9jb21wdXRlU3R5bGVzLmpzXCI7XG5pbXBvcnQgYXBwbHlTdHlsZXMgZnJvbSBcIi4vbW9kaWZpZXJzL2FwcGx5U3R5bGVzLmpzXCI7XG52YXIgZGVmYXVsdE1vZGlmaWVycyA9IFtldmVudExpc3RlbmVycywgcG9wcGVyT2Zmc2V0cywgY29tcHV0ZVN0eWxlcywgYXBwbHlTdHlsZXNdO1xudmFyIGNyZWF0ZVBvcHBlciA9IC8qI19fUFVSRV9fKi9wb3BwZXJHZW5lcmF0b3Ioe1xuICBkZWZhdWx0TW9kaWZpZXJzOiBkZWZhdWx0TW9kaWZpZXJzXG59KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlc1xuXG5leHBvcnQgeyBjcmVhdGVQb3BwZXIsIHBvcHBlckdlbmVyYXRvciwgZGVmYXVsdE1vZGlmaWVycywgZGV0ZWN0T3ZlcmZsb3cgfTsiLCIvKiFcbiAgKiBCb290c3RyYXAgdjUuMi4wIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKVxuICAqIENvcHlyaWdodCAyMDExLTIwMjIgVGhlIEJvb3RzdHJhcCBBdXRob3JzIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvZ3JhcGhzL2NvbnRyaWJ1dG9ycylcbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAgKi9cbmltcG9ydCAqIGFzIFBvcHBlciBmcm9tICdAcG9wcGVyanMvY29yZSc7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogdXRpbC9pbmRleC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5jb25zdCBNQVhfVUlEID0gMTAwMDAwMDtcbmNvbnN0IE1JTExJU0VDT05EU19NVUxUSVBMSUVSID0gMTAwMDtcbmNvbnN0IFRSQU5TSVRJT05fRU5EID0gJ3RyYW5zaXRpb25lbmQnOyAvLyBTaG91dC1vdXQgQW5ndXMgQ3JvbGwgKGh0dHBzOi8vZ29vLmdsL3B4d1FHcClcblxuY29uc3QgdG9UeXBlID0gb2JqZWN0ID0+IHtcbiAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBgJHtvYmplY3R9YDtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KS5tYXRjaCgvXFxzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKTtcbn07XG4vKipcbiAqIFB1YmxpYyBVdGlsIEFQSVxuICovXG5cblxuY29uc3QgZ2V0VUlEID0gcHJlZml4ID0+IHtcbiAgZG8ge1xuICAgIHByZWZpeCArPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNQVhfVUlEKTtcbiAgfSB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSk7XG5cbiAgcmV0dXJuIHByZWZpeDtcbn07XG5cbmNvbnN0IGdldFNlbGVjdG9yID0gZWxlbWVudCA9PiB7XG4gIGxldCBzZWxlY3RvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJzLXRhcmdldCcpO1xuXG4gIGlmICghc2VsZWN0b3IgfHwgc2VsZWN0b3IgPT09ICcjJykge1xuICAgIGxldCBocmVmQXR0cmlidXRlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTsgLy8gVGhlIG9ubHkgdmFsaWQgY29udGVudCB0aGF0IGNvdWxkIGRvdWJsZSBhcyBhIHNlbGVjdG9yIGFyZSBJRHMgb3IgY2xhc3NlcyxcbiAgICAvLyBzbyBldmVyeXRoaW5nIHN0YXJ0aW5nIHdpdGggYCNgIG9yIGAuYC4gSWYgYSBcInJlYWxcIiBVUkwgaXMgdXNlZCBhcyB0aGUgc2VsZWN0b3IsXG4gICAgLy8gYGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JgIHdpbGwgcmlnaHRmdWxseSBjb21wbGFpbiBpdCBpcyBpbnZhbGlkLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzMyMjczXG5cbiAgICBpZiAoIWhyZWZBdHRyaWJ1dGUgfHwgIWhyZWZBdHRyaWJ1dGUuaW5jbHVkZXMoJyMnKSAmJiAhaHJlZkF0dHJpYnV0ZS5zdGFydHNXaXRoKCcuJykpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gLy8gSnVzdCBpbiBjYXNlIHNvbWUgQ01TIHB1dHMgb3V0IGEgZnVsbCBVUkwgd2l0aCB0aGUgYW5jaG9yIGFwcGVuZGVkXG5cblxuICAgIGlmIChocmVmQXR0cmlidXRlLmluY2x1ZGVzKCcjJykgJiYgIWhyZWZBdHRyaWJ1dGUuc3RhcnRzV2l0aCgnIycpKSB7XG4gICAgICBocmVmQXR0cmlidXRlID0gYCMke2hyZWZBdHRyaWJ1dGUuc3BsaXQoJyMnKVsxXX1gO1xuICAgIH1cblxuICAgIHNlbGVjdG9yID0gaHJlZkF0dHJpYnV0ZSAmJiBocmVmQXR0cmlidXRlICE9PSAnIycgPyBocmVmQXR0cmlidXRlLnRyaW0oKSA6IG51bGw7XG4gIH1cblxuICByZXR1cm4gc2VsZWN0b3I7XG59O1xuXG5jb25zdCBnZXRTZWxlY3RvckZyb21FbGVtZW50ID0gZWxlbWVudCA9PiB7XG4gIGNvbnN0IHNlbGVjdG9yID0gZ2V0U2VsZWN0b3IoZWxlbWVudCk7XG5cbiAgaWYgKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpID8gc2VsZWN0b3IgOiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBnZXRFbGVtZW50RnJvbVNlbGVjdG9yID0gZWxlbWVudCA9PiB7XG4gIGNvbnN0IHNlbGVjdG9yID0gZ2V0U2VsZWN0b3IoZWxlbWVudCk7XG4gIHJldHVybiBzZWxlY3RvciA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpIDogbnVsbDtcbn07XG5cbmNvbnN0IGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50ID0gZWxlbWVudCA9PiB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybiAwO1xuICB9IC8vIEdldCB0cmFuc2l0aW9uLWR1cmF0aW9uIG9mIHRoZSBlbGVtZW50XG5cblxuICBsZXQge1xuICAgIHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICB0cmFuc2l0aW9uRGVsYXlcbiAgfSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICBjb25zdCBmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiA9IE51bWJlci5wYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbik7XG4gIGNvbnN0IGZsb2F0VHJhbnNpdGlvbkRlbGF5ID0gTnVtYmVyLnBhcnNlRmxvYXQodHJhbnNpdGlvbkRlbGF5KTsgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuXG4gIGlmICghZmxvYXRUcmFuc2l0aW9uRHVyYXRpb24gJiYgIWZsb2F0VHJhbnNpdGlvbkRlbGF5KSB7XG4gICAgcmV0dXJuIDA7XG4gIH0gLy8gSWYgbXVsdGlwbGUgZHVyYXRpb25zIGFyZSBkZWZpbmVkLCB0YWtlIHRoZSBmaXJzdFxuXG5cbiAgdHJhbnNpdGlvbkR1cmF0aW9uID0gdHJhbnNpdGlvbkR1cmF0aW9uLnNwbGl0KCcsJylbMF07XG4gIHRyYW5zaXRpb25EZWxheSA9IHRyYW5zaXRpb25EZWxheS5zcGxpdCgnLCcpWzBdO1xuICByZXR1cm4gKE51bWJlci5wYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKyBOdW1iZXIucGFyc2VGbG9hdCh0cmFuc2l0aW9uRGVsYXkpKSAqIE1JTExJU0VDT05EU19NVUxUSVBMSUVSO1xufTtcblxuY29uc3QgdHJpZ2dlclRyYW5zaXRpb25FbmQgPSBlbGVtZW50ID0+IHtcbiAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChUUkFOU0lUSU9OX0VORCkpO1xufTtcblxuY29uc3QgaXNFbGVtZW50ID0gb2JqZWN0ID0+IHtcbiAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iamVjdC5qcXVlcnkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgb2JqZWN0ID0gb2JqZWN0WzBdO1xuICB9XG5cbiAgcmV0dXJuIHR5cGVvZiBvYmplY3Qubm9kZVR5cGUgIT09ICd1bmRlZmluZWQnO1xufTtcblxuY29uc3QgZ2V0RWxlbWVudCA9IG9iamVjdCA9PiB7XG4gIC8vIGl0J3MgYSBqUXVlcnkgb2JqZWN0IG9yIGEgbm9kZSBlbGVtZW50XG4gIGlmIChpc0VsZW1lbnQob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3QuanF1ZXJ5ID8gb2JqZWN0WzBdIDogb2JqZWN0O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob2JqZWN0KTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgaXNWaXNpYmxlID0gZWxlbWVudCA9PiB7XG4gIGlmICghaXNFbGVtZW50KGVsZW1lbnQpIHx8IGVsZW1lbnQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBlbGVtZW50SXNWaXNpYmxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCd2aXNpYmlsaXR5JykgPT09ICd2aXNpYmxlJzsgLy8gSGFuZGxlIGBkZXRhaWxzYCBlbGVtZW50IGFzIGl0cyBjb250ZW50IG1heSBmYWxzaWUgYXBwZWFyIHZpc2libGUgd2hlbiBpdCBpcyBjbG9zZWRcblxuICBjb25zdCBjbG9zZWREZXRhaWxzID0gZWxlbWVudC5jbG9zZXN0KCdkZXRhaWxzOm5vdChbb3Blbl0pJyk7XG5cbiAgaWYgKCFjbG9zZWREZXRhaWxzKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRJc1Zpc2libGU7XG4gIH1cblxuICBpZiAoY2xvc2VkRGV0YWlscyAhPT0gZWxlbWVudCkge1xuICAgIGNvbnN0IHN1bW1hcnkgPSBlbGVtZW50LmNsb3Nlc3QoJ3N1bW1hcnknKTtcblxuICAgIGlmIChzdW1tYXJ5ICYmIHN1bW1hcnkucGFyZW50Tm9kZSAhPT0gY2xvc2VkRGV0YWlscykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChzdW1tYXJ5ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnRJc1Zpc2libGU7XG59O1xuXG5jb25zdCBpc0Rpc2FibGVkID0gZWxlbWVudCA9PiB7XG4gIGlmICghZWxlbWVudCB8fCBlbGVtZW50Lm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIGVsZW1lbnQuZGlzYWJsZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGlzYWJsZWQ7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgIT09ICdmYWxzZSc7XG59O1xuXG5jb25zdCBmaW5kU2hhZG93Um9vdCA9IGVsZW1lbnQgPT4ge1xuICBpZiAoIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRhY2hTaGFkb3cpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSAvLyBDYW4gZmluZCB0aGUgc2hhZG93IHJvb3Qgb3RoZXJ3aXNlIGl0J2xsIHJldHVybiB0aGUgZG9jdW1lbnRcblxuXG4gIGlmICh0eXBlb2YgZWxlbWVudC5nZXRSb290Tm9kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IHJvb3QgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gICAgcmV0dXJuIHJvb3QgaW5zdGFuY2VvZiBTaGFkb3dSb290ID8gcm9vdCA6IG51bGw7XG4gIH1cblxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSAvLyB3aGVuIHdlIGRvbid0IGZpbmQgYSBzaGFkb3cgcm9vdFxuXG5cbiAgaWYgKCFlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBmaW5kU2hhZG93Um9vdChlbGVtZW50LnBhcmVudE5vZGUpO1xufTtcblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9O1xuLyoqXG4gKiBUcmljayB0byByZXN0YXJ0IGFuIGVsZW1lbnQncyBhbmltYXRpb25cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJuIHZvaWRcbiAqXG4gKiBAc2VlIGh0dHBzOi8vd3d3LmNoYXJpc3RoZW8uaW8vYmxvZy8yMDIxLzAyL3Jlc3RhcnQtYS1jc3MtYW5pbWF0aW9uLXdpdGgtamF2YXNjcmlwdC8jcmVzdGFydGluZy1hLWNzcy1hbmltYXRpb25cbiAqL1xuXG5cbmNvbnN0IHJlZmxvdyA9IGVsZW1lbnQgPT4ge1xuICBlbGVtZW50Lm9mZnNldEhlaWdodDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtZXhwcmVzc2lvbnNcbn07XG5cbmNvbnN0IGdldGpRdWVyeSA9ICgpID0+IHtcbiAgaWYgKHdpbmRvdy5qUXVlcnkgJiYgIWRvY3VtZW50LmJvZHkuaGFzQXR0cmlidXRlKCdkYXRhLWJzLW5vLWpxdWVyeScpKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5qUXVlcnk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IERPTUNvbnRlbnRMb2FkZWRDYWxsYmFja3MgPSBbXTtcblxuY29uc3Qgb25ET01Db250ZW50TG9hZGVkID0gY2FsbGJhY2sgPT4ge1xuICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gICAgLy8gYWRkIGxpc3RlbmVyIG9uIHRoZSBmaXJzdCBjYWxsIHdoZW4gdGhlIGRvY3VtZW50IGlzIGluIGxvYWRpbmcgc3RhdGVcbiAgICBpZiAoIURPTUNvbnRlbnRMb2FkZWRDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIERPTUNvbnRlbnRMb2FkZWRDYWxsYmFja3MpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBET01Db250ZW50TG9hZGVkQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn07XG5cbmNvbnN0IGlzUlRMID0gKCkgPT4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRpciA9PT0gJ3J0bCc7XG5cbmNvbnN0IGRlZmluZUpRdWVyeVBsdWdpbiA9IHBsdWdpbiA9PiB7XG4gIG9uRE9NQ29udGVudExvYWRlZCgoKSA9PiB7XG4gICAgY29uc3QgJCA9IGdldGpRdWVyeSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuXG4gICAgaWYgKCQpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBwbHVnaW4uTkFNRTtcbiAgICAgIGNvbnN0IEpRVUVSWV9OT19DT05GTElDVCA9ICQuZm5bbmFtZV07XG4gICAgICAkLmZuW25hbWVdID0gcGx1Z2luLmpRdWVyeUludGVyZmFjZTtcbiAgICAgICQuZm5bbmFtZV0uQ29uc3RydWN0b3IgPSBwbHVnaW47XG5cbiAgICAgICQuZm5bbmFtZV0ubm9Db25mbGljdCA9ICgpID0+IHtcbiAgICAgICAgJC5mbltuYW1lXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgICAgcmV0dXJuIHBsdWdpbi5qUXVlcnlJbnRlcmZhY2U7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCBleGVjdXRlID0gY2FsbGJhY2sgPT4ge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxufTtcblxuY29uc3QgZXhlY3V0ZUFmdGVyVHJhbnNpdGlvbiA9IChjYWxsYmFjaywgdHJhbnNpdGlvbkVsZW1lbnQsIHdhaXRGb3JUcmFuc2l0aW9uID0gdHJ1ZSkgPT4ge1xuICBpZiAoIXdhaXRGb3JUcmFuc2l0aW9uKSB7XG4gICAgZXhlY3V0ZShjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZHVyYXRpb25QYWRkaW5nID0gNTtcbiAgY29uc3QgZW11bGF0ZWREdXJhdGlvbiA9IGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRyYW5zaXRpb25FbGVtZW50KSArIGR1cmF0aW9uUGFkZGluZztcbiAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGhhbmRsZXIgPSAoe1xuICAgIHRhcmdldFxuICB9KSA9PiB7XG4gICAgaWYgKHRhcmdldCAhPT0gdHJhbnNpdGlvbkVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIHRyYW5zaXRpb25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoVFJBTlNJVElPTl9FTkQsIGhhbmRsZXIpO1xuICAgIGV4ZWN1dGUoY2FsbGJhY2spO1xuICB9O1xuXG4gIHRyYW5zaXRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoVFJBTlNJVElPTl9FTkQsIGhhbmRsZXIpO1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgdHJpZ2dlclRyYW5zaXRpb25FbmQodHJhbnNpdGlvbkVsZW1lbnQpO1xuICAgIH1cbiAgfSwgZW11bGF0ZWREdXJhdGlvbik7XG59O1xuLyoqXG4gKiBSZXR1cm4gdGhlIHByZXZpb3VzL25leHQgZWxlbWVudCBvZiBhIGxpc3QuXG4gKlxuICogQHBhcmFtIHthcnJheX0gbGlzdCAgICBUaGUgbGlzdCBvZiBlbGVtZW50c1xuICogQHBhcmFtIGFjdGl2ZUVsZW1lbnQgICBUaGUgYWN0aXZlIGVsZW1lbnRcbiAqIEBwYXJhbSBzaG91bGRHZXROZXh0ICAgQ2hvb3NlIHRvIGdldCBuZXh0IG9yIHByZXZpb3VzIGVsZW1lbnRcbiAqIEBwYXJhbSBpc0N5Y2xlQWxsb3dlZFxuICogQHJldHVybiB7RWxlbWVudHxlbGVtfSBUaGUgcHJvcGVyIGVsZW1lbnRcbiAqL1xuXG5cbmNvbnN0IGdldE5leHRBY3RpdmVFbGVtZW50ID0gKGxpc3QsIGFjdGl2ZUVsZW1lbnQsIHNob3VsZEdldE5leHQsIGlzQ3ljbGVBbGxvd2VkKSA9PiB7XG4gIGNvbnN0IGxpc3RMZW5ndGggPSBsaXN0Lmxlbmd0aDtcbiAgbGV0IGluZGV4ID0gbGlzdC5pbmRleE9mKGFjdGl2ZUVsZW1lbnQpOyAvLyBpZiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbGlzdCByZXR1cm4gYW4gZWxlbWVudFxuICAvLyBkZXBlbmRpbmcgb24gdGhlIGRpcmVjdGlvbiBhbmQgaWYgY3ljbGUgaXMgYWxsb3dlZFxuXG4gIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICByZXR1cm4gIXNob3VsZEdldE5leHQgJiYgaXNDeWNsZUFsbG93ZWQgPyBsaXN0W2xpc3RMZW5ndGggLSAxXSA6IGxpc3RbMF07XG4gIH1cblxuICBpbmRleCArPSBzaG91bGRHZXROZXh0ID8gMSA6IC0xO1xuXG4gIGlmIChpc0N5Y2xlQWxsb3dlZCkge1xuICAgIGluZGV4ID0gKGluZGV4ICsgbGlzdExlbmd0aCkgJSBsaXN0TGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGxpc3RbTWF0aC5tYXgoMCwgTWF0aC5taW4oaW5kZXgsIGxpc3RMZW5ndGggLSAxKSldO1xufTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiBkb20vZXZlbnQtaGFuZGxlci5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IG5hbWVzcGFjZVJlZ2V4ID0gL1teLl0qKD89XFwuLiopXFwufC4qLztcbmNvbnN0IHN0cmlwTmFtZVJlZ2V4ID0gL1xcLi4qLztcbmNvbnN0IHN0cmlwVWlkUmVnZXggPSAvOjpcXGQrJC87XG5jb25zdCBldmVudFJlZ2lzdHJ5ID0ge307IC8vIEV2ZW50cyBzdG9yYWdlXG5cbmxldCB1aWRFdmVudCA9IDE7XG5jb25zdCBjdXN0b21FdmVudHMgPSB7XG4gIG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInLFxuICBtb3VzZWxlYXZlOiAnbW91c2VvdXQnXG59O1xuY29uc3QgbmF0aXZlRXZlbnRzID0gbmV3IFNldChbJ2NsaWNrJywgJ2RibGNsaWNrJywgJ21vdXNldXAnLCAnbW91c2Vkb3duJywgJ2NvbnRleHRtZW51JywgJ21vdXNld2hlZWwnLCAnRE9NTW91c2VTY3JvbGwnLCAnbW91c2VvdmVyJywgJ21vdXNlb3V0JywgJ21vdXNlbW92ZScsICdzZWxlY3RzdGFydCcsICdzZWxlY3RlbmQnLCAna2V5ZG93bicsICdrZXlwcmVzcycsICdrZXl1cCcsICdvcmllbnRhdGlvbmNoYW5nZScsICd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCcsICdwb2ludGVyZG93bicsICdwb2ludGVybW92ZScsICdwb2ludGVydXAnLCAncG9pbnRlcmxlYXZlJywgJ3BvaW50ZXJjYW5jZWwnLCAnZ2VzdHVyZXN0YXJ0JywgJ2dlc3R1cmVjaGFuZ2UnLCAnZ2VzdHVyZWVuZCcsICdmb2N1cycsICdibHVyJywgJ2NoYW5nZScsICdyZXNldCcsICdzZWxlY3QnLCAnc3VibWl0JywgJ2ZvY3VzaW4nLCAnZm9jdXNvdXQnLCAnbG9hZCcsICd1bmxvYWQnLCAnYmVmb3JldW5sb2FkJywgJ3Jlc2l6ZScsICdtb3ZlJywgJ0RPTUNvbnRlbnRMb2FkZWQnLCAncmVhZHlzdGF0ZWNoYW5nZScsICdlcnJvcicsICdhYm9ydCcsICdzY3JvbGwnXSk7XG4vKipcbiAqIFByaXZhdGUgbWV0aG9kc1xuICovXG5cbmZ1bmN0aW9uIG1ha2VFdmVudFVpZChlbGVtZW50LCB1aWQpIHtcbiAgcmV0dXJuIHVpZCAmJiBgJHt1aWR9Ojoke3VpZEV2ZW50Kyt9YCB8fCBlbGVtZW50LnVpZEV2ZW50IHx8IHVpZEV2ZW50Kys7XG59XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRFdmVudHMoZWxlbWVudCkge1xuICBjb25zdCB1aWQgPSBtYWtlRXZlbnRVaWQoZWxlbWVudCk7XG4gIGVsZW1lbnQudWlkRXZlbnQgPSB1aWQ7XG4gIGV2ZW50UmVnaXN0cnlbdWlkXSA9IGV2ZW50UmVnaXN0cnlbdWlkXSB8fCB7fTtcbiAgcmV0dXJuIGV2ZW50UmVnaXN0cnlbdWlkXTtcbn1cblxuZnVuY3Rpb24gYm9vdHN0cmFwSGFuZGxlcihlbGVtZW50LCBmbikge1xuICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuICAgIGh5ZHJhdGVPYmooZXZlbnQsIHtcbiAgICAgIGRlbGVnYXRlVGFyZ2V0OiBlbGVtZW50XG4gICAgfSk7XG5cbiAgICBpZiAoaGFuZGxlci5vbmVPZmYpIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vZmYoZWxlbWVudCwgZXZlbnQudHlwZSwgZm4pO1xuICAgIH1cblxuICAgIHJldHVybiBmbi5hcHBseShlbGVtZW50LCBbZXZlbnRdKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYm9vdHN0cmFwRGVsZWdhdGlvbkhhbmRsZXIoZWxlbWVudCwgc2VsZWN0b3IsIGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBoYW5kbGVyKGV2ZW50KSB7XG4gICAgY29uc3QgZG9tRWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuXG4gICAgZm9yIChsZXQge1xuICAgICAgdGFyZ2V0XG4gICAgfSA9IGV2ZW50OyB0YXJnZXQgJiYgdGFyZ2V0ICE9PSB0aGlzOyB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZSkge1xuICAgICAgZm9yIChjb25zdCBkb21FbGVtZW50IG9mIGRvbUVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChkb21FbGVtZW50ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGh5ZHJhdGVPYmooZXZlbnQsIHtcbiAgICAgICAgICBkZWxlZ2F0ZVRhcmdldDogdGFyZ2V0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChoYW5kbGVyLm9uZU9mZikge1xuICAgICAgICAgIEV2ZW50SGFuZGxlci5vZmYoZWxlbWVudCwgZXZlbnQudHlwZSwgc2VsZWN0b3IsIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0YXJnZXQsIFtldmVudF0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gZmluZEhhbmRsZXIoZXZlbnRzLCBjYWxsYWJsZSwgZGVsZWdhdGlvblNlbGVjdG9yID0gbnVsbCkge1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhldmVudHMpLmZpbmQoZXZlbnQgPT4gZXZlbnQuY2FsbGFibGUgPT09IGNhbGxhYmxlICYmIGV2ZW50LmRlbGVnYXRpb25TZWxlY3RvciA9PT0gZGVsZWdhdGlvblNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUGFyYW1ldGVycyhvcmlnaW5hbFR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uKSB7XG4gIGNvbnN0IGlzRGVsZWdhdGVkID0gdHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnOyAvLyB0b2RvOiB0b29sdGlwIHBhc3NlcyBgZmFsc2VgIGluc3RlYWQgb2Ygc2VsZWN0b3IsIHNvIHdlIG5lZWQgdG8gY2hlY2tcblxuICBjb25zdCBjYWxsYWJsZSA9IGlzRGVsZWdhdGVkID8gZGVsZWdhdGlvbkZ1bmN0aW9uIDogaGFuZGxlciB8fCBkZWxlZ2F0aW9uRnVuY3Rpb247XG4gIGxldCB0eXBlRXZlbnQgPSBnZXRUeXBlRXZlbnQob3JpZ2luYWxUeXBlRXZlbnQpO1xuXG4gIGlmICghbmF0aXZlRXZlbnRzLmhhcyh0eXBlRXZlbnQpKSB7XG4gICAgdHlwZUV2ZW50ID0gb3JpZ2luYWxUeXBlRXZlbnQ7XG4gIH1cblxuICByZXR1cm4gW2lzRGVsZWdhdGVkLCBjYWxsYWJsZSwgdHlwZUV2ZW50XTtcbn1cblxuZnVuY3Rpb24gYWRkSGFuZGxlcihlbGVtZW50LCBvcmlnaW5hbFR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uLCBvbmVPZmYpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbFR5cGVFdmVudCAhPT0gJ3N0cmluZycgfHwgIWVsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgW2lzRGVsZWdhdGVkLCBjYWxsYWJsZSwgdHlwZUV2ZW50XSA9IG5vcm1hbGl6ZVBhcmFtZXRlcnMob3JpZ2luYWxUeXBlRXZlbnQsIGhhbmRsZXIsIGRlbGVnYXRpb25GdW5jdGlvbik7IC8vIGluIGNhc2Ugb2YgbW91c2VlbnRlciBvciBtb3VzZWxlYXZlIHdyYXAgdGhlIGhhbmRsZXIgd2l0aGluIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgZm9yIGl0cyBET00gcG9zaXRpb25cbiAgLy8gdGhpcyBwcmV2ZW50cyB0aGUgaGFuZGxlciBmcm9tIGJlaW5nIGRpc3BhdGNoZWQgdGhlIHNhbWUgd2F5IGFzIG1vdXNlb3ZlciBvciBtb3VzZW91dCBkb2VzXG5cbiAgaWYgKG9yaWdpbmFsVHlwZUV2ZW50IGluIGN1c3RvbUV2ZW50cykge1xuICAgIGNvbnN0IHdyYXBGdW5jdGlvbiA9IGZuID0+IHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGV2ZW50LnJlbGF0ZWRUYXJnZXQgIT09IGV2ZW50LmRlbGVnYXRlVGFyZ2V0ICYmICFldmVudC5kZWxlZ2F0ZVRhcmdldC5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY2FsbGFibGUgPSB3cmFwRnVuY3Rpb24oY2FsbGFibGUpO1xuICB9XG5cbiAgY29uc3QgZXZlbnRzID0gZ2V0RWxlbWVudEV2ZW50cyhlbGVtZW50KTtcbiAgY29uc3QgaGFuZGxlcnMgPSBldmVudHNbdHlwZUV2ZW50XSB8fCAoZXZlbnRzW3R5cGVFdmVudF0gPSB7fSk7XG4gIGNvbnN0IHByZXZpb3VzRnVuY3Rpb24gPSBmaW5kSGFuZGxlcihoYW5kbGVycywgY2FsbGFibGUsIGlzRGVsZWdhdGVkID8gaGFuZGxlciA6IG51bGwpO1xuXG4gIGlmIChwcmV2aW91c0Z1bmN0aW9uKSB7XG4gICAgcHJldmlvdXNGdW5jdGlvbi5vbmVPZmYgPSBwcmV2aW91c0Z1bmN0aW9uLm9uZU9mZiAmJiBvbmVPZmY7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdWlkID0gbWFrZUV2ZW50VWlkKGNhbGxhYmxlLCBvcmlnaW5hbFR5cGVFdmVudC5yZXBsYWNlKG5hbWVzcGFjZVJlZ2V4LCAnJykpO1xuICBjb25zdCBmbiA9IGlzRGVsZWdhdGVkID8gYm9vdHN0cmFwRGVsZWdhdGlvbkhhbmRsZXIoZWxlbWVudCwgaGFuZGxlciwgY2FsbGFibGUpIDogYm9vdHN0cmFwSGFuZGxlcihlbGVtZW50LCBjYWxsYWJsZSk7XG4gIGZuLmRlbGVnYXRpb25TZWxlY3RvciA9IGlzRGVsZWdhdGVkID8gaGFuZGxlciA6IG51bGw7XG4gIGZuLmNhbGxhYmxlID0gY2FsbGFibGU7XG4gIGZuLm9uZU9mZiA9IG9uZU9mZjtcbiAgZm4udWlkRXZlbnQgPSB1aWQ7XG4gIGhhbmRsZXJzW3VpZF0gPSBmbjtcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGVFdmVudCwgZm4sIGlzRGVsZWdhdGVkKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSGFuZGxlcihlbGVtZW50LCBldmVudHMsIHR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvblNlbGVjdG9yKSB7XG4gIGNvbnN0IGZuID0gZmluZEhhbmRsZXIoZXZlbnRzW3R5cGVFdmVudF0sIGhhbmRsZXIsIGRlbGVnYXRpb25TZWxlY3Rvcik7XG5cbiAgaWYgKCFmbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlRXZlbnQsIGZuLCBCb29sZWFuKGRlbGVnYXRpb25TZWxlY3RvcikpO1xuICBkZWxldGUgZXZlbnRzW3R5cGVFdmVudF1bZm4udWlkRXZlbnRdO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOYW1lc3BhY2VkSGFuZGxlcnMoZWxlbWVudCwgZXZlbnRzLCB0eXBlRXZlbnQsIG5hbWVzcGFjZSkge1xuICBjb25zdCBzdG9yZUVsZW1lbnRFdmVudCA9IGV2ZW50c1t0eXBlRXZlbnRdIHx8IHt9O1xuXG4gIGZvciAoY29uc3QgaGFuZGxlcktleSBvZiBPYmplY3Qua2V5cyhzdG9yZUVsZW1lbnRFdmVudCkpIHtcbiAgICBpZiAoaGFuZGxlcktleS5pbmNsdWRlcyhuYW1lc3BhY2UpKSB7XG4gICAgICBjb25zdCBldmVudCA9IHN0b3JlRWxlbWVudEV2ZW50W2hhbmRsZXJLZXldO1xuICAgICAgcmVtb3ZlSGFuZGxlcihlbGVtZW50LCBldmVudHMsIHR5cGVFdmVudCwgZXZlbnQuY2FsbGFibGUsIGV2ZW50LmRlbGVnYXRpb25TZWxlY3Rvcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFR5cGVFdmVudChldmVudCkge1xuICAvLyBhbGxvdyB0byBnZXQgdGhlIG5hdGl2ZSBldmVudHMgZnJvbSBuYW1lc3BhY2VkIGV2ZW50cyAoJ2NsaWNrLmJzLmJ1dHRvbicgLS0+ICdjbGljaycpXG4gIGV2ZW50ID0gZXZlbnQucmVwbGFjZShzdHJpcE5hbWVSZWdleCwgJycpO1xuICByZXR1cm4gY3VzdG9tRXZlbnRzW2V2ZW50XSB8fCBldmVudDtcbn1cblxuY29uc3QgRXZlbnRIYW5kbGVyID0ge1xuICBvbihlbGVtZW50LCBldmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uKSB7XG4gICAgYWRkSGFuZGxlcihlbGVtZW50LCBldmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uLCBmYWxzZSk7XG4gIH0sXG5cbiAgb25lKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24pIHtcbiAgICBhZGRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBkZWxlZ2F0aW9uRnVuY3Rpb24sIHRydWUpO1xuICB9LFxuXG4gIG9mZihlbGVtZW50LCBvcmlnaW5hbFR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiBvcmlnaW5hbFR5cGVFdmVudCAhPT0gJ3N0cmluZycgfHwgIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBbaXNEZWxlZ2F0ZWQsIGNhbGxhYmxlLCB0eXBlRXZlbnRdID0gbm9ybWFsaXplUGFyYW1ldGVycyhvcmlnaW5hbFR5cGVFdmVudCwgaGFuZGxlciwgZGVsZWdhdGlvbkZ1bmN0aW9uKTtcbiAgICBjb25zdCBpbk5hbWVzcGFjZSA9IHR5cGVFdmVudCAhPT0gb3JpZ2luYWxUeXBlRXZlbnQ7XG4gICAgY29uc3QgZXZlbnRzID0gZ2V0RWxlbWVudEV2ZW50cyhlbGVtZW50KTtcbiAgICBjb25zdCBzdG9yZUVsZW1lbnRFdmVudCA9IGV2ZW50c1t0eXBlRXZlbnRdIHx8IHt9O1xuICAgIGNvbnN0IGlzTmFtZXNwYWNlID0gb3JpZ2luYWxUeXBlRXZlbnQuc3RhcnRzV2l0aCgnLicpO1xuXG4gICAgaWYgKHR5cGVvZiBjYWxsYWJsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFNpbXBsZXN0IGNhc2U6IGhhbmRsZXIgaXMgcGFzc2VkLCByZW1vdmUgdGhhdCBsaXN0ZW5lciBPTkxZLlxuICAgICAgaWYgKCFPYmplY3Qua2V5cyhzdG9yZUVsZW1lbnRFdmVudCkubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlSGFuZGxlcihlbGVtZW50LCBldmVudHMsIHR5cGVFdmVudCwgY2FsbGFibGUsIGlzRGVsZWdhdGVkID8gaGFuZGxlciA6IG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc05hbWVzcGFjZSkge1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50RXZlbnQgb2YgT2JqZWN0LmtleXMoZXZlbnRzKSkge1xuICAgICAgICByZW1vdmVOYW1lc3BhY2VkSGFuZGxlcnMoZWxlbWVudCwgZXZlbnRzLCBlbGVtZW50RXZlbnQsIG9yaWdpbmFsVHlwZUV2ZW50LnNsaWNlKDEpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGtleUhhbmRsZXJzIG9mIE9iamVjdC5rZXlzKHN0b3JlRWxlbWVudEV2ZW50KSkge1xuICAgICAgY29uc3QgaGFuZGxlcktleSA9IGtleUhhbmRsZXJzLnJlcGxhY2Uoc3RyaXBVaWRSZWdleCwgJycpO1xuXG4gICAgICBpZiAoIWluTmFtZXNwYWNlIHx8IG9yaWdpbmFsVHlwZUV2ZW50LmluY2x1ZGVzKGhhbmRsZXJLZXkpKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gc3RvcmVFbGVtZW50RXZlbnRba2V5SGFuZGxlcnNdO1xuICAgICAgICByZW1vdmVIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cywgdHlwZUV2ZW50LCBldmVudC5jYWxsYWJsZSwgZXZlbnQuZGVsZWdhdGlvblNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdHJpZ2dlcihlbGVtZW50LCBldmVudCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgZXZlbnQgIT09ICdzdHJpbmcnIHx8ICFlbGVtZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCAkID0gZ2V0alF1ZXJ5KCk7XG4gICAgY29uc3QgdHlwZUV2ZW50ID0gZ2V0VHlwZUV2ZW50KGV2ZW50KTtcbiAgICBjb25zdCBpbk5hbWVzcGFjZSA9IGV2ZW50ICE9PSB0eXBlRXZlbnQ7XG4gICAgbGV0IGpRdWVyeUV2ZW50ID0gbnVsbDtcbiAgICBsZXQgYnViYmxlcyA9IHRydWU7XG4gICAgbGV0IG5hdGl2ZURpc3BhdGNoID0gdHJ1ZTtcbiAgICBsZXQgZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKGluTmFtZXNwYWNlICYmICQpIHtcbiAgICAgIGpRdWVyeUV2ZW50ID0gJC5FdmVudChldmVudCwgYXJncyk7XG4gICAgICAkKGVsZW1lbnQpLnRyaWdnZXIoalF1ZXJ5RXZlbnQpO1xuICAgICAgYnViYmxlcyA9ICFqUXVlcnlFdmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO1xuICAgICAgbmF0aXZlRGlzcGF0Y2ggPSAhalF1ZXJ5RXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTtcbiAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSBqUXVlcnlFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKTtcbiAgICB9XG5cbiAgICBsZXQgZXZ0ID0gbmV3IEV2ZW50KGV2ZW50LCB7XG4gICAgICBidWJibGVzLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV2dCA9IGh5ZHJhdGVPYmooZXZ0LCBhcmdzKTtcblxuICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAobmF0aXZlRGlzcGF0Y2gpIHtcbiAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldnQpO1xuICAgIH1cblxuICAgIGlmIChldnQuZGVmYXVsdFByZXZlbnRlZCAmJiBqUXVlcnlFdmVudCkge1xuICAgICAgalF1ZXJ5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZ0O1xuICB9XG5cbn07XG5cbmZ1bmN0aW9uIGh5ZHJhdGVPYmoob2JqLCBtZXRhKSB7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKG1ldGEgfHwge30pKSB7XG4gICAgdHJ5IHtcbiAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgfSBjYXRjaCAoX3VudXNlZCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblxuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogZG9tL2RhdGEuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5jb25zdCBlbGVtZW50TWFwID0gbmV3IE1hcCgpO1xuY29uc3QgRGF0YSA9IHtcbiAgc2V0KGVsZW1lbnQsIGtleSwgaW5zdGFuY2UpIHtcbiAgICBpZiAoIWVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICBlbGVtZW50TWFwLnNldChlbGVtZW50LCBuZXcgTWFwKCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGluc3RhbmNlTWFwID0gZWxlbWVudE1hcC5nZXQoZWxlbWVudCk7IC8vIG1ha2UgaXQgY2xlYXIgd2Ugb25seSB3YW50IG9uZSBpbnN0YW5jZSBwZXIgZWxlbWVudFxuICAgIC8vIGNhbiBiZSByZW1vdmVkIGxhdGVyIHdoZW4gbXVsdGlwbGUga2V5L2luc3RhbmNlcyBhcmUgZmluZSB0byBiZSB1c2VkXG5cbiAgICBpZiAoIWluc3RhbmNlTWFwLmhhcyhrZXkpICYmIGluc3RhbmNlTWFwLnNpemUgIT09IDApIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKGBCb290c3RyYXAgZG9lc24ndCBhbGxvdyBtb3JlIHRoYW4gb25lIGluc3RhbmNlIHBlciBlbGVtZW50LiBCb3VuZCBpbnN0YW5jZTogJHtBcnJheS5mcm9tKGluc3RhbmNlTWFwLmtleXMoKSlbMF19LmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGluc3RhbmNlTWFwLnNldChrZXksIGluc3RhbmNlKTtcbiAgfSxcblxuICBnZXQoZWxlbWVudCwga2V5KSB7XG4gICAgaWYgKGVsZW1lbnRNYXAuaGFzKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZWxlbWVudE1hcC5nZXQoZWxlbWVudCkuZ2V0KGtleSkgfHwgbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcblxuICByZW1vdmUoZWxlbWVudCwga2V5KSB7XG4gICAgaWYgKCFlbGVtZW50TWFwLmhhcyhlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGluc3RhbmNlTWFwID0gZWxlbWVudE1hcC5nZXQoZWxlbWVudCk7XG4gICAgaW5zdGFuY2VNYXAuZGVsZXRlKGtleSk7IC8vIGZyZWUgdXAgZWxlbWVudCByZWZlcmVuY2VzIGlmIHRoZXJlIGFyZSBubyBpbnN0YW5jZXMgbGVmdCBmb3IgYW4gZWxlbWVudFxuXG4gICAgaWYgKGluc3RhbmNlTWFwLnNpemUgPT09IDApIHtcbiAgICAgIGVsZW1lbnRNYXAuZGVsZXRlKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG59O1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IGRvbS9tYW5pcHVsYXRvci5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVEYXRhKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodmFsdWUgPT09ICdmYWxzZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodmFsdWUgPT09IE51bWJlcih2YWx1ZSkudG9TdHJpbmcoKSkge1xuICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gJ251bGwnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gIH0gY2F0Y2ggKF91bnVzZWQpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGF0YUtleShrZXkpIHtcbiAgcmV0dXJuIGtleS5yZXBsYWNlKC9bQS1aXS9nLCBjaHIgPT4gYC0ke2Noci50b0xvd2VyQ2FzZSgpfWApO1xufVxuXG5jb25zdCBNYW5pcHVsYXRvciA9IHtcbiAgc2V0RGF0YUF0dHJpYnV0ZShlbGVtZW50LCBrZXksIHZhbHVlKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYGRhdGEtYnMtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCwgdmFsdWUpO1xuICB9LFxuXG4gIHJlbW92ZURhdGFBdHRyaWJ1dGUoZWxlbWVudCwga2V5KSB7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYGRhdGEtYnMtJHtub3JtYWxpemVEYXRhS2V5KGtleSl9YCk7XG4gIH0sXG5cbiAgZ2V0RGF0YUF0dHJpYnV0ZXMoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICBjb25zdCBic0tleXMgPSBPYmplY3Qua2V5cyhlbGVtZW50LmRhdGFzZXQpLmZpbHRlcihrZXkgPT4ga2V5LnN0YXJ0c1dpdGgoJ2JzJykgJiYgIWtleS5zdGFydHNXaXRoKCdic0NvbmZpZycpKTtcblxuICAgIGZvciAoY29uc3Qga2V5IG9mIGJzS2V5cykge1xuICAgICAgbGV0IHB1cmVLZXkgPSBrZXkucmVwbGFjZSgvXmJzLywgJycpO1xuICAgICAgcHVyZUtleSA9IHB1cmVLZXkuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBwdXJlS2V5LnNsaWNlKDEsIHB1cmVLZXkubGVuZ3RoKTtcbiAgICAgIGF0dHJpYnV0ZXNbcHVyZUtleV0gPSBub3JtYWxpemVEYXRhKGVsZW1lbnQuZGF0YXNldFtrZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgfSxcblxuICBnZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIGtleSkge1xuICAgIHJldHVybiBub3JtYWxpemVEYXRhKGVsZW1lbnQuZ2V0QXR0cmlidXRlKGBkYXRhLWJzLSR7bm9ybWFsaXplRGF0YUtleShrZXkpfWApKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IHV0aWwvY29uZmlnLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIENvbmZpZyB7XG4gIC8vIEdldHRlcnNcbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignWW91IGhhdmUgdG8gaW1wbGVtZW50IHRoZSBzdGF0aWMgbWV0aG9kIFwiTkFNRVwiLCBmb3IgZWFjaCBjb21wb25lbnQhJyk7XG4gIH1cblxuICBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IHRoaXMuX21lcmdlQ29uZmlnT2JqKGNvbmZpZyk7XG4gICAgY29uZmlnID0gdGhpcy5fY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpO1xuXG4gICAgdGhpcy5fdHlwZUNoZWNrQ29uZmlnKGNvbmZpZyk7XG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX2NvbmZpZ0FmdGVyTWVyZ2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9tZXJnZUNvbmZpZ09iaihjb25maWcsIGVsZW1lbnQpIHtcbiAgICBjb25zdCBqc29uQ29uZmlnID0gaXNFbGVtZW50KGVsZW1lbnQpID8gTWFuaXB1bGF0b3IuZ2V0RGF0YUF0dHJpYnV0ZShlbGVtZW50LCAnY29uZmlnJykgOiB7fTsgLy8gdHJ5IHRvIHBhcnNlXG5cbiAgICByZXR1cm4geyAuLi50aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsXG4gICAgICAuLi4odHlwZW9mIGpzb25Db25maWcgPT09ICdvYmplY3QnID8ganNvbkNvbmZpZyA6IHt9KSxcbiAgICAgIC4uLihpc0VsZW1lbnQoZWxlbWVudCkgPyBNYW5pcHVsYXRvci5nZXREYXRhQXR0cmlidXRlcyhlbGVtZW50KSA6IHt9KSxcbiAgICAgIC4uLih0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0JyA/IGNvbmZpZyA6IHt9KVxuICAgIH07XG4gIH1cblxuICBfdHlwZUNoZWNrQ29uZmlnKGNvbmZpZywgY29uZmlnVHlwZXMgPSB0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKSB7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBPYmplY3Qua2V5cyhjb25maWdUeXBlcykpIHtcbiAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZXMgPSBjb25maWdUeXBlc1twcm9wZXJ0eV07XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbmZpZ1twcm9wZXJ0eV07XG4gICAgICBjb25zdCB2YWx1ZVR5cGUgPSBpc0VsZW1lbnQodmFsdWUpID8gJ2VsZW1lbnQnIDogdG9UeXBlKHZhbHVlKTtcblxuICAgICAgaWYgKCFuZXcgUmVnRXhwKGV4cGVjdGVkVHlwZXMpLnRlc3QodmFsdWVUeXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3RoaXMuY29uc3RydWN0b3IuTkFNRS50b1VwcGVyQ2FzZSgpfTogT3B0aW9uIFwiJHtwcm9wZXJ0eX1cIiBwcm92aWRlZCB0eXBlIFwiJHt2YWx1ZVR5cGV9XCIgYnV0IGV4cGVjdGVkIHR5cGUgXCIke2V4cGVjdGVkVHlwZXN9XCIuYCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiBiYXNlLWNvbXBvbmVudC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IFZFUlNJT04gPSAnNS4yLjAnO1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgQmFzZUNvbXBvbmVudCBleHRlbmRzIENvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgZWxlbWVudCA9IGdldEVsZW1lbnQoZWxlbWVudCk7XG5cbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICBEYXRhLnNldCh0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLCB0aGlzKTtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgRGF0YS5yZW1vdmUodGhpcy5fZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSk7XG4gICAgRXZlbnRIYW5kbGVyLm9mZih0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLkVWRU5UX0tFWSk7XG5cbiAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xuICAgICAgdGhpc1twcm9wZXJ0eU5hbWVdID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBfcXVldWVDYWxsYmFjayhjYWxsYmFjaywgZWxlbWVudCwgaXNBbmltYXRlZCA9IHRydWUpIHtcbiAgICBleGVjdXRlQWZ0ZXJUcmFuc2l0aW9uKGNhbGxiYWNrLCBlbGVtZW50LCBpc0FuaW1hdGVkKTtcbiAgfVxuXG4gIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgY29uZmlnID0gdGhpcy5fbWVyZ2VDb25maWdPYmooY29uZmlnLCB0aGlzLl9lbGVtZW50KTtcbiAgICBjb25maWcgPSB0aGlzLl9jb25maWdBZnRlck1lcmdlKGNvbmZpZyk7XG5cbiAgICB0aGlzLl90eXBlQ2hlY2tDb25maWcoY29uZmlnKTtcblxuICAgIHJldHVybiBjb25maWc7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoZWxlbWVudCkge1xuICAgIHJldHVybiBEYXRhLmdldChnZXRFbGVtZW50KGVsZW1lbnQpLCB0aGlzLkRBVEFfS0VZKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRPckNyZWF0ZUluc3RhbmNlKGVsZW1lbnQsIGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoZWxlbWVudCkgfHwgbmV3IHRoaXMoZWxlbWVudCwgdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgPyBjb25maWcgOiBudWxsKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgVkVSU0lPTigpIHtcbiAgICByZXR1cm4gVkVSU0lPTjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgREFUQV9LRVkoKSB7XG4gICAgcmV0dXJuIGBicy4ke3RoaXMuTkFNRX1gO1xuICB9XG5cbiAgc3RhdGljIGdldCBFVkVOVF9LRVkoKSB7XG4gICAgcmV0dXJuIGAuJHt0aGlzLkRBVEFfS0VZfWA7XG4gIH1cblxuICBzdGF0aWMgZXZlbnROYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gYCR7bmFtZX0ke3RoaXMuRVZFTlRfS0VZfWA7XG4gIH1cblxufVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IHV0aWwvY29tcG9uZW50LWZ1bmN0aW9ucy5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG5cbmNvbnN0IGVuYWJsZURpc21pc3NUcmlnZ2VyID0gKGNvbXBvbmVudCwgbWV0aG9kID0gJ2hpZGUnKSA9PiB7XG4gIGNvbnN0IGNsaWNrRXZlbnQgPSBgY2xpY2suZGlzbWlzcyR7Y29tcG9uZW50LkVWRU5UX0tFWX1gO1xuICBjb25zdCBuYW1lID0gY29tcG9uZW50Lk5BTUU7XG4gIEV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgY2xpY2tFdmVudCwgYFtkYXRhLWJzLWRpc21pc3M9XCIke25hbWV9XCJdYCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKFsnQScsICdBUkVBJ10uaW5jbHVkZXModGhpcy50YWdOYW1lKSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNhYmxlZCh0aGlzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhcmdldCA9IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IodGhpcykgfHwgdGhpcy5jbG9zZXN0KGAuJHtuYW1lfWApO1xuICAgIGNvbnN0IGluc3RhbmNlID0gY29tcG9uZW50LmdldE9yQ3JlYXRlSW5zdGFuY2UodGFyZ2V0KTsgLy8gTWV0aG9kIGFyZ3VtZW50IGlzIGxlZnQsIGZvciBBbGVydCBhbmQgb25seSwgYXMgaXQgZG9lc24ndCBpbXBsZW1lbnQgdGhlICdoaWRlJyBtZXRob2RcblxuICAgIGluc3RhbmNlW21ldGhvZF0oKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IGFsZXJ0LmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSRmID0gJ2FsZXJ0JztcbmNvbnN0IERBVEFfS0VZJGEgPSAnYnMuYWxlcnQnO1xuY29uc3QgRVZFTlRfS0VZJGIgPSBgLiR7REFUQV9LRVkkYX1gO1xuY29uc3QgRVZFTlRfQ0xPU0UgPSBgY2xvc2Uke0VWRU5UX0tFWSRifWA7XG5jb25zdCBFVkVOVF9DTE9TRUQgPSBgY2xvc2VkJHtFVkVOVF9LRVkkYn1gO1xuY29uc3QgQ0xBU1NfTkFNRV9GQURFJDUgPSAnZmFkZSc7XG5jb25zdCBDTEFTU19OQU1FX1NIT1ckOCA9ICdzaG93Jztcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIEFsZXJ0IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIC8vIEdldHRlcnNcbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJGY7XG4gIH0gLy8gUHVibGljXG5cblxuICBjbG9zZSgpIHtcbiAgICBjb25zdCBjbG9zZUV2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfQ0xPU0UpO1xuXG4gICAgaWYgKGNsb3NlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckOCk7XG5cbiAgICBjb25zdCBpc0FuaW1hdGVkID0gdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9GQURFJDUpO1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjaygoKSA9PiB0aGlzLl9kZXN0cm95RWxlbWVudCgpLCB0aGlzLl9lbGVtZW50LCBpc0FuaW1hdGVkKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfZGVzdHJveUVsZW1lbnQoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcblxuICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0NMT1NFRCk7XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IEFsZXJ0LmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCB8fCBjb25maWcuc3RhcnRzV2l0aCgnXycpIHx8IGNvbmZpZyA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgfVxuXG4gICAgICBkYXRhW2NvbmZpZ10odGhpcyk7XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICovXG5cblxuZW5hYmxlRGlzbWlzc1RyaWdnZXIoQWxlcnQsICdjbG9zZScpO1xuLyoqXG4gKiBqUXVlcnlcbiAqL1xuXG5kZWZpbmVKUXVlcnlQbHVnaW4oQWxlcnQpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IGJ1dHRvbi5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkZSA9ICdidXR0b24nO1xuY29uc3QgREFUQV9LRVkkOSA9ICdicy5idXR0b24nO1xuY29uc3QgRVZFTlRfS0VZJGEgPSBgLiR7REFUQV9LRVkkOX1gO1xuY29uc3QgREFUQV9BUElfS0VZJDYgPSAnLmRhdGEtYXBpJztcbmNvbnN0IENMQVNTX05BTUVfQUNUSVZFJDMgPSAnYWN0aXZlJztcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFJDUgPSAnW2RhdGEtYnMtdG9nZ2xlPVwiYnV0dG9uXCJdJztcbmNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJJDYgPSBgY2xpY2ske0VWRU5UX0tFWSRhfSR7REFUQV9BUElfS0VZJDZ9YDtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIEJ1dHRvbiBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICAvLyBHZXR0ZXJzXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSRlO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgdG9nZ2xlKCkge1xuICAgIC8vIFRvZ2dsZSBjbGFzcyBhbmQgc3luYyB0aGUgYGFyaWEtcHJlc3NlZGAgYXR0cmlidXRlIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYC50b2dnbGUoKWAgbWV0aG9kXG4gICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShDTEFTU19OQU1FX0FDVElWRSQzKSk7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IEJ1dHRvbi5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMpO1xuXG4gICAgICBpZiAoY29uZmlnID09PSAndG9nZ2xlJykge1xuICAgICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDYsIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDUsIGV2ZW50ID0+IHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgYnV0dG9uID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoU0VMRUNUT1JfREFUQV9UT0dHTEUkNSk7XG4gIGNvbnN0IGRhdGEgPSBCdXR0b24uZ2V0T3JDcmVhdGVJbnN0YW5jZShidXR0b24pO1xuICBkYXRhLnRvZ2dsZSgpO1xufSk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihCdXR0b24pO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IGRvbS9zZWxlY3Rvci1lbmdpbmUuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBTZWxlY3RvckVuZ2luZSA9IHtcbiAgZmluZChzZWxlY3RvciwgZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHJldHVybiBbXS5jb25jYXQoLi4uRWxlbWVudC5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbC5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKSk7XG4gIH0sXG5cbiAgZmluZE9uZShzZWxlY3RvciwgZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHJldHVybiBFbGVtZW50LnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yLmNhbGwoZWxlbWVudCwgc2VsZWN0b3IpO1xuICB9LFxuXG4gIGNoaWxkcmVuKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIFtdLmNvbmNhdCguLi5lbGVtZW50LmNoaWxkcmVuKS5maWx0ZXIoY2hpbGQgPT4gY2hpbGQubWF0Y2hlcyhzZWxlY3RvcikpO1xuICB9LFxuXG4gIHBhcmVudHMoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBjb25zdCBwYXJlbnRzID0gW107XG4gICAgbGV0IGFuY2VzdG9yID0gZWxlbWVudC5wYXJlbnROb2RlLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuXG4gICAgd2hpbGUgKGFuY2VzdG9yKSB7XG4gICAgICBwYXJlbnRzLnB1c2goYW5jZXN0b3IpO1xuICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnROb2RlLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJlbnRzO1xuICB9LFxuXG4gIHByZXYoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICBsZXQgcHJldmlvdXMgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgICB3aGlsZSAocHJldmlvdXMpIHtcbiAgICAgIGlmIChwcmV2aW91cy5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gW3ByZXZpb3VzXTtcbiAgICAgIH1cblxuICAgICAgcHJldmlvdXMgPSBwcmV2aW91cy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIH1cblxuICAgIHJldHVybiBbXTtcbiAgfSxcblxuICAvLyBUT0RPOiB0aGlzIGlzIG5vdyB1bnVzZWQ7IHJlbW92ZSBsYXRlciBhbG9uZyB3aXRoIHByZXYoKVxuICBuZXh0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgbGV0IG5leHQgPSBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcblxuICAgIHdoaWxlIChuZXh0KSB7XG4gICAgICBpZiAobmV4dC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gW25leHRdO1xuICAgICAgfVxuXG4gICAgICBuZXh0ID0gbmV4dC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdO1xuICB9LFxuXG4gIGZvY3VzYWJsZUNoaWxkcmVuKGVsZW1lbnQpIHtcbiAgICBjb25zdCBmb2N1c2FibGVzID0gWydhJywgJ2J1dHRvbicsICdpbnB1dCcsICd0ZXh0YXJlYScsICdzZWxlY3QnLCAnZGV0YWlscycsICdbdGFiaW5kZXhdJywgJ1tjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdJ10ubWFwKHNlbGVjdG9yID0+IGAke3NlbGVjdG9yfTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pYCkuam9pbignLCcpO1xuICAgIHJldHVybiB0aGlzLmZpbmQoZm9jdXNhYmxlcywgZWxlbWVudCkuZmlsdGVyKGVsID0+ICFpc0Rpc2FibGVkKGVsKSAmJiBpc1Zpc2libGUoZWwpKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IHV0aWwvc3dpcGUuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJGQgPSAnc3dpcGUnO1xuY29uc3QgRVZFTlRfS0VZJDkgPSAnLmJzLnN3aXBlJztcbmNvbnN0IEVWRU5UX1RPVUNIU1RBUlQgPSBgdG91Y2hzdGFydCR7RVZFTlRfS0VZJDl9YDtcbmNvbnN0IEVWRU5UX1RPVUNITU9WRSA9IGB0b3VjaG1vdmUke0VWRU5UX0tFWSQ5fWA7XG5jb25zdCBFVkVOVF9UT1VDSEVORCA9IGB0b3VjaGVuZCR7RVZFTlRfS0VZJDl9YDtcbmNvbnN0IEVWRU5UX1BPSU5URVJET1dOID0gYHBvaW50ZXJkb3duJHtFVkVOVF9LRVkkOX1gO1xuY29uc3QgRVZFTlRfUE9JTlRFUlVQID0gYHBvaW50ZXJ1cCR7RVZFTlRfS0VZJDl9YDtcbmNvbnN0IFBPSU5URVJfVFlQRV9UT1VDSCA9ICd0b3VjaCc7XG5jb25zdCBQT0lOVEVSX1RZUEVfUEVOID0gJ3Blbic7XG5jb25zdCBDTEFTU19OQU1FX1BPSU5URVJfRVZFTlQgPSAncG9pbnRlci1ldmVudCc7XG5jb25zdCBTV0lQRV9USFJFU0hPTEQgPSA0MDtcbmNvbnN0IERlZmF1bHQkYyA9IHtcbiAgZW5kQ2FsbGJhY2s6IG51bGwsXG4gIGxlZnRDYWxsYmFjazogbnVsbCxcbiAgcmlnaHRDYWxsYmFjazogbnVsbFxufTtcbmNvbnN0IERlZmF1bHRUeXBlJGMgPSB7XG4gIGVuZENhbGxiYWNrOiAnKGZ1bmN0aW9ufG51bGwpJyxcbiAgbGVmdENhbGxiYWNrOiAnKGZ1bmN0aW9ufG51bGwpJyxcbiAgcmlnaHRDYWxsYmFjazogJyhmdW5jdGlvbnxudWxsKSdcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBTd2lwZSBleHRlbmRzIENvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICBpZiAoIWVsZW1lbnQgfHwgIVN3aXBlLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICB0aGlzLl9kZWx0YVggPSAwO1xuICAgIHRoaXMuX3N1cHBvcnRQb2ludGVyRXZlbnRzID0gQm9vbGVhbih3aW5kb3cuUG9pbnRlckV2ZW50KTtcblxuICAgIHRoaXMuX2luaXRFdmVudHMoKTtcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkYztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJGM7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkZDtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgRXZlbnRIYW5kbGVyLm9mZih0aGlzLl9lbGVtZW50LCBFVkVOVF9LRVkkOSk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX3N0YXJ0KGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLl9zdXBwb3J0UG9pbnRlckV2ZW50cykge1xuICAgICAgdGhpcy5fZGVsdGFYID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9ldmVudElzUG9pbnRlclBlblRvdWNoKGV2ZW50KSkge1xuICAgICAgdGhpcy5fZGVsdGFYID0gZXZlbnQuY2xpZW50WDtcbiAgICB9XG4gIH1cblxuICBfZW5kKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50SXNQb2ludGVyUGVuVG91Y2goZXZlbnQpKSB7XG4gICAgICB0aGlzLl9kZWx0YVggPSBldmVudC5jbGllbnRYIC0gdGhpcy5fZGVsdGFYO1xuICAgIH1cblxuICAgIHRoaXMuX2hhbmRsZVN3aXBlKCk7XG5cbiAgICBleGVjdXRlKHRoaXMuX2NvbmZpZy5lbmRDYWxsYmFjayk7XG4gIH1cblxuICBfbW92ZShldmVudCkge1xuICAgIHRoaXMuX2RlbHRhWCA9IGV2ZW50LnRvdWNoZXMgJiYgZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxID8gMCA6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCAtIHRoaXMuX2RlbHRhWDtcbiAgfVxuXG4gIF9oYW5kbGVTd2lwZSgpIHtcbiAgICBjb25zdCBhYnNEZWx0YVggPSBNYXRoLmFicyh0aGlzLl9kZWx0YVgpO1xuXG4gICAgaWYgKGFic0RlbHRhWCA8PSBTV0lQRV9USFJFU0hPTEQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkaXJlY3Rpb24gPSBhYnNEZWx0YVggLyB0aGlzLl9kZWx0YVg7XG4gICAgdGhpcy5fZGVsdGFYID0gMDtcblxuICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXhlY3V0ZShkaXJlY3Rpb24gPiAwID8gdGhpcy5fY29uZmlnLnJpZ2h0Q2FsbGJhY2sgOiB0aGlzLl9jb25maWcubGVmdENhbGxiYWNrKTtcbiAgfVxuXG4gIF9pbml0RXZlbnRzKCkge1xuICAgIGlmICh0aGlzLl9zdXBwb3J0UG9pbnRlckV2ZW50cykge1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1BPSU5URVJET1dOLCBldmVudCA9PiB0aGlzLl9zdGFydChldmVudCkpO1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1BPSU5URVJVUCwgZXZlbnQgPT4gdGhpcy5fZW5kKGV2ZW50KSk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1BPSU5URVJfRVZFTlQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfVE9VQ0hTVEFSVCwgZXZlbnQgPT4gdGhpcy5fc3RhcnQoZXZlbnQpKTtcbiAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9UT1VDSE1PVkUsIGV2ZW50ID0+IHRoaXMuX21vdmUoZXZlbnQpKTtcbiAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9UT1VDSEVORCwgZXZlbnQgPT4gdGhpcy5fZW5kKGV2ZW50KSk7XG4gICAgfVxuICB9XG5cbiAgX2V2ZW50SXNQb2ludGVyUGVuVG91Y2goZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fc3VwcG9ydFBvaW50ZXJFdmVudHMgJiYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBQT0lOVEVSX1RZUEVfUEVOIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSBQT0lOVEVSX1RZUEVfVE9VQ0gpO1xuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDtcbiAgfVxuXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogY2Fyb3VzZWwuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJGMgPSAnY2Fyb3VzZWwnO1xuY29uc3QgREFUQV9LRVkkOCA9ICdicy5jYXJvdXNlbCc7XG5jb25zdCBFVkVOVF9LRVkkOCA9IGAuJHtEQVRBX0tFWSQ4fWA7XG5jb25zdCBEQVRBX0FQSV9LRVkkNSA9ICcuZGF0YS1hcGknO1xuY29uc3QgQVJST1dfTEVGVF9LRVkkMSA9ICdBcnJvd0xlZnQnO1xuY29uc3QgQVJST1dfUklHSFRfS0VZJDEgPSAnQXJyb3dSaWdodCc7XG5jb25zdCBUT1VDSEVWRU5UX0NPTVBBVF9XQUlUID0gNTAwOyAvLyBUaW1lIGZvciBtb3VzZSBjb21wYXQgZXZlbnRzIHRvIGZpcmUgYWZ0ZXIgdG91Y2hcblxuY29uc3QgT1JERVJfTkVYVCA9ICduZXh0JztcbmNvbnN0IE9SREVSX1BSRVYgPSAncHJldic7XG5jb25zdCBESVJFQ1RJT05fTEVGVCA9ICdsZWZ0JztcbmNvbnN0IERJUkVDVElPTl9SSUdIVCA9ICdyaWdodCc7XG5jb25zdCBFVkVOVF9TTElERSA9IGBzbGlkZSR7RVZFTlRfS0VZJDh9YDtcbmNvbnN0IEVWRU5UX1NMSUQgPSBgc2xpZCR7RVZFTlRfS0VZJDh9YDtcbmNvbnN0IEVWRU5UX0tFWURPV04kMSA9IGBrZXlkb3duJHtFVkVOVF9LRVkkOH1gO1xuY29uc3QgRVZFTlRfTU9VU0VFTlRFUiQxID0gYG1vdXNlZW50ZXIke0VWRU5UX0tFWSQ4fWA7XG5jb25zdCBFVkVOVF9NT1VTRUxFQVZFJDEgPSBgbW91c2VsZWF2ZSR7RVZFTlRfS0VZJDh9YDtcbmNvbnN0IEVWRU5UX0RSQUdfU1RBUlQgPSBgZHJhZ3N0YXJ0JHtFVkVOVF9LRVkkOH1gO1xuY29uc3QgRVZFTlRfTE9BRF9EQVRBX0FQSSQzID0gYGxvYWQke0VWRU5UX0tFWSQ4fSR7REFUQV9BUElfS0VZJDV9YDtcbmNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJJDUgPSBgY2xpY2ske0VWRU5UX0tFWSQ4fSR7REFUQV9BUElfS0VZJDV9YDtcbmNvbnN0IENMQVNTX05BTUVfQ0FST1VTRUwgPSAnY2Fyb3VzZWwnO1xuY29uc3QgQ0xBU1NfTkFNRV9BQ1RJVkUkMiA9ICdhY3RpdmUnO1xuY29uc3QgQ0xBU1NfTkFNRV9TTElERSA9ICdzbGlkZSc7XG5jb25zdCBDTEFTU19OQU1FX0VORCA9ICdjYXJvdXNlbC1pdGVtLWVuZCc7XG5jb25zdCBDTEFTU19OQU1FX1NUQVJUID0gJ2Nhcm91c2VsLWl0ZW0tc3RhcnQnO1xuY29uc3QgQ0xBU1NfTkFNRV9ORVhUID0gJ2Nhcm91c2VsLWl0ZW0tbmV4dCc7XG5jb25zdCBDTEFTU19OQU1FX1BSRVYgPSAnY2Fyb3VzZWwtaXRlbS1wcmV2JztcbmNvbnN0IFNFTEVDVE9SX0FDVElWRSA9ICcuYWN0aXZlJztcbmNvbnN0IFNFTEVDVE9SX0lURU0gPSAnLmNhcm91c2VsLWl0ZW0nO1xuY29uc3QgU0VMRUNUT1JfQUNUSVZFX0lURU0gPSBTRUxFQ1RPUl9BQ1RJVkUgKyBTRUxFQ1RPUl9JVEVNO1xuY29uc3QgU0VMRUNUT1JfSVRFTV9JTUcgPSAnLmNhcm91c2VsLWl0ZW0gaW1nJztcbmNvbnN0IFNFTEVDVE9SX0lORElDQVRPUlMgPSAnLmNhcm91c2VsLWluZGljYXRvcnMnO1xuY29uc3QgU0VMRUNUT1JfREFUQV9TTElERSA9ICdbZGF0YS1icy1zbGlkZV0sIFtkYXRhLWJzLXNsaWRlLXRvXSc7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1JJREUgPSAnW2RhdGEtYnMtcmlkZT1cImNhcm91c2VsXCJdJztcbmNvbnN0IEtFWV9UT19ESVJFQ1RJT04gPSB7XG4gIFtBUlJPV19MRUZUX0tFWSQxXTogRElSRUNUSU9OX1JJR0hULFxuICBbQVJST1dfUklHSFRfS0VZJDFdOiBESVJFQ1RJT05fTEVGVFxufTtcbmNvbnN0IERlZmF1bHQkYiA9IHtcbiAgaW50ZXJ2YWw6IDUwMDAsXG4gIGtleWJvYXJkOiB0cnVlLFxuICBwYXVzZTogJ2hvdmVyJyxcbiAgcmlkZTogZmFsc2UsXG4gIHRvdWNoOiB0cnVlLFxuICB3cmFwOiB0cnVlXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkYiA9IHtcbiAgaW50ZXJ2YWw6ICcobnVtYmVyfGJvb2xlYW4pJyxcbiAgLy8gVE9ETzp2NiByZW1vdmUgYm9vbGVhbiBzdXBwb3J0XG4gIGtleWJvYXJkOiAnYm9vbGVhbicsXG4gIHBhdXNlOiAnKHN0cmluZ3xib29sZWFuKScsXG4gIHJpZGU6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAgdG91Y2g6ICdib29sZWFuJyxcbiAgd3JhcDogJ2Jvb2xlYW4nXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgQ2Fyb3VzZWwgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTtcbiAgICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gICAgdGhpcy5fYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5faXNTbGlkaW5nID0gZmFsc2U7XG4gICAgdGhpcy50b3VjaFRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMuX3N3aXBlSGVscGVyID0gbnVsbDtcbiAgICB0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoU0VMRUNUT1JfSU5ESUNBVE9SUywgdGhpcy5fZWxlbWVudCk7XG5cbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5yaWRlID09PSBDTEFTU19OQU1FX0NBUk9VU0VMKSB7XG4gICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgfVxuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdCRiO1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGUkYjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSRjO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgbmV4dCgpIHtcbiAgICB0aGlzLl9zbGlkZShPUkRFUl9ORVhUKTtcbiAgfVxuXG4gIG5leHRXaGVuVmlzaWJsZSgpIHtcbiAgICAvLyBGSVhNRSBUT0RPIHVzZSBgZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlYFxuICAgIC8vIERvbid0IGNhbGwgbmV4dCB3aGVuIHRoZSBwYWdlIGlzbid0IHZpc2libGVcbiAgICAvLyBvciB0aGUgY2Fyb3VzZWwgb3IgaXRzIHBhcmVudCBpc24ndCB2aXNpYmxlXG4gICAgaWYgKCFkb2N1bWVudC5oaWRkZW4gJiYgaXNWaXNpYmxlKHRoaXMuX2VsZW1lbnQpKSB7XG4gICAgICB0aGlzLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICBwcmV2KCkge1xuICAgIHRoaXMuX3NsaWRlKE9SREVSX1BSRVYpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgaWYgKHRoaXMuX2lzU2xpZGluZykge1xuICAgICAgdHJpZ2dlclRyYW5zaXRpb25FbmQodGhpcy5fZWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xuICB9XG5cbiAgY3ljbGUoKSB7XG4gICAgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xuXG4gICAgdGhpcy5fdXBkYXRlSW50ZXJ2YWwoKTtcblxuICAgIHRoaXMuX2ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5uZXh0V2hlblZpc2libGUoKSwgdGhpcy5fY29uZmlnLmludGVydmFsKTtcbiAgfVxuXG4gIF9tYXliZUVuYWJsZUN5Y2xlKCkge1xuICAgIGlmICghdGhpcy5fY29uZmlnLnJpZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faXNTbGlkaW5nKSB7XG4gICAgICBFdmVudEhhbmRsZXIub25lKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NMSUQsICgpID0+IHRoaXMuY3ljbGUoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jeWNsZSgpO1xuICB9XG5cbiAgdG8oaW5kZXgpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuX2dldEl0ZW1zKCk7XG5cbiAgICBpZiAoaW5kZXggPiBpdGVtcy5sZW5ndGggLSAxIHx8IGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9pc1NsaWRpbmcpIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vbmUodGhpcy5fZWxlbWVudCwgRVZFTlRfU0xJRCwgKCkgPT4gdGhpcy50byhpbmRleCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZUluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2dldEFjdGl2ZSgpKTtcblxuICAgIGlmIChhY3RpdmVJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBvcmRlciA9IGluZGV4ID4gYWN0aXZlSW5kZXggPyBPUkRFUl9ORVhUIDogT1JERVJfUFJFVjtcblxuICAgIHRoaXMuX3NsaWRlKG9yZGVyLCBpdGVtc1tpbmRleF0pO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fc3dpcGVIZWxwZXIpIHtcbiAgICAgIHRoaXMuX3N3aXBlSGVscGVyLmRpc3Bvc2UoKTtcbiAgICB9XG5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2NvbmZpZ0FmdGVyTWVyZ2UoY29uZmlnKSB7XG4gICAgY29uZmlnLmRlZmF1bHRJbnRlcnZhbCA9IGNvbmZpZy5pbnRlcnZhbDtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGlmICh0aGlzLl9jb25maWcua2V5Ym9hcmQpIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9LRVlET1dOJDEsIGV2ZW50ID0+IHRoaXMuX2tleWRvd24oZXZlbnQpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLnBhdXNlID09PSAnaG92ZXInKSB7XG4gICAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VFTlRFUiQxLCAoKSA9PiB0aGlzLnBhdXNlKCkpO1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX01PVVNFTEVBVkUkMSwgKCkgPT4gdGhpcy5fbWF5YmVFbmFibGVDeWNsZSgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLnRvdWNoICYmIFN3aXBlLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgIHRoaXMuX2FkZFRvdWNoRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuICBfYWRkVG91Y2hFdmVudExpc3RlbmVycygpIHtcbiAgICBmb3IgKGNvbnN0IGltZyBvZiBTZWxlY3RvckVuZ2luZS5maW5kKFNFTEVDVE9SX0lURU1fSU1HLCB0aGlzLl9lbGVtZW50KSkge1xuICAgICAgRXZlbnRIYW5kbGVyLm9uKGltZywgRVZFTlRfRFJBR19TVEFSVCwgZXZlbnQgPT4gZXZlbnQucHJldmVudERlZmF1bHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QgZW5kQ2FsbEJhY2sgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fY29uZmlnLnBhdXNlICE9PSAnaG92ZXInKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gSWYgaXQncyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlLCBtb3VzZWVudGVyL2xlYXZlIGFyZSBmaXJlZCBhc1xuICAgICAgLy8gcGFydCBvZiB0aGUgbW91c2UgY29tcGF0aWJpbGl0eSBldmVudHMgb24gZmlyc3QgdGFwIC0gdGhlIGNhcm91c2VsXG4gICAgICAvLyB3b3VsZCBzdG9wIGN5Y2xpbmcgdW50aWwgdXNlciB0YXBwZWQgb3V0IG9mIGl0O1xuICAgICAgLy8gaGVyZSwgd2UgbGlzdGVuIGZvciB0b3VjaGVuZCwgZXhwbGljaXRseSBwYXVzZSB0aGUgY2Fyb3VzZWxcbiAgICAgIC8vIChhcyBpZiBpdCdzIHRoZSBzZWNvbmQgdGltZSB3ZSB0YXAgb24gaXQsIG1vdXNlZW50ZXIgY29tcGF0IGV2ZW50XG4gICAgICAvLyBpcyBOT1QgZmlyZWQpIGFuZCBhZnRlciBhIHRpbWVvdXQgKHRvIGFsbG93IGZvciBtb3VzZSBjb21wYXRpYmlsaXR5XG4gICAgICAvLyBldmVudHMgdG8gZmlyZSkgd2UgZXhwbGljaXRseSByZXN0YXJ0IGN5Y2xpbmdcblxuXG4gICAgICB0aGlzLnBhdXNlKCk7XG5cbiAgICAgIGlmICh0aGlzLnRvdWNoVGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50b3VjaFRpbWVvdXQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRvdWNoVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fbWF5YmVFbmFibGVDeWNsZSgpLCBUT1VDSEVWRU5UX0NPTVBBVF9XQUlUICsgdGhpcy5fY29uZmlnLmludGVydmFsKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3dpcGVDb25maWcgPSB7XG4gICAgICBsZWZ0Q2FsbGJhY2s6ICgpID0+IHRoaXMuX3NsaWRlKHRoaXMuX2RpcmVjdGlvblRvT3JkZXIoRElSRUNUSU9OX0xFRlQpKSxcbiAgICAgIHJpZ2h0Q2FsbGJhY2s6ICgpID0+IHRoaXMuX3NsaWRlKHRoaXMuX2RpcmVjdGlvblRvT3JkZXIoRElSRUNUSU9OX1JJR0hUKSksXG4gICAgICBlbmRDYWxsYmFjazogZW5kQ2FsbEJhY2tcbiAgICB9O1xuICAgIHRoaXMuX3N3aXBlSGVscGVyID0gbmV3IFN3aXBlKHRoaXMuX2VsZW1lbnQsIHN3aXBlQ29uZmlnKTtcbiAgfVxuXG4gIF9rZXlkb3duKGV2ZW50KSB7XG4gICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZXZlbnQudGFyZ2V0LnRhZ05hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGlyZWN0aW9uID0gS0VZX1RPX0RJUkVDVElPTltldmVudC5rZXldO1xuXG4gICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgdGhpcy5fc2xpZGUodGhpcy5fZGlyZWN0aW9uVG9PcmRlcihkaXJlY3Rpb24pKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0SXRlbUluZGV4KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0SXRlbXMoKS5pbmRleE9mKGVsZW1lbnQpO1xuICB9XG5cbiAgX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQoaW5kZXgpIHtcbiAgICBpZiAoIXRoaXMuX2luZGljYXRvcnNFbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlSW5kaWNhdG9yID0gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9BQ1RJVkUsIHRoaXMuX2luZGljYXRvcnNFbGVtZW50KTtcbiAgICBhY3RpdmVJbmRpY2F0b3IuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSQyKTtcbiAgICBhY3RpdmVJbmRpY2F0b3IucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKTtcbiAgICBjb25zdCBuZXdBY3RpdmVJbmRpY2F0b3IgPSBTZWxlY3RvckVuZ2luZS5maW5kT25lKGBbZGF0YS1icy1zbGlkZS10bz1cIiR7aW5kZXh9XCJdYCwgdGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpO1xuXG4gICAgaWYgKG5ld0FjdGl2ZUluZGljYXRvcikge1xuICAgICAgbmV3QWN0aXZlSW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG4gICAgICBuZXdBY3RpdmVJbmRpY2F0b3Iuc2V0QXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnLCAndHJ1ZScpO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVJbnRlcnZhbCgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fYWN0aXZlRWxlbWVudCB8fCB0aGlzLl9nZXRBY3RpdmUoKTtcblxuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnRJbnRlcnZhbCA9IE51bWJlci5wYXJzZUludChlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1icy1pbnRlcnZhbCcpLCAxMCk7XG4gICAgdGhpcy5fY29uZmlnLmludGVydmFsID0gZWxlbWVudEludGVydmFsIHx8IHRoaXMuX2NvbmZpZy5kZWZhdWx0SW50ZXJ2YWw7XG4gIH1cblxuICBfc2xpZGUob3JkZXIsIGVsZW1lbnQgPSBudWxsKSB7XG4gICAgaWYgKHRoaXMuX2lzU2xpZGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLl9nZXRBY3RpdmUoKTtcblxuICAgIGNvbnN0IGlzTmV4dCA9IG9yZGVyID09PSBPUkRFUl9ORVhUO1xuICAgIGNvbnN0IG5leHRFbGVtZW50ID0gZWxlbWVudCB8fCBnZXROZXh0QWN0aXZlRWxlbWVudCh0aGlzLl9nZXRJdGVtcygpLCBhY3RpdmVFbGVtZW50LCBpc05leHQsIHRoaXMuX2NvbmZpZy53cmFwKTtcblxuICAgIGlmIChuZXh0RWxlbWVudCA9PT0gYWN0aXZlRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHRFbGVtZW50SW5kZXggPSB0aGlzLl9nZXRJdGVtSW5kZXgobmV4dEVsZW1lbnQpO1xuXG4gICAgY29uc3QgdHJpZ2dlckV2ZW50ID0gZXZlbnROYW1lID0+IHtcbiAgICAgIHJldHVybiBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBldmVudE5hbWUsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogbmV4dEVsZW1lbnQsXG4gICAgICAgIGRpcmVjdGlvbjogdGhpcy5fb3JkZXJUb0RpcmVjdGlvbihvcmRlciksXG4gICAgICAgIGZyb206IHRoaXMuX2dldEl0ZW1JbmRleChhY3RpdmVFbGVtZW50KSxcbiAgICAgICAgdG86IG5leHRFbGVtZW50SW5kZXhcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBzbGlkZUV2ZW50ID0gdHJpZ2dlckV2ZW50KEVWRU5UX1NMSURFKTtcblxuICAgIGlmIChzbGlkZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWFjdGl2ZUVsZW1lbnQgfHwgIW5leHRFbGVtZW50KSB7XG4gICAgICAvLyBTb21lIHdlaXJkbmVzcyBpcyBoYXBwZW5pbmcsIHNvIHdlIGJhaWxcbiAgICAgIC8vIHRvZG86IGNoYW5nZSB0ZXN0cyB0aGF0IHVzZSBlbXB0eSBkaXZzIHRvIGF2b2lkIHRoaXMgY2hlY2tcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpc0N5Y2xpbmcgPSBCb29sZWFuKHRoaXMuX2ludGVydmFsKTtcbiAgICB0aGlzLnBhdXNlKCk7XG4gICAgdGhpcy5faXNTbGlkaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQobmV4dEVsZW1lbnRJbmRleCk7XG5cbiAgICB0aGlzLl9hY3RpdmVFbGVtZW50ID0gbmV4dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlyZWN0aW9uYWxDbGFzc05hbWUgPSBpc05leHQgPyBDTEFTU19OQU1FX1NUQVJUIDogQ0xBU1NfTkFNRV9FTkQ7XG4gICAgY29uc3Qgb3JkZXJDbGFzc05hbWUgPSBpc05leHQgPyBDTEFTU19OQU1FX05FWFQgOiBDTEFTU19OQU1FX1BSRVY7XG4gICAgbmV4dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChvcmRlckNsYXNzTmFtZSk7XG4gICAgcmVmbG93KG5leHRFbGVtZW50KTtcbiAgICBhY3RpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuICAgIG5leHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoZGlyZWN0aW9uYWxDbGFzc05hbWUpO1xuXG4gICAgY29uc3QgY29tcGxldGVDYWxsQmFjayA9ICgpID0+IHtcbiAgICAgIG5leHRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZGlyZWN0aW9uYWxDbGFzc05hbWUsIG9yZGVyQ2xhc3NOYW1lKTtcbiAgICAgIG5leHRFbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9BQ1RJVkUkMik7XG4gICAgICBhY3RpdmVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9BQ1RJVkUkMiwgb3JkZXJDbGFzc05hbWUsIGRpcmVjdGlvbmFsQ2xhc3NOYW1lKTtcbiAgICAgIHRoaXMuX2lzU2xpZGluZyA9IGZhbHNlO1xuICAgICAgdHJpZ2dlckV2ZW50KEVWRU5UX1NMSUQpO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlQ2FsbEJhY2ssIGFjdGl2ZUVsZW1lbnQsIHRoaXMuX2lzQW5pbWF0ZWQoKSk7XG5cbiAgICBpZiAoaXNDeWNsaW5nKSB7XG4gICAgICB0aGlzLmN5Y2xlKCk7XG4gICAgfVxuICB9XG5cbiAgX2lzQW5pbWF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0xJREUpO1xuICB9XG5cbiAgX2dldEFjdGl2ZSgpIHtcbiAgICByZXR1cm4gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9BQ1RJVkVfSVRFTSwgdGhpcy5fZWxlbWVudCk7XG4gIH1cblxuICBfZ2V0SXRlbXMoKSB7XG4gICAgcmV0dXJuIFNlbGVjdG9yRW5naW5lLmZpbmQoU0VMRUNUT1JfSVRFTSwgdGhpcy5fZWxlbWVudCk7XG4gIH1cblxuICBfY2xlYXJJbnRlcnZhbCgpIHtcbiAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuICAgICAgdGhpcy5faW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIF9kaXJlY3Rpb25Ub09yZGVyKGRpcmVjdGlvbikge1xuICAgIGlmIChpc1JUTCgpKSB7XG4gICAgICByZXR1cm4gZGlyZWN0aW9uID09PSBESVJFQ1RJT05fTEVGVCA/IE9SREVSX1BSRVYgOiBPUkRFUl9ORVhUO1xuICAgIH1cblxuICAgIHJldHVybiBkaXJlY3Rpb24gPT09IERJUkVDVElPTl9MRUZUID8gT1JERVJfTkVYVCA6IE9SREVSX1BSRVY7XG4gIH1cblxuICBfb3JkZXJUb0RpcmVjdGlvbihvcmRlcikge1xuICAgIGlmIChpc1JUTCgpKSB7XG4gICAgICByZXR1cm4gb3JkZXIgPT09IE9SREVSX1BSRVYgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICB9XG5cbiAgICByZXR1cm4gb3JkZXIgPT09IE9SREVSX1BSRVYgPyBESVJFQ1RJT05fUklHSFQgOiBESVJFQ1RJT05fTEVGVDtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gQ2Fyb3VzZWwuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLCBjb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgZGF0YS50byhjb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZGF0YVtjb25maWddID09PSB1bmRlZmluZWQgfHwgY29uZmlnLnN0YXJ0c1dpdGgoJ18nKSB8fCBjb25maWcgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICovXG5cblxuRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBFVkVOVF9DTElDS19EQVRBX0FQSSQ1LCBTRUxFQ1RPUl9EQVRBX1NMSURFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY29uc3QgdGFyZ2V0ID0gZ2V0RWxlbWVudEZyb21TZWxlY3Rvcih0aGlzKTtcblxuICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0NBUk9VU0VMKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGNvbnN0IGNhcm91c2VsID0gQ2Fyb3VzZWwuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0YXJnZXQpO1xuICBjb25zdCBzbGlkZUluZGV4ID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnMtc2xpZGUtdG8nKTtcblxuICBpZiAoc2xpZGVJbmRleCkge1xuICAgIGNhcm91c2VsLnRvKHNsaWRlSW5kZXgpO1xuXG4gICAgY2Fyb3VzZWwuX21heWJlRW5hYmxlQ3ljbGUoKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChNYW5pcHVsYXRvci5nZXREYXRhQXR0cmlidXRlKHRoaXMsICdzbGlkZScpID09PSAnbmV4dCcpIHtcbiAgICBjYXJvdXNlbC5uZXh0KCk7XG5cbiAgICBjYXJvdXNlbC5fbWF5YmVFbmFibGVDeWNsZSgpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2Fyb3VzZWwucHJldigpO1xuXG4gIGNhcm91c2VsLl9tYXliZUVuYWJsZUN5Y2xlKCk7XG59KTtcbkV2ZW50SGFuZGxlci5vbih3aW5kb3csIEVWRU5UX0xPQURfREFUQV9BUEkkMywgKCkgPT4ge1xuICBjb25zdCBjYXJvdXNlbHMgPSBTZWxlY3RvckVuZ2luZS5maW5kKFNFTEVDVE9SX0RBVEFfUklERSk7XG5cbiAgZm9yIChjb25zdCBjYXJvdXNlbCBvZiBjYXJvdXNlbHMpIHtcbiAgICBDYXJvdXNlbC5nZXRPckNyZWF0ZUluc3RhbmNlKGNhcm91c2VsKTtcbiAgfVxufSk7XG4vKipcbiAqIGpRdWVyeVxuICovXG5cbmRlZmluZUpRdWVyeVBsdWdpbihDYXJvdXNlbCk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogY29sbGFwc2UuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJGIgPSAnY29sbGFwc2UnO1xuY29uc3QgREFUQV9LRVkkNyA9ICdicy5jb2xsYXBzZSc7XG5jb25zdCBFVkVOVF9LRVkkNyA9IGAuJHtEQVRBX0tFWSQ3fWA7XG5jb25zdCBEQVRBX0FQSV9LRVkkNCA9ICcuZGF0YS1hcGknO1xuY29uc3QgRVZFTlRfU0hPVyQ2ID0gYHNob3cke0VWRU5UX0tFWSQ3fWA7XG5jb25zdCBFVkVOVF9TSE9XTiQ2ID0gYHNob3duJHtFVkVOVF9LRVkkN31gO1xuY29uc3QgRVZFTlRfSElERSQ2ID0gYGhpZGUke0VWRU5UX0tFWSQ3fWA7XG5jb25zdCBFVkVOVF9ISURERU4kNiA9IGBoaWRkZW4ke0VWRU5UX0tFWSQ3fWA7XG5jb25zdCBFVkVOVF9DTElDS19EQVRBX0FQSSQ0ID0gYGNsaWNrJHtFVkVOVF9LRVkkN30ke0RBVEFfQVBJX0tFWSQ0fWA7XG5jb25zdCBDTEFTU19OQU1FX1NIT1ckNyA9ICdzaG93JztcbmNvbnN0IENMQVNTX05BTUVfQ09MTEFQU0UgPSAnY29sbGFwc2UnO1xuY29uc3QgQ0xBU1NfTkFNRV9DT0xMQVBTSU5HID0gJ2NvbGxhcHNpbmcnO1xuY29uc3QgQ0xBU1NfTkFNRV9DT0xMQVBTRUQgPSAnY29sbGFwc2VkJztcbmNvbnN0IENMQVNTX05BTUVfREVFUEVSX0NISUxEUkVOID0gYDpzY29wZSAuJHtDTEFTU19OQU1FX0NPTExBUFNFfSAuJHtDTEFTU19OQU1FX0NPTExBUFNFfWA7XG5jb25zdCBDTEFTU19OQU1FX0hPUklaT05UQUwgPSAnY29sbGFwc2UtaG9yaXpvbnRhbCc7XG5jb25zdCBXSURUSCA9ICd3aWR0aCc7XG5jb25zdCBIRUlHSFQgPSAnaGVpZ2h0JztcbmNvbnN0IFNFTEVDVE9SX0FDVElWRVMgPSAnLmNvbGxhcHNlLnNob3csIC5jb2xsYXBzZS5jb2xsYXBzaW5nJztcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFJDQgPSAnW2RhdGEtYnMtdG9nZ2xlPVwiY29sbGFwc2VcIl0nO1xuY29uc3QgRGVmYXVsdCRhID0ge1xuICBwYXJlbnQ6IG51bGwsXG4gIHRvZ2dsZTogdHJ1ZVxufTtcbmNvbnN0IERlZmF1bHRUeXBlJGEgPSB7XG4gIHBhcmVudDogJyhudWxsfGVsZW1lbnQpJyxcbiAgdG9nZ2xlOiAnYm9vbGVhbidcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBDb2xsYXBzZSBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBjb25maWcpIHtcbiAgICBzdXBlcihlbGVtZW50LCBjb25maWcpO1xuICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3RyaWdnZXJBcnJheSA9IFtdO1xuICAgIGNvbnN0IHRvZ2dsZUxpc3QgPSBTZWxlY3RvckVuZ2luZS5maW5kKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDQpO1xuXG4gICAgZm9yIChjb25zdCBlbGVtIG9mIHRvZ2dsZUxpc3QpIHtcbiAgICAgIGNvbnN0IHNlbGVjdG9yID0gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChlbGVtKTtcbiAgICAgIGNvbnN0IGZpbHRlckVsZW1lbnQgPSBTZWxlY3RvckVuZ2luZS5maW5kKHNlbGVjdG9yKS5maWx0ZXIoZm91bmRFbGVtZW50ID0+IGZvdW5kRWxlbWVudCA9PT0gdGhpcy5fZWxlbWVudCk7XG5cbiAgICAgIGlmIChzZWxlY3RvciAhPT0gbnVsbCAmJiBmaWx0ZXJFbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLl90cmlnZ2VyQXJyYXkucHVzaChlbGVtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9pbml0aWFsaXplQ2hpbGRyZW4oKTtcblxuICAgIGlmICghdGhpcy5fY29uZmlnLnBhcmVudCkge1xuICAgICAgdGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX3RyaWdnZXJBcnJheSwgdGhpcy5faXNTaG93bigpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLnRvZ2dsZSkge1xuICAgICAgdGhpcy50b2dnbGUoKTtcbiAgICB9XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JGE7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSRhO1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJGI7XG4gIH0gLy8gUHVibGljXG5cblxuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMuX2lzU2hvd24oKSkge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIHNob3coKSB7XG4gICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCB0aGlzLl9pc1Nob3duKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgYWN0aXZlQ2hpbGRyZW4gPSBbXTsgLy8gZmluZCBhY3RpdmUgY2hpbGRyZW5cblxuICAgIGlmICh0aGlzLl9jb25maWcucGFyZW50KSB7XG4gICAgICBhY3RpdmVDaGlsZHJlbiA9IHRoaXMuX2dldEZpcnN0TGV2ZWxDaGlsZHJlbihTRUxFQ1RPUl9BQ1RJVkVTKS5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50ICE9PSB0aGlzLl9lbGVtZW50KS5tYXAoZWxlbWVudCA9PiBDb2xsYXBzZS5nZXRPckNyZWF0ZUluc3RhbmNlKGVsZW1lbnQsIHtcbiAgICAgICAgdG9nZ2xlOiBmYWxzZVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGlmIChhY3RpdmVDaGlsZHJlbi5sZW5ndGggJiYgYWN0aXZlQ2hpbGRyZW5bMF0uX2lzVHJhbnNpdGlvbmluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0RXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XJDYpO1xuXG4gICAgaWYgKHN0YXJ0RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgYWN0aXZlSW5zdGFuY2Ugb2YgYWN0aXZlQ2hpbGRyZW4pIHtcbiAgICAgIGFjdGl2ZUluc3RhbmNlLmhpZGUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaW1lbnNpb24gPSB0aGlzLl9nZXREaW1lbnNpb24oKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0NPTExBUFNFKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0NPTExBUFNJTkcpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gMDtcblxuICAgIHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl90cmlnZ2VyQXJyYXksIHRydWUpO1xuXG4gICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0NPTExBUFNJTkcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9DT0xMQVBTRSwgQ0xBU1NfTkFNRV9TSE9XJDcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSAnJztcbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1dOJDYpO1xuICAgIH07XG5cbiAgICBjb25zdCBjYXBpdGFsaXplZERpbWVuc2lvbiA9IGRpbWVuc2lvblswXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKDEpO1xuICAgIGNvbnN0IHNjcm9sbFNpemUgPSBgc2Nyb2xsJHtjYXBpdGFsaXplZERpbWVuc2lvbn1gO1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjayhjb21wbGV0ZSwgdGhpcy5fZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSBgJHt0aGlzLl9lbGVtZW50W3Njcm9sbFNpemVdfXB4YDtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKHRoaXMuX2lzVHJhbnNpdGlvbmluZyB8fCAhdGhpcy5faXNTaG93bigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnRFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREUkNik7XG5cbiAgICBpZiAoc3RhcnRFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGltZW5zaW9uID0gdGhpcy5fZ2V0RGltZW5zaW9uKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlW2RpbWVuc2lvbl0gPSBgJHt0aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2RpbWVuc2lvbl19cHhgO1xuICAgIHJlZmxvdyh0aGlzLl9lbGVtZW50KTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0NPTExBUFNJTkcpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfQ09MTEFQU0UsIENMQVNTX05BTUVfU0hPVyQ3KTtcblxuICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiB0aGlzLl90cmlnZ2VyQXJyYXkpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRyaWdnZXIpO1xuXG4gICAgICBpZiAoZWxlbWVudCAmJiAhdGhpcy5faXNTaG93bihlbGVtZW50KSkge1xuICAgICAgICB0aGlzLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoW3RyaWdnZXJdLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTtcblxuICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgdGhpcy5faXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0NPTExBUFNJTkcpO1xuXG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9DT0xMQVBTRSk7XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJRERFTiQ2KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZVtkaW1lbnNpb25dID0gJyc7XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCB0aGlzLl9lbGVtZW50LCB0cnVlKTtcbiAgfVxuXG4gIF9pc1Nob3duKGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVyQ3KTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpIHtcbiAgICBjb25maWcudG9nZ2xlID0gQm9vbGVhbihjb25maWcudG9nZ2xlKTsgLy8gQ29lcmNlIHN0cmluZyB2YWx1ZXNcblxuICAgIGNvbmZpZy5wYXJlbnQgPSBnZXRFbGVtZW50KGNvbmZpZy5wYXJlbnQpO1xuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfZ2V0RGltZW5zaW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0hPUklaT05UQUwpID8gV0lEVEggOiBIRUlHSFQ7XG4gIH1cblxuICBfaW5pdGlhbGl6ZUNoaWxkcmVuKCkge1xuICAgIGlmICghdGhpcy5fY29uZmlnLnBhcmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5fZ2V0Rmlyc3RMZXZlbENoaWxkcmVuKFNFTEVDVE9SX0RBVEFfVE9HR0xFJDQpO1xuXG4gICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNoaWxkcmVuKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZCA9IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IoZWxlbWVudCk7XG5cbiAgICAgIGlmIChzZWxlY3RlZCkge1xuICAgICAgICB0aGlzLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MoW2VsZW1lbnRdLCB0aGlzLl9pc1Nob3duKHNlbGVjdGVkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2dldEZpcnN0TGV2ZWxDaGlsZHJlbihzZWxlY3Rvcikge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gU2VsZWN0b3JFbmdpbmUuZmluZChDTEFTU19OQU1FX0RFRVBFUl9DSElMRFJFTiwgdGhpcy5fY29uZmlnLnBhcmVudCk7IC8vIHJlbW92ZSBjaGlsZHJlbiBpZiBncmVhdGVyIGRlcHRoXG5cbiAgICByZXR1cm4gU2VsZWN0b3JFbmdpbmUuZmluZChzZWxlY3RvciwgdGhpcy5fY29uZmlnLnBhcmVudCkuZmlsdGVyKGVsZW1lbnQgPT4gIWNoaWxkcmVuLmluY2x1ZGVzKGVsZW1lbnQpKTtcbiAgfVxuXG4gIF9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModHJpZ2dlckFycmF5LCBpc09wZW4pIHtcbiAgICBpZiAoIXRyaWdnZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdHJpZ2dlckFycmF5KSB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoQ0xBU1NfTkFNRV9DT0xMQVBTRUQsICFpc09wZW4pO1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pO1xuICAgIH1cbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgY29uc3QgX2NvbmZpZyA9IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnICYmIC9zaG93fGhpZGUvLnRlc3QoY29uZmlnKSkge1xuICAgICAgX2NvbmZpZy50b2dnbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBDb2xsYXBzZS5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsIF9jb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkIFwiJHtjb25maWd9XCJgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn1cbi8qKlxuICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAqL1xuXG5cbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkNCwgU0VMRUNUT1JfREFUQV9UT0dHTEUkNCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIC8vIHByZXZlbnREZWZhdWx0IG9ubHkgZm9yIDxhPiBlbGVtZW50cyAod2hpY2ggY2hhbmdlIHRoZSBVUkwpIG5vdCBpbnNpZGUgdGhlIGNvbGxhcHNpYmxlIGVsZW1lbnRcbiAgaWYgKGV2ZW50LnRhcmdldC50YWdOYW1lID09PSAnQScgfHwgZXZlbnQuZGVsZWdhdGVUYXJnZXQgJiYgZXZlbnQuZGVsZWdhdGVUYXJnZXQudGFnTmFtZSA9PT0gJ0EnKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdG9yID0gZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtcbiAgY29uc3Qgc2VsZWN0b3JFbGVtZW50cyA9IFNlbGVjdG9yRW5naW5lLmZpbmQoc2VsZWN0b3IpO1xuXG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBzZWxlY3RvckVsZW1lbnRzKSB7XG4gICAgQ29sbGFwc2UuZ2V0T3JDcmVhdGVJbnN0YW5jZShlbGVtZW50LCB7XG4gICAgICB0b2dnbGU6IGZhbHNlXG4gICAgfSkudG9nZ2xlKCk7XG4gIH1cbn0pO1xuLyoqXG4gKiBqUXVlcnlcbiAqL1xuXG5kZWZpbmVKUXVlcnlQbHVnaW4oQ29sbGFwc2UpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IGRyb3Bkb3duLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSRhID0gJ2Ryb3Bkb3duJztcbmNvbnN0IERBVEFfS0VZJDYgPSAnYnMuZHJvcGRvd24nO1xuY29uc3QgRVZFTlRfS0VZJDYgPSBgLiR7REFUQV9LRVkkNn1gO1xuY29uc3QgREFUQV9BUElfS0VZJDMgPSAnLmRhdGEtYXBpJztcbmNvbnN0IEVTQ0FQRV9LRVkkMiA9ICdFc2NhcGUnO1xuY29uc3QgVEFCX0tFWSQxID0gJ1RhYic7XG5jb25zdCBBUlJPV19VUF9LRVkkMSA9ICdBcnJvd1VwJztcbmNvbnN0IEFSUk9XX0RPV05fS0VZJDEgPSAnQXJyb3dEb3duJztcbmNvbnN0IFJJR0hUX01PVVNFX0JVVFRPTiA9IDI7IC8vIE1vdXNlRXZlbnQuYnV0dG9uIHZhbHVlIGZvciB0aGUgc2Vjb25kYXJ5IGJ1dHRvbiwgdXN1YWxseSB0aGUgcmlnaHQgYnV0dG9uXG5cbmNvbnN0IEVWRU5UX0hJREUkNSA9IGBoaWRlJHtFVkVOVF9LRVkkNn1gO1xuY29uc3QgRVZFTlRfSElEREVOJDUgPSBgaGlkZGVuJHtFVkVOVF9LRVkkNn1gO1xuY29uc3QgRVZFTlRfU0hPVyQ1ID0gYHNob3cke0VWRU5UX0tFWSQ2fWA7XG5jb25zdCBFVkVOVF9TSE9XTiQ1ID0gYHNob3duJHtFVkVOVF9LRVkkNn1gO1xuY29uc3QgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMyA9IGBjbGljayR7RVZFTlRfS0VZJDZ9JHtEQVRBX0FQSV9LRVkkM31gO1xuY29uc3QgRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSA9IGBrZXlkb3duJHtFVkVOVF9LRVkkNn0ke0RBVEFfQVBJX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9LRVlVUF9EQVRBX0FQSSA9IGBrZXl1cCR7RVZFTlRfS0VZJDZ9JHtEQVRBX0FQSV9LRVkkM31gO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XJDYgPSAnc2hvdyc7XG5jb25zdCBDTEFTU19OQU1FX0RST1BVUCA9ICdkcm9wdXAnO1xuY29uc3QgQ0xBU1NfTkFNRV9EUk9QRU5EID0gJ2Ryb3BlbmQnO1xuY29uc3QgQ0xBU1NfTkFNRV9EUk9QU1RBUlQgPSAnZHJvcHN0YXJ0JztcbmNvbnN0IENMQVNTX05BTUVfRFJPUFVQX0NFTlRFUiA9ICdkcm9wdXAtY2VudGVyJztcbmNvbnN0IENMQVNTX05BTUVfRFJPUERPV05fQ0VOVEVSID0gJ2Ryb3Bkb3duLWNlbnRlcic7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1RPR0dMRSQzID0gJ1tkYXRhLWJzLXRvZ2dsZT1cImRyb3Bkb3duXCJdOm5vdCguZGlzYWJsZWQpOm5vdCg6ZGlzYWJsZWQpJztcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFX1NIT1dOID0gYCR7U0VMRUNUT1JfREFUQV9UT0dHTEUkM30uJHtDTEFTU19OQU1FX1NIT1ckNn1gO1xuY29uc3QgU0VMRUNUT1JfTUVOVSA9ICcuZHJvcGRvd24tbWVudSc7XG5jb25zdCBTRUxFQ1RPUl9OQVZCQVIgPSAnLm5hdmJhcic7XG5jb25zdCBTRUxFQ1RPUl9OQVZCQVJfTkFWID0gJy5uYXZiYXItbmF2JztcbmNvbnN0IFNFTEVDVE9SX1ZJU0lCTEVfSVRFTVMgPSAnLmRyb3Bkb3duLW1lbnUgLmRyb3Bkb3duLWl0ZW06bm90KC5kaXNhYmxlZCk6bm90KDpkaXNhYmxlZCknO1xuY29uc3QgUExBQ0VNRU5UX1RPUCA9IGlzUlRMKCkgPyAndG9wLWVuZCcgOiAndG9wLXN0YXJ0JztcbmNvbnN0IFBMQUNFTUVOVF9UT1BFTkQgPSBpc1JUTCgpID8gJ3RvcC1zdGFydCcgOiAndG9wLWVuZCc7XG5jb25zdCBQTEFDRU1FTlRfQk9UVE9NID0gaXNSVEwoKSA/ICdib3R0b20tZW5kJyA6ICdib3R0b20tc3RhcnQnO1xuY29uc3QgUExBQ0VNRU5UX0JPVFRPTUVORCA9IGlzUlRMKCkgPyAnYm90dG9tLXN0YXJ0JyA6ICdib3R0b20tZW5kJztcbmNvbnN0IFBMQUNFTUVOVF9SSUdIVCA9IGlzUlRMKCkgPyAnbGVmdC1zdGFydCcgOiAncmlnaHQtc3RhcnQnO1xuY29uc3QgUExBQ0VNRU5UX0xFRlQgPSBpc1JUTCgpID8gJ3JpZ2h0LXN0YXJ0JyA6ICdsZWZ0LXN0YXJ0JztcbmNvbnN0IFBMQUNFTUVOVF9UT1BDRU5URVIgPSAndG9wJztcbmNvbnN0IFBMQUNFTUVOVF9CT1RUT01DRU5URVIgPSAnYm90dG9tJztcbmNvbnN0IERlZmF1bHQkOSA9IHtcbiAgYXV0b0Nsb3NlOiB0cnVlLFxuICBib3VuZGFyeTogJ2NsaXBwaW5nUGFyZW50cycsXG4gIGRpc3BsYXk6ICdkeW5hbWljJyxcbiAgb2Zmc2V0OiBbMCwgMl0sXG4gIHBvcHBlckNvbmZpZzogbnVsbCxcbiAgcmVmZXJlbmNlOiAndG9nZ2xlJ1xufTtcbmNvbnN0IERlZmF1bHRUeXBlJDkgPSB7XG4gIGF1dG9DbG9zZTogJyhib29sZWFufHN0cmluZyknLFxuICBib3VuZGFyeTogJyhzdHJpbmd8ZWxlbWVudCknLFxuICBkaXNwbGF5OiAnc3RyaW5nJyxcbiAgb2Zmc2V0OiAnKGFycmF5fHN0cmluZ3xmdW5jdGlvbiknLFxuICBwb3BwZXJDb25maWc6ICcobnVsbHxvYmplY3R8ZnVuY3Rpb24pJyxcbiAgcmVmZXJlbmNlOiAnKHN0cmluZ3xlbGVtZW50fG9iamVjdCknXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgRHJvcGRvd24gZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTtcbiAgICB0aGlzLl9wb3BwZXIgPSBudWxsO1xuICAgIHRoaXMuX3BhcmVudCA9IHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZTsgLy8gZHJvcGRvd24gd3JhcHBlclxuXG4gICAgdGhpcy5fbWVudSA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoU0VMRUNUT1JfTUVOVSwgdGhpcy5fcGFyZW50KTtcbiAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdCQ5O1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGUkOTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSRhO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgdG9nZ2xlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1Nob3duKCkgPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdygpO1xuICB9XG5cbiAgc2hvdygpIHtcbiAgICBpZiAoaXNEaXNhYmxlZCh0aGlzLl9lbGVtZW50KSB8fCB0aGlzLl9pc1Nob3duKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgcmVsYXRlZFRhcmdldDogdGhpcy5fZWxlbWVudFxuICAgIH07XG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPVyQ1LCByZWxhdGVkVGFyZ2V0KTtcblxuICAgIGlmIChzaG93RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2NyZWF0ZVBvcHBlcigpOyAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgYWRkIGV4dHJhXG4gICAgLy8gZW1wdHkgbW91c2VvdmVyIGxpc3RlbmVycyB0byB0aGUgYm9keSdzIGltbWVkaWF0ZSBjaGlsZHJlbjtcbiAgICAvLyBvbmx5IG5lZWRlZCBiZWNhdXNlIG9mIGJyb2tlbiBldmVudCBkZWxlZ2F0aW9uIG9uIGlPU1xuICAgIC8vIGh0dHBzOi8vd3d3LnF1aXJrc21vZGUub3JnL2Jsb2cvYXJjaGl2ZXMvMjAxNC8wMi9tb3VzZV9ldmVudF9idWIuaHRtbFxuXG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICF0aGlzLl9wYXJlbnQuY2xvc2VzdChTRUxFQ1RPUl9OQVZCQVJfTkFWKSkge1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIFtdLmNvbmNhdCguLi5kb2N1bWVudC5ib2R5LmNoaWxkcmVuKSkge1xuICAgICAgICBFdmVudEhhbmRsZXIub24oZWxlbWVudCwgJ21vdXNlb3ZlcicsIG5vb3ApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICB0aGlzLl9tZW51LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XJDYpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQ2KTtcblxuICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1dOJDUsIHJlbGF0ZWRUYXJnZXQpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBpZiAoaXNEaXNhYmxlZCh0aGlzLl9lbGVtZW50KSB8fCAhdGhpcy5faXNTaG93bigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVsYXRlZFRhcmdldCA9IHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMuX2VsZW1lbnRcbiAgICB9O1xuXG4gICAgdGhpcy5fY29tcGxldGVIaWRlKHJlbGF0ZWRUYXJnZXQpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICB0aGlzLl9wb3BwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLl9pbk5hdmJhciA9IHRoaXMuX2RldGVjdE5hdmJhcigpO1xuXG4gICAgaWYgKHRoaXMuX3BvcHBlcikge1xuICAgICAgdGhpcy5fcG9wcGVyLnVwZGF0ZSgpO1xuICAgIH1cbiAgfSAvLyBQcml2YXRlXG5cblxuICBfY29tcGxldGVIaWRlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICBjb25zdCBoaWRlRXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9ISURFJDUsIHJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgaWYgKGhpZGVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBJZiB0aGlzIGlzIGEgdG91Y2gtZW5hYmxlZCBkZXZpY2Ugd2UgcmVtb3ZlIHRoZSBleHRyYVxuICAgIC8vIGVtcHR5IG1vdXNlb3ZlciBsaXN0ZW5lcnMgd2UgYWRkZWQgZm9yIGlPUyBzdXBwb3J0XG5cblxuICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBbXS5jb25jYXQoLi4uZG9jdW1lbnQuYm9keS5jaGlsZHJlbikpIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyLm9mZihlbGVtZW50LCAnbW91c2VvdmVyJywgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3BvcHBlcikge1xuICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tZW51LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XJDYpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQ2KTtcblxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG5cbiAgICBNYW5pcHVsYXRvci5yZW1vdmVEYXRhQXR0cmlidXRlKHRoaXMuX21lbnUsICdwb3BwZXInKTtcbiAgICBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9ISURERU4kNSwgcmVsYXRlZFRhcmdldCk7XG4gIH1cblxuICBfZ2V0Q29uZmlnKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IHN1cGVyLl9nZXRDb25maWcoY29uZmlnKTtcblxuICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZmVyZW5jZSA9PT0gJ29iamVjdCcgJiYgIWlzRWxlbWVudChjb25maWcucmVmZXJlbmNlKSAmJiB0eXBlb2YgY29uZmlnLnJlZmVyZW5jZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIFBvcHBlciB2aXJ0dWFsIGVsZW1lbnRzIHJlcXVpcmUgYSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgbWV0aG9kXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke05BTUUkYS50b1VwcGVyQ2FzZSgpfTogT3B0aW9uIFwicmVmZXJlbmNlXCIgcHJvdmlkZWQgdHlwZSBcIm9iamVjdFwiIHdpdGhvdXQgYSByZXF1aXJlZCBcImdldEJvdW5kaW5nQ2xpZW50UmVjdFwiIG1ldGhvZC5gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX2NyZWF0ZVBvcHBlcigpIHtcbiAgICBpZiAodHlwZW9mIFBvcHBlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgZHJvcGRvd25zIHJlcXVpcmUgUG9wcGVyIChodHRwczovL3BvcHBlci5qcy5vcmcpJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlZmVyZW5jZUVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UgPT09ICdwYXJlbnQnKSB7XG4gICAgICByZWZlcmVuY2VFbGVtZW50ID0gdGhpcy5fcGFyZW50O1xuICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UpKSB7XG4gICAgICByZWZlcmVuY2VFbGVtZW50ID0gZ2V0RWxlbWVudCh0aGlzLl9jb25maWcucmVmZXJlbmNlKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcucmVmZXJlbmNlID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVmZXJlbmNlRWxlbWVudCA9IHRoaXMuX2NvbmZpZy5yZWZlcmVuY2U7XG4gICAgfVxuXG4gICAgY29uc3QgcG9wcGVyQ29uZmlnID0gdGhpcy5fZ2V0UG9wcGVyQ29uZmlnKCk7XG5cbiAgICB0aGlzLl9wb3BwZXIgPSBQb3BwZXIuY3JlYXRlUG9wcGVyKHJlZmVyZW5jZUVsZW1lbnQsIHRoaXMuX21lbnUsIHBvcHBlckNvbmZpZyk7XG4gIH1cblxuICBfaXNTaG93bigpIHtcbiAgICByZXR1cm4gdGhpcy5fbWVudS5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TSE9XJDYpO1xuICB9XG5cbiAgX2dldFBsYWNlbWVudCgpIHtcbiAgICBjb25zdCBwYXJlbnREcm9wZG93biA9IHRoaXMuX3BhcmVudDtcblxuICAgIGlmIChwYXJlbnREcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9EUk9QRU5EKSkge1xuICAgICAgcmV0dXJuIFBMQUNFTUVOVF9SSUdIVDtcbiAgICB9XG5cbiAgICBpZiAocGFyZW50RHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRFJPUFNUQVJUKSkge1xuICAgICAgcmV0dXJuIFBMQUNFTUVOVF9MRUZUO1xuICAgIH1cblxuICAgIGlmIChwYXJlbnREcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9EUk9QVVBfQ0VOVEVSKSkge1xuICAgICAgcmV0dXJuIFBMQUNFTUVOVF9UT1BDRU5URVI7XG4gICAgfVxuXG4gICAgaWYgKHBhcmVudERyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0RST1BET1dOX0NFTlRFUikpIHtcbiAgICAgIHJldHVybiBQTEFDRU1FTlRfQk9UVE9NQ0VOVEVSO1xuICAgIH0gLy8gV2UgbmVlZCB0byB0cmltIHRoZSB2YWx1ZSBiZWNhdXNlIGN1c3RvbSBwcm9wZXJ0aWVzIGNhbiBhbHNvIGluY2x1ZGUgc3BhY2VzXG5cblxuICAgIGNvbnN0IGlzRW5kID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9tZW51KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWJzLXBvc2l0aW9uJykudHJpbSgpID09PSAnZW5kJztcblxuICAgIGlmIChwYXJlbnREcm9wZG93bi5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9EUk9QVVApKSB7XG4gICAgICByZXR1cm4gaXNFbmQgPyBQTEFDRU1FTlRfVE9QRU5EIDogUExBQ0VNRU5UX1RPUDtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNFbmQgPyBQTEFDRU1FTlRfQk9UVE9NRU5EIDogUExBQ0VNRU5UX0JPVFRPTTtcbiAgfVxuXG4gIF9kZXRlY3ROYXZiYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xvc2VzdChTRUxFQ1RPUl9OQVZCQVIpICE9PSBudWxsO1xuICB9XG5cbiAgX2dldE9mZnNldCgpIHtcbiAgICBjb25zdCB7XG4gICAgICBvZmZzZXRcbiAgICB9ID0gdGhpcy5fY29uZmlnO1xuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gb2Zmc2V0LnNwbGl0KCcsJykubWFwKHZhbHVlID0+IE51bWJlci5wYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHBvcHBlckRhdGEgPT4gb2Zmc2V0KHBvcHBlckRhdGEsIHRoaXMuX2VsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBvZmZzZXQ7XG4gIH1cblxuICBfZ2V0UG9wcGVyQ29uZmlnKCkge1xuICAgIGNvbnN0IGRlZmF1bHRCc1BvcHBlckNvbmZpZyA9IHtcbiAgICAgIHBsYWNlbWVudDogdGhpcy5fZ2V0UGxhY2VtZW50KCksXG4gICAgICBtb2RpZmllcnM6IFt7XG4gICAgICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgYm91bmRhcnk6IHRoaXMuX2NvbmZpZy5ib3VuZGFyeVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgb2Zmc2V0OiB0aGlzLl9nZXRPZmZzZXQoKVxuICAgICAgICB9XG4gICAgICB9XVxuICAgIH07IC8vIERpc2FibGUgUG9wcGVyIGlmIHdlIGhhdmUgYSBzdGF0aWMgZGlzcGxheSBvciBEcm9wZG93biBpcyBpbiBOYXZiYXJcblxuICAgIGlmICh0aGlzLl9pbk5hdmJhciB8fCB0aGlzLl9jb25maWcuZGlzcGxheSA9PT0gJ3N0YXRpYycpIHtcbiAgICAgIE1hbmlwdWxhdG9yLnNldERhdGFBdHRyaWJ1dGUodGhpcy5fbWVudSwgJ3BvcHBlcicsICdzdGF0aWMnKTsgLy8gdG9kbzp2NiByZW1vdmVcblxuICAgICAgZGVmYXVsdEJzUG9wcGVyQ29uZmlnLm1vZGlmaWVycyA9IFt7XG4gICAgICAgIG5hbWU6ICdhcHBseVN0eWxlcycsXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICB9XTtcbiAgICB9XG5cbiAgICByZXR1cm4geyAuLi5kZWZhdWx0QnNQb3BwZXJDb25maWcsXG4gICAgICAuLi4odHlwZW9mIHRoaXMuX2NvbmZpZy5wb3BwZXJDb25maWcgPT09ICdmdW5jdGlvbicgPyB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnKGRlZmF1bHRCc1BvcHBlckNvbmZpZykgOiB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnKVxuICAgIH07XG4gIH1cblxuICBfc2VsZWN0TWVudUl0ZW0oe1xuICAgIGtleSxcbiAgICB0YXJnZXRcbiAgfSkge1xuICAgIGNvbnN0IGl0ZW1zID0gU2VsZWN0b3JFbmdpbmUuZmluZChTRUxFQ1RPUl9WSVNJQkxFX0lURU1TLCB0aGlzLl9tZW51KS5maWx0ZXIoZWxlbWVudCA9PiBpc1Zpc2libGUoZWxlbWVudCkpO1xuXG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIGlmIHRhcmdldCBpc24ndCBpbmNsdWRlZCBpbiBpdGVtcyAoZS5nLiB3aGVuIGV4cGFuZGluZyB0aGUgZHJvcGRvd24pXG4gICAgLy8gYWxsb3cgY3ljbGluZyB0byBnZXQgdGhlIGxhc3QgaXRlbSBpbiBjYXNlIGtleSBlcXVhbHMgQVJST1dfVVBfS0VZXG5cblxuICAgIGdldE5leHRBY3RpdmVFbGVtZW50KGl0ZW1zLCB0YXJnZXQsIGtleSA9PT0gQVJST1dfRE9XTl9LRVkkMSwgIWl0ZW1zLmluY2x1ZGVzKHRhcmdldCkpLmZvY3VzKCk7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IERyb3Bkb3duLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgY29uZmlnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGNsZWFyTWVudXMoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuYnV0dG9uID09PSBSSUdIVF9NT1VTRV9CVVRUT04gfHwgZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC5rZXkgIT09IFRBQl9LRVkkMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG9wZW5Ub2dnbGVzID0gU2VsZWN0b3JFbmdpbmUuZmluZChTRUxFQ1RPUl9EQVRBX1RPR0dMRV9TSE9XTik7XG5cbiAgICBmb3IgKGNvbnN0IHRvZ2dsZSBvZiBvcGVuVG9nZ2xlcykge1xuICAgICAgY29uc3QgY29udGV4dCA9IERyb3Bkb3duLmdldEluc3RhbmNlKHRvZ2dsZSk7XG5cbiAgICAgIGlmICghY29udGV4dCB8fCBjb250ZXh0Ll9jb25maWcuYXV0b0Nsb3NlID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29tcG9zZWRQYXRoID0gZXZlbnQuY29tcG9zZWRQYXRoKCk7XG4gICAgICBjb25zdCBpc01lbnVUYXJnZXQgPSBjb21wb3NlZFBhdGguaW5jbHVkZXMoY29udGV4dC5fbWVudSk7XG5cbiAgICAgIGlmIChjb21wb3NlZFBhdGguaW5jbHVkZXMoY29udGV4dC5fZWxlbWVudCkgfHwgY29udGV4dC5fY29uZmlnLmF1dG9DbG9zZSA9PT0gJ2luc2lkZScgJiYgIWlzTWVudVRhcmdldCB8fCBjb250ZXh0Ll9jb25maWcuYXV0b0Nsb3NlID09PSAnb3V0c2lkZScgJiYgaXNNZW51VGFyZ2V0KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSAvLyBUYWIgbmF2aWdhdGlvbiB0aHJvdWdoIHRoZSBkcm9wZG93biBtZW51IG9yIGV2ZW50cyBmcm9tIGNvbnRhaW5lZCBpbnB1dHMgc2hvdWxkbid0IGNsb3NlIHRoZSBtZW51XG5cblxuICAgICAgaWYgKGNvbnRleHQuX21lbnUuY29udGFpbnMoZXZlbnQudGFyZ2V0KSAmJiAoZXZlbnQudHlwZSA9PT0gJ2tleXVwJyAmJiBldmVudC5rZXkgPT09IFRBQl9LRVkkMSB8fCAvaW5wdXR8c2VsZWN0fG9wdGlvbnx0ZXh0YXJlYXxmb3JtL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWxhdGVkVGFyZ2V0ID0ge1xuICAgICAgICByZWxhdGVkVGFyZ2V0OiBjb250ZXh0Ll9lbGVtZW50XG4gICAgICB9O1xuXG4gICAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICByZWxhdGVkVGFyZ2V0LmNsaWNrRXZlbnQgPSBldmVudDtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5fY29tcGxldGVIaWRlKHJlbGF0ZWRUYXJnZXQpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBkYXRhQXBpS2V5ZG93bkhhbmRsZXIoZXZlbnQpIHtcbiAgICAvLyBJZiBub3QgYW4gVVAgfCBET1dOIHwgRVNDQVBFIGtleSA9PiBub3QgYSBkcm9wZG93biBjb21tYW5kXG4gICAgLy8gSWYgaW5wdXQvdGV4dGFyZWEgJiYgaWYga2V5IGlzIG90aGVyIHRoYW4gRVNDQVBFID0+IG5vdCBhIGRyb3Bkb3duIGNvbW1hbmRcbiAgICBjb25zdCBpc0lucHV0ID0gL2lucHV0fHRleHRhcmVhL2kudGVzdChldmVudC50YXJnZXQudGFnTmFtZSk7XG4gICAgY29uc3QgaXNFc2NhcGVFdmVudCA9IGV2ZW50LmtleSA9PT0gRVNDQVBFX0tFWSQyO1xuICAgIGNvbnN0IGlzVXBPckRvd25FdmVudCA9IFtBUlJPV19VUF9LRVkkMSwgQVJST1dfRE9XTl9LRVkkMV0uaW5jbHVkZXMoZXZlbnQua2V5KTtcblxuICAgIGlmICghaXNVcE9yRG93bkV2ZW50ICYmICFpc0VzY2FwZUV2ZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzSW5wdXQgJiYgIWlzRXNjYXBlRXZlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGdldFRvZ2dsZUJ1dHRvbiA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoU0VMRUNUT1JfREFUQV9UT0dHTEUkMywgZXZlbnQuZGVsZWdhdGVUYXJnZXQucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBEcm9wZG93bi5nZXRPckNyZWF0ZUluc3RhbmNlKGdldFRvZ2dsZUJ1dHRvbik7XG5cbiAgICBpZiAoaXNVcE9yRG93bkV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGluc3RhbmNlLnNob3coKTtcblxuICAgICAgaW5zdGFuY2UuX3NlbGVjdE1lbnVJdGVtKGV2ZW50KTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpbnN0YW5jZS5faXNTaG93bigpKSB7XG4gICAgICAvLyBlbHNlIGlzIGVzY2FwZSBhbmQgd2UgY2hlY2sgaWYgaXQgaXMgc2hvd25cbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaW5zdGFuY2UuaGlkZSgpO1xuICAgICAgZ2V0VG9nZ2xlQnV0dG9uLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbn1cbi8qKlxuICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAqL1xuXG5cbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSwgU0VMRUNUT1JfREFUQV9UT0dHTEUkMywgRHJvcGRvd24uZGF0YUFwaUtleWRvd25IYW5kbGVyKTtcbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfS0VZRE9XTl9EQVRBX0FQSSwgU0VMRUNUT1JfTUVOVSwgRHJvcGRvd24uZGF0YUFwaUtleWRvd25IYW5kbGVyKTtcbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMywgRHJvcGRvd24uY2xlYXJNZW51cyk7XG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0tFWVVQX0RBVEFfQVBJLCBEcm9wZG93bi5jbGVhck1lbnVzKTtcbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMywgU0VMRUNUT1JfREFUQV9UT0dHTEUkMywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIERyb3Bkb3duLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcykudG9nZ2xlKCk7XG59KTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKERyb3Bkb3duKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiB1dGlsL3Njcm9sbEJhci5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IFNFTEVDVE9SX0ZJWEVEX0NPTlRFTlQgPSAnLmZpeGVkLXRvcCwgLmZpeGVkLWJvdHRvbSwgLmlzLWZpeGVkLCAuc3RpY2t5LXRvcCc7XG5jb25zdCBTRUxFQ1RPUl9TVElDS1lfQ09OVEVOVCA9ICcuc3RpY2t5LXRvcCc7XG5jb25zdCBQUk9QRVJUWV9QQURESU5HID0gJ3BhZGRpbmctcmlnaHQnO1xuY29uc3QgUFJPUEVSVFlfTUFSR0lOID0gJ21hcmdpbi1yaWdodCc7XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBTY3JvbGxCYXJIZWxwZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGdldFdpZHRoKCkge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvaW5uZXJXaWR0aCN1c2FnZV9ub3Rlc1xuICAgIGNvbnN0IGRvY3VtZW50V2lkdGggPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgcmV0dXJuIE1hdGguYWJzKHdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnRXaWR0aCk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRXaWR0aCgpO1xuXG4gICAgdGhpcy5fZGlzYWJsZU92ZXJGbG93KCk7IC8vIGdpdmUgcGFkZGluZyB0byBlbGVtZW50IHRvIGJhbGFuY2UgdGhlIGhpZGRlbiBzY3JvbGxiYXIgd2lkdGhcblxuXG4gICAgdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCwgUFJPUEVSVFlfUEFERElORywgY2FsY3VsYXRlZFZhbHVlID0+IGNhbGN1bGF0ZWRWYWx1ZSArIHdpZHRoKTsgLy8gdHJpY2s6IFdlIGFkanVzdCBwb3NpdGl2ZSBwYWRkaW5nUmlnaHQgYW5kIG5lZ2F0aXZlIG1hcmdpblJpZ2h0IHRvIHN0aWNreS10b3AgZWxlbWVudHMgdG8ga2VlcCBzaG93aW5nIGZ1bGx3aWR0aFxuXG5cbiAgICB0aGlzLl9zZXRFbGVtZW50QXR0cmlidXRlcyhTRUxFQ1RPUl9GSVhFRF9DT05URU5ULCBQUk9QRVJUWV9QQURESU5HLCBjYWxjdWxhdGVkVmFsdWUgPT4gY2FsY3VsYXRlZFZhbHVlICsgd2lkdGgpO1xuXG4gICAgdGhpcy5fc2V0RWxlbWVudEF0dHJpYnV0ZXMoU0VMRUNUT1JfU1RJQ0tZX0NPTlRFTlQsIFBST1BFUlRZX01BUkdJTiwgY2FsY3VsYXRlZFZhbHVlID0+IGNhbGN1bGF0ZWRWYWx1ZSAtIHdpZHRoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXModGhpcy5fZWxlbWVudCwgJ292ZXJmbG93Jyk7XG5cbiAgICB0aGlzLl9yZXNldEVsZW1lbnRBdHRyaWJ1dGVzKHRoaXMuX2VsZW1lbnQsIFBST1BFUlRZX1BBRERJTkcpO1xuXG4gICAgdGhpcy5fcmVzZXRFbGVtZW50QXR0cmlidXRlcyhTRUxFQ1RPUl9GSVhFRF9DT05URU5ULCBQUk9QRVJUWV9QQURESU5HKTtcblxuICAgIHRoaXMuX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMoU0VMRUNUT1JfU1RJQ0tZX0NPTlRFTlQsIFBST1BFUlRZX01BUkdJTik7XG4gIH1cblxuICBpc092ZXJmbG93aW5nKCkge1xuICAgIHJldHVybiB0aGlzLmdldFdpZHRoKCkgPiAwO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9kaXNhYmxlT3ZlckZsb3coKSB7XG4gICAgdGhpcy5fc2F2ZUluaXRpYWxBdHRyaWJ1dGUodGhpcy5fZWxlbWVudCwgJ292ZXJmbG93Jyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gIH1cblxuICBfc2V0RWxlbWVudEF0dHJpYnV0ZXMoc2VsZWN0b3IsIHN0eWxlUHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2Nyb2xsYmFyV2lkdGggPSB0aGlzLmdldFdpZHRoKCk7XG5cbiAgICBjb25zdCBtYW5pcHVsYXRpb25DYWxsQmFjayA9IGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQgIT09IHRoaXMuX2VsZW1lbnQgJiYgd2luZG93LmlubmVyV2lkdGggPiBlbGVtZW50LmNsaWVudFdpZHRoICsgc2Nyb2xsYmFyV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zYXZlSW5pdGlhbEF0dHJpYnV0ZShlbGVtZW50LCBzdHlsZVByb3BlcnR5KTtcblxuICAgICAgY29uc3QgY2FsY3VsYXRlZFZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3BlcnR5KTtcbiAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoc3R5bGVQcm9wZXJ0eSwgYCR7Y2FsbGJhY2soTnVtYmVyLnBhcnNlRmxvYXQoY2FsY3VsYXRlZFZhbHVlKSl9cHhgKTtcbiAgICB9O1xuXG4gICAgdGhpcy5fYXBwbHlNYW5pcHVsYXRpb25DYWxsYmFjayhzZWxlY3RvciwgbWFuaXB1bGF0aW9uQ2FsbEJhY2spO1xuICB9XG5cbiAgX3NhdmVJbml0aWFsQXR0cmlidXRlKGVsZW1lbnQsIHN0eWxlUHJvcGVydHkpIHtcbiAgICBjb25zdCBhY3R1YWxWYWx1ZSA9IGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3BlcnR5KTtcblxuICAgIGlmIChhY3R1YWxWYWx1ZSkge1xuICAgICAgTWFuaXB1bGF0b3Iuc2V0RGF0YUF0dHJpYnV0ZShlbGVtZW50LCBzdHlsZVByb3BlcnR5LCBhY3R1YWxWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMoc2VsZWN0b3IsIHN0eWxlUHJvcGVydHkpIHtcbiAgICBjb25zdCBtYW5pcHVsYXRpb25DYWxsQmFjayA9IGVsZW1lbnQgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBNYW5pcHVsYXRvci5nZXREYXRhQXR0cmlidXRlKGVsZW1lbnQsIHN0eWxlUHJvcGVydHkpOyAvLyBXZSBvbmx5IHdhbnQgdG8gcmVtb3ZlIHRoZSBwcm9wZXJ0eSBpZiB0aGUgdmFsdWUgaXMgYG51bGxgOyB0aGUgdmFsdWUgY2FuIGFsc28gYmUgemVyb1xuXG4gICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShzdHlsZVByb3BlcnR5KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBNYW5pcHVsYXRvci5yZW1vdmVEYXRhQXR0cmlidXRlKGVsZW1lbnQsIHN0eWxlUHJvcGVydHkpO1xuICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShzdHlsZVByb3BlcnR5LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2soc2VsZWN0b3IsIG1hbmlwdWxhdGlvbkNhbGxCYWNrKTtcbiAgfVxuXG4gIF9hcHBseU1hbmlwdWxhdGlvbkNhbGxiYWNrKHNlbGVjdG9yLCBjYWxsQmFjaykge1xuICAgIGlmIChpc0VsZW1lbnQoc2VsZWN0b3IpKSB7XG4gICAgICBjYWxsQmFjayhzZWxlY3Rvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBzZWwgb2YgU2VsZWN0b3JFbmdpbmUuZmluZChzZWxlY3RvciwgdGhpcy5fZWxlbWVudCkpIHtcbiAgICAgIGNhbGxCYWNrKHNlbCk7XG4gICAgfVxuICB9XG5cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiB1dGlsL2JhY2tkcm9wLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSQ5ID0gJ2JhY2tkcm9wJztcbmNvbnN0IENMQVNTX05BTUVfRkFERSQ0ID0gJ2ZhZGUnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XJDUgPSAnc2hvdyc7XG5jb25zdCBFVkVOVF9NT1VTRURPV04gPSBgbW91c2Vkb3duLmJzLiR7TkFNRSQ5fWA7XG5jb25zdCBEZWZhdWx0JDggPSB7XG4gIGNsYXNzTmFtZTogJ21vZGFsLWJhY2tkcm9wJyxcbiAgY2xpY2tDYWxsYmFjazogbnVsbCxcbiAgaXNBbmltYXRlZDogZmFsc2UsXG4gIGlzVmlzaWJsZTogdHJ1ZSxcbiAgLy8gaWYgZmFsc2UsIHdlIHVzZSB0aGUgYmFja2Ryb3AgaGVscGVyIHdpdGhvdXQgYWRkaW5nIGFueSBlbGVtZW50IHRvIHRoZSBkb21cbiAgcm9vdEVsZW1lbnQ6ICdib2R5JyAvLyBnaXZlIHRoZSBjaG9pY2UgdG8gcGxhY2UgYmFja2Ryb3AgdW5kZXIgZGlmZmVyZW50IGVsZW1lbnRzXG5cbn07XG5jb25zdCBEZWZhdWx0VHlwZSQ4ID0ge1xuICBjbGFzc05hbWU6ICdzdHJpbmcnLFxuICBjbGlja0NhbGxiYWNrOiAnKGZ1bmN0aW9ufG51bGwpJyxcbiAgaXNBbmltYXRlZDogJ2Jvb2xlYW4nLFxuICBpc1Zpc2libGU6ICdib29sZWFuJyxcbiAgcm9vdEVsZW1lbnQ6ICcoZWxlbWVudHxzdHJpbmcpJ1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIEJhY2tkcm9wIGV4dGVuZHMgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICB0aGlzLl9pc0FwcGVuZGVkID0gZmFsc2U7XG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JDg7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSQ4O1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDk7XG4gIH0gLy8gUHVibGljXG5cblxuICBzaG93KGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0aGlzLl9jb25maWcuaXNWaXNpYmxlKSB7XG4gICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9hcHBlbmQoKTtcblxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCk7XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLmlzQW5pbWF0ZWQpIHtcbiAgICAgIHJlZmxvdyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XJDUpO1xuXG4gICAgdGhpcy5fZW11bGF0ZUFuaW1hdGlvbigoKSA9PiB7XG4gICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhpZGUoY2FsbGJhY2spIHtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZy5pc1Zpc2libGUpIHtcbiAgICAgIGV4ZWN1dGUoY2FsbGJhY2spO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2dldEVsZW1lbnQoKS5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQ1KTtcblxuICAgIHRoaXMuX2VtdWxhdGVBbmltYXRpb24oKCkgPT4ge1xuICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICBleGVjdXRlKGNhbGxiYWNrKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgaWYgKCF0aGlzLl9pc0FwcGVuZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgRXZlbnRIYW5kbGVyLm9mZih0aGlzLl9lbGVtZW50LCBFVkVOVF9NT1VTRURPV04pO1xuXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcblxuICAgIHRoaXMuX2lzQXBwZW5kZWQgPSBmYWxzZTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfZ2V0RWxlbWVudCgpIHtcbiAgICBpZiAoIXRoaXMuX2VsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGJhY2tkcm9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSB0aGlzLl9jb25maWcuY2xhc3NOYW1lO1xuXG4gICAgICBpZiAodGhpcy5fY29uZmlnLmlzQW5pbWF0ZWQpIHtcbiAgICAgICAgYmFja2Ryb3AuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0ZBREUkNCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBiYWNrZHJvcDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIF9jb25maWdBZnRlck1lcmdlKGNvbmZpZykge1xuICAgIC8vIHVzZSBnZXRFbGVtZW50KCkgd2l0aCB0aGUgZGVmYXVsdCBcImJvZHlcIiB0byBnZXQgYSBmcmVzaCBFbGVtZW50IG9uIGVhY2ggaW5zdGFudGlhdGlvblxuICAgIGNvbmZpZy5yb290RWxlbWVudCA9IGdldEVsZW1lbnQoY29uZmlnLnJvb3RFbGVtZW50KTtcbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX2FwcGVuZCgpIHtcbiAgICBpZiAodGhpcy5faXNBcHBlbmRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9nZXRFbGVtZW50KCk7XG5cbiAgICB0aGlzLl9jb25maWcucm9vdEVsZW1lbnQuYXBwZW5kKGVsZW1lbnQpO1xuXG4gICAgRXZlbnRIYW5kbGVyLm9uKGVsZW1lbnQsIEVWRU5UX01PVVNFRE9XTiwgKCkgPT4ge1xuICAgICAgZXhlY3V0ZSh0aGlzLl9jb25maWcuY2xpY2tDYWxsYmFjayk7XG4gICAgfSk7XG4gICAgdGhpcy5faXNBcHBlbmRlZCA9IHRydWU7XG4gIH1cblxuICBfZW11bGF0ZUFuaW1hdGlvbihjYWxsYmFjaykge1xuICAgIGV4ZWN1dGVBZnRlclRyYW5zaXRpb24oY2FsbGJhY2ssIHRoaXMuX2dldEVsZW1lbnQoKSwgdGhpcy5fY29uZmlnLmlzQW5pbWF0ZWQpO1xuICB9XG5cbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiB1dGlsL2ZvY3VzdHJhcC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkOCA9ICdmb2N1c3RyYXAnO1xuY29uc3QgREFUQV9LRVkkNSA9ICdicy5mb2N1c3RyYXAnO1xuY29uc3QgRVZFTlRfS0VZJDUgPSBgLiR7REFUQV9LRVkkNX1gO1xuY29uc3QgRVZFTlRfRk9DVVNJTiQyID0gYGZvY3VzaW4ke0VWRU5UX0tFWSQ1fWA7XG5jb25zdCBFVkVOVF9LRVlET1dOX1RBQiA9IGBrZXlkb3duLnRhYiR7RVZFTlRfS0VZJDV9YDtcbmNvbnN0IFRBQl9LRVkgPSAnVGFiJztcbmNvbnN0IFRBQl9OQVZfRk9SV0FSRCA9ICdmb3J3YXJkJztcbmNvbnN0IFRBQl9OQVZfQkFDS1dBUkQgPSAnYmFja3dhcmQnO1xuY29uc3QgRGVmYXVsdCQ3ID0ge1xuICBhdXRvZm9jdXM6IHRydWUsXG4gIHRyYXBFbGVtZW50OiBudWxsIC8vIFRoZSBlbGVtZW50IHRvIHRyYXAgZm9jdXMgaW5zaWRlIG9mXG5cbn07XG5jb25zdCBEZWZhdWx0VHlwZSQ3ID0ge1xuICBhdXRvZm9jdXM6ICdib29sZWFuJyxcbiAgdHJhcEVsZW1lbnQ6ICdlbGVtZW50J1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIEZvY3VzVHJhcCBleHRlbmRzIENvbmZpZyB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fY29uZmlnID0gdGhpcy5fZ2V0Q29uZmlnKGNvbmZpZyk7XG4gICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLl9sYXN0VGFiTmF2RGlyZWN0aW9uID0gbnVsbDtcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkNztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkODtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGFjdGl2YXRlKCkge1xuICAgIGlmICh0aGlzLl9pc0FjdGl2ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb25maWcuYXV0b2ZvY3VzKSB7XG4gICAgICB0aGlzLl9jb25maWcudHJhcEVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBFdmVudEhhbmRsZXIub2ZmKGRvY3VtZW50LCBFVkVOVF9LRVkkNSk7IC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuXG4gICAgRXZlbnRIYW5kbGVyLm9uKGRvY3VtZW50LCBFVkVOVF9GT0NVU0lOJDIsIGV2ZW50ID0+IHRoaXMuX2hhbmRsZUZvY3VzaW4oZXZlbnQpKTtcbiAgICBFdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0tFWURPV05fVEFCLCBldmVudCA9PiB0aGlzLl9oYW5kbGVLZXlkb3duKGV2ZW50KSk7XG4gICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuICB9XG5cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzQWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICBFdmVudEhhbmRsZXIub2ZmKGRvY3VtZW50LCBFVkVOVF9LRVkkNSk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2hhbmRsZUZvY3VzaW4oZXZlbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICB0cmFwRWxlbWVudFxuICAgIH0gPSB0aGlzLl9jb25maWc7XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBkb2N1bWVudCB8fCBldmVudC50YXJnZXQgPT09IHRyYXBFbGVtZW50IHx8IHRyYXBFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50cyA9IFNlbGVjdG9yRW5naW5lLmZvY3VzYWJsZUNoaWxkcmVuKHRyYXBFbGVtZW50KTtcblxuICAgIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRyYXBFbGVtZW50LmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9sYXN0VGFiTmF2RGlyZWN0aW9uID09PSBUQUJfTkFWX0JBQ0tXQVJEKSB7XG4gICAgICBlbGVtZW50c1tlbGVtZW50cy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50c1swXS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSAhPT0gVEFCX0tFWSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xhc3RUYWJOYXZEaXJlY3Rpb24gPSBldmVudC5zaGlmdEtleSA/IFRBQl9OQVZfQkFDS1dBUkQgOiBUQUJfTkFWX0ZPUldBUkQ7XG4gIH1cblxufVxuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IG1vZGFsLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSQ3ID0gJ21vZGFsJztcbmNvbnN0IERBVEFfS0VZJDQgPSAnYnMubW9kYWwnO1xuY29uc3QgRVZFTlRfS0VZJDQgPSBgLiR7REFUQV9LRVkkNH1gO1xuY29uc3QgREFUQV9BUElfS0VZJDIgPSAnLmRhdGEtYXBpJztcbmNvbnN0IEVTQ0FQRV9LRVkkMSA9ICdFc2NhcGUnO1xuY29uc3QgRVZFTlRfSElERSQ0ID0gYGhpZGUke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9ISURFX1BSRVZFTlRFRCQxID0gYGhpZGVQcmV2ZW50ZWQke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9ISURERU4kNCA9IGBoaWRkZW4ke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9TSE9XJDQgPSBgc2hvdyR7RVZFTlRfS0VZJDR9YDtcbmNvbnN0IEVWRU5UX1NIT1dOJDQgPSBgc2hvd24ke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9SRVNJWkUkMSA9IGByZXNpemUke0VWRU5UX0tFWSQ0fWA7XG5jb25zdCBFVkVOVF9NT1VTRURPV05fRElTTUlTUyA9IGBtb3VzZWRvd24uZGlzbWlzcyR7RVZFTlRfS0VZJDR9YDtcbmNvbnN0IEVWRU5UX0tFWURPV05fRElTTUlTUyQxID0gYGtleWRvd24uZGlzbWlzcyR7RVZFTlRfS0VZJDR9YDtcbmNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJJDIgPSBgY2xpY2ske0VWRU5UX0tFWSQ0fSR7REFUQV9BUElfS0VZJDJ9YDtcbmNvbnN0IENMQVNTX05BTUVfT1BFTiA9ICdtb2RhbC1vcGVuJztcbmNvbnN0IENMQVNTX05BTUVfRkFERSQzID0gJ2ZhZGUnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XJDQgPSAnc2hvdyc7XG5jb25zdCBDTEFTU19OQU1FX1NUQVRJQyA9ICdtb2RhbC1zdGF0aWMnO1xuY29uc3QgT1BFTl9TRUxFQ1RPUiQxID0gJy5tb2RhbC5zaG93JztcbmNvbnN0IFNFTEVDVE9SX0RJQUxPRyA9ICcubW9kYWwtZGlhbG9nJztcbmNvbnN0IFNFTEVDVE9SX01PREFMX0JPRFkgPSAnLm1vZGFsLWJvZHknO1xuY29uc3QgU0VMRUNUT1JfREFUQV9UT0dHTEUkMiA9ICdbZGF0YS1icy10b2dnbGU9XCJtb2RhbFwiXSc7XG5jb25zdCBEZWZhdWx0JDYgPSB7XG4gIGJhY2tkcm9wOiB0cnVlLFxuICBmb2N1czogdHJ1ZSxcbiAga2V5Ym9hcmQ6IHRydWVcbn07XG5jb25zdCBEZWZhdWx0VHlwZSQ2ID0ge1xuICBiYWNrZHJvcDogJyhib29sZWFufHN0cmluZyknLFxuICBmb2N1czogJ2Jvb2xlYW4nLFxuICBrZXlib2FyZDogJ2Jvb2xlYW4nXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgTW9kYWwgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTtcbiAgICB0aGlzLl9kaWFsb2cgPSBTZWxlY3RvckVuZ2luZS5maW5kT25lKFNFTEVDVE9SX0RJQUxPRywgdGhpcy5fZWxlbWVudCk7XG4gICAgdGhpcy5fYmFja2Ryb3AgPSB0aGlzLl9pbml0aWFsaXplQmFja0Ryb3AoKTtcbiAgICB0aGlzLl9mb2N1c3RyYXAgPSB0aGlzLl9pbml0aWFsaXplRm9jdXNUcmFwKCk7XG4gICAgdGhpcy5faXNTaG93biA9IGZhbHNlO1xuICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgIHRoaXMuX3Njcm9sbEJhciA9IG5ldyBTY3JvbGxCYXJIZWxwZXIoKTtcblxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JDY7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSQ2O1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDc7XG4gIH0gLy8gUHVibGljXG5cblxuICB0b2dnbGUocmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLl9pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3cocmVsYXRlZFRhcmdldCk7XG4gIH1cblxuICBzaG93KHJlbGF0ZWRUYXJnZXQpIHtcbiAgICBpZiAodGhpcy5faXNTaG93biB8fCB0aGlzLl9pc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzaG93RXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XJDQsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXRcbiAgICB9KTtcblxuICAgIGlmIChzaG93RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbiAgICB0aGlzLl9zY3JvbGxCYXIuaGlkZSgpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfT1BFTik7XG5cbiAgICB0aGlzLl9hZGp1c3REaWFsb2coKTtcblxuICAgIHRoaXMuX2JhY2tkcm9wLnNob3coKCkgPT4gdGhpcy5fc2hvd0VsZW1lbnQocmVsYXRlZFRhcmdldCkpO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBpZiAoIXRoaXMuX2lzU2hvd24gfHwgdGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGlkZUV2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERSQ0KTtcblxuICAgIGlmIChoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcbiAgICB0aGlzLl9pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5fZm9jdXN0cmFwLmRlYWN0aXZhdGUoKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1ckNCk7XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKCgpID0+IHRoaXMuX2hpZGVNb2RhbCgpLCB0aGlzLl9lbGVtZW50LCB0aGlzLl9pc0FuaW1hdGVkKCkpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICBmb3IgKGNvbnN0IGh0bWxFbGVtZW50IG9mIFt3aW5kb3csIHRoaXMuX2RpYWxvZ10pIHtcbiAgICAgIEV2ZW50SGFuZGxlci5vZmYoaHRtbEVsZW1lbnQsIEVWRU5UX0tFWSQ0KTtcbiAgICB9XG5cbiAgICB0aGlzLl9iYWNrZHJvcC5kaXNwb3NlKCk7XG5cbiAgICB0aGlzLl9mb2N1c3RyYXAuZGVhY3RpdmF0ZSgpO1xuXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICB9XG5cbiAgaGFuZGxlVXBkYXRlKCkge1xuICAgIHRoaXMuX2FkanVzdERpYWxvZygpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9pbml0aWFsaXplQmFja0Ryb3AoKSB7XG4gICAgcmV0dXJuIG5ldyBCYWNrZHJvcCh7XG4gICAgICBpc1Zpc2libGU6IEJvb2xlYW4odGhpcy5fY29uZmlnLmJhY2tkcm9wKSxcbiAgICAgIC8vICdzdGF0aWMnIG9wdGlvbiB3aWxsIGJlIHRyYW5zbGF0ZWQgdG8gdHJ1ZSwgYW5kIGJvb2xlYW5zIHdpbGwga2VlcCB0aGVpciB2YWx1ZSxcbiAgICAgIGlzQW5pbWF0ZWQ6IHRoaXMuX2lzQW5pbWF0ZWQoKVxuICAgIH0pO1xuICB9XG5cbiAgX2luaXRpYWxpemVGb2N1c1RyYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBGb2N1c1RyYXAoe1xuICAgICAgdHJhcEVsZW1lbnQ6IHRoaXMuX2VsZW1lbnRcbiAgICB9KTtcbiAgfVxuXG4gIF9zaG93RWxlbWVudChyZWxhdGVkVGFyZ2V0KSB7XG4gICAgLy8gdHJ5IHRvIGFwcGVuZCBkeW5hbWljIG1vZGFsXG4gICAgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKHRoaXMuX2VsZW1lbnQpKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZCh0aGlzLl9lbGVtZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcsIHRydWUpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZGlhbG9nJyk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnNjcm9sbFRvcCA9IDA7XG4gICAgY29uc3QgbW9kYWxCb2R5ID0gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9NT0RBTF9CT0RZLCB0aGlzLl9kaWFsb2cpO1xuXG4gICAgaWYgKG1vZGFsQm9keSkge1xuICAgICAgbW9kYWxCb2R5LnNjcm9sbFRvcCA9IDA7XG4gICAgfVxuXG4gICAgcmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQ0KTtcblxuICAgIGNvbnN0IHRyYW5zaXRpb25Db21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jb25maWcuZm9jdXMpIHtcbiAgICAgICAgdGhpcy5fZm9jdXN0cmFwLmFjdGl2YXRlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPV04kNCwge1xuICAgICAgICByZWxhdGVkVGFyZ2V0XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjayh0cmFuc2l0aW9uQ29tcGxldGUsIHRoaXMuX2RpYWxvZywgdGhpcy5faXNBbmltYXRlZCgpKTtcbiAgfVxuXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfS0VZRE9XTl9ESVNNSVNTJDEsIGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC5rZXkgIT09IEVTQ0FQRV9LRVkkMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9jb25maWcua2V5Ym9hcmQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpO1xuICAgIH0pO1xuICAgIEV2ZW50SGFuZGxlci5vbih3aW5kb3csIEVWRU5UX1JFU0laRSQxLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNTaG93biAmJiAhdGhpcy5faXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHRoaXMuX2FkanVzdERpYWxvZygpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9NT1VTRURPV05fRElTTUlTUywgZXZlbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICAvLyBjbGljayBpcyBpbnNpZGUgbW9kYWwtZGlhbG9nXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5iYWNrZHJvcCA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgdGhpcy5fdHJpZ2dlckJhY2tkcm9wVHJhbnNpdGlvbigpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbmZpZy5iYWNrZHJvcCkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9oaWRlTW9kYWwoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1tb2RhbCcpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcblxuICAgIHRoaXMuX2lzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgdGhpcy5fYmFja2Ryb3AuaGlkZSgoKSA9PiB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9PUEVOKTtcblxuICAgICAgdGhpcy5fcmVzZXRBZGp1c3RtZW50cygpO1xuXG4gICAgICB0aGlzLl9zY3JvbGxCYXIucmVzZXQoKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElEREVOJDQpO1xuICAgIH0pO1xuICB9XG5cbiAgX2lzQW5pbWF0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfRkFERSQzKTtcbiAgfVxuXG4gIF90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uKCkge1xuICAgIGNvbnN0IGhpZGVFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREVfUFJFVkVOVEVEJDEpO1xuXG4gICAgaWYgKGhpZGVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaXNNb2RhbE92ZXJmbG93aW5nID0gdGhpcy5fZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGluaXRpYWxPdmVyZmxvd1kgPSB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93WTsgLy8gcmV0dXJuIGlmIHRoZSBmb2xsb3dpbmcgYmFja2dyb3VuZCB0cmFuc2l0aW9uIGhhc24ndCB5ZXQgY29tcGxldGVkXG5cbiAgICBpZiAoaW5pdGlhbE92ZXJmbG93WSA9PT0gJ2hpZGRlbicgfHwgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9TVEFUSUMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFpc01vZGFsT3ZlcmZsb3dpbmcpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgfVxuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU1RBVElDKTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU1RBVElDKTtcblxuICAgICAgdGhpcy5fcXVldWVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gaW5pdGlhbE92ZXJmbG93WTtcbiAgICAgIH0sIHRoaXMuX2RpYWxvZyk7XG4gICAgfSwgdGhpcy5fZGlhbG9nKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuZm9jdXMoKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcbiAgICovXG5cblxuICBfYWRqdXN0RGlhbG9nKCkge1xuICAgIGNvbnN0IGlzTW9kYWxPdmVyZmxvd2luZyA9IHRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgIGNvbnN0IHNjcm9sbGJhcldpZHRoID0gdGhpcy5fc2Nyb2xsQmFyLmdldFdpZHRoKCk7XG5cbiAgICBjb25zdCBpc0JvZHlPdmVyZmxvd2luZyA9IHNjcm9sbGJhcldpZHRoID4gMDtcblxuICAgIGlmIChpc0JvZHlPdmVyZmxvd2luZyAmJiAhaXNNb2RhbE92ZXJmbG93aW5nKSB7XG4gICAgICBjb25zdCBwcm9wZXJ0eSA9IGlzUlRMKCkgPyAncGFkZGluZ0xlZnQnIDogJ3BhZGRpbmdSaWdodCc7XG4gICAgICB0aGlzLl9lbGVtZW50LnN0eWxlW3Byb3BlcnR5XSA9IGAke3Njcm9sbGJhcldpZHRofXB4YDtcbiAgICB9XG5cbiAgICBpZiAoIWlzQm9keU92ZXJmbG93aW5nICYmIGlzTW9kYWxPdmVyZmxvd2luZykge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSBpc1JUTCgpID8gJ3BhZGRpbmdSaWdodCcgOiAncGFkZGluZ0xlZnQnO1xuICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZVtwcm9wZXJ0eV0gPSBgJHtzY3JvbGxiYXJXaWR0aH1weGA7XG4gICAgfVxuICB9XG5cbiAgX3Jlc2V0QWRqdXN0bWVudHMoKSB7XG4gICAgdGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdCA9ICcnO1xuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJyc7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZywgcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IE1vZGFsLmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgY29uZmlnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBkYXRhW2NvbmZpZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIGRhdGFbY29uZmlnXShyZWxhdGVkVGFyZ2V0KTtcbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24oZG9jdW1lbnQsIEVWRU5UX0NMSUNLX0RBVEFfQVBJJDIsIFNFTEVDVE9SX0RBVEFfVE9HR0xFJDIsIGZ1bmN0aW9uIChldmVudCkge1xuICBjb25zdCB0YXJnZXQgPSBnZXRFbGVtZW50RnJvbVNlbGVjdG9yKHRoaXMpO1xuXG4gIGlmIChbJ0EnLCAnQVJFQSddLmluY2x1ZGVzKHRoaXMudGFnTmFtZSkpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgRXZlbnRIYW5kbGVyLm9uZSh0YXJnZXQsIEVWRU5UX1NIT1ckNCwgc2hvd0V2ZW50ID0+IHtcbiAgICBpZiAoc2hvd0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBFdmVudEhhbmRsZXIub25lKHRhcmdldCwgRVZFTlRfSElEREVOJDQsICgpID0+IHtcbiAgICAgIGlmIChpc1Zpc2libGUodGhpcykpIHtcbiAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTsgLy8gYXZvaWQgY29uZmxpY3Qgd2hlbiBjbGlja2luZyBtb2RhbCB0b2dnbGVyIHdoaWxlIGFub3RoZXIgb25lIGlzIG9wZW5cblxuICBjb25zdCBhbHJlYWR5T3BlbiA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoT1BFTl9TRUxFQ1RPUiQxKTtcblxuICBpZiAoYWxyZWFkeU9wZW4pIHtcbiAgICBNb2RhbC5nZXRJbnN0YW5jZShhbHJlYWR5T3BlbikuaGlkZSgpO1xuICB9XG5cbiAgY29uc3QgZGF0YSA9IE1vZGFsLmdldE9yQ3JlYXRlSW5zdGFuY2UodGFyZ2V0KTtcbiAgZGF0YS50b2dnbGUodGhpcyk7XG59KTtcbmVuYWJsZURpc21pc3NUcmlnZ2VyKE1vZGFsKTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKE1vZGFsKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiBvZmZjYW52YXMuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJDYgPSAnb2ZmY2FudmFzJztcbmNvbnN0IERBVEFfS0VZJDMgPSAnYnMub2ZmY2FudmFzJztcbmNvbnN0IEVWRU5UX0tFWSQzID0gYC4ke0RBVEFfS0VZJDN9YDtcbmNvbnN0IERBVEFfQVBJX0tFWSQxID0gJy5kYXRhLWFwaSc7XG5jb25zdCBFVkVOVF9MT0FEX0RBVEFfQVBJJDIgPSBgbG9hZCR7RVZFTlRfS0VZJDN9JHtEQVRBX0FQSV9LRVkkMX1gO1xuY29uc3QgRVNDQVBFX0tFWSA9ICdFc2NhcGUnO1xuY29uc3QgQ0xBU1NfTkFNRV9TSE9XJDMgPSAnc2hvdyc7XG5jb25zdCBDTEFTU19OQU1FX1NIT1dJTkckMSA9ICdzaG93aW5nJztcbmNvbnN0IENMQVNTX05BTUVfSElESU5HID0gJ2hpZGluZyc7XG5jb25zdCBDTEFTU19OQU1FX0JBQ0tEUk9QID0gJ29mZmNhbnZhcy1iYWNrZHJvcCc7XG5jb25zdCBPUEVOX1NFTEVDVE9SID0gJy5vZmZjYW52YXMuc2hvdyc7XG5jb25zdCBFVkVOVF9TSE9XJDMgPSBgc2hvdyR7RVZFTlRfS0VZJDN9YDtcbmNvbnN0IEVWRU5UX1NIT1dOJDMgPSBgc2hvd24ke0VWRU5UX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9ISURFJDMgPSBgaGlkZSR7RVZFTlRfS0VZJDN9YDtcbmNvbnN0IEVWRU5UX0hJREVfUFJFVkVOVEVEID0gYGhpZGVQcmV2ZW50ZWQke0VWRU5UX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9ISURERU4kMyA9IGBoaWRkZW4ke0VWRU5UX0tFWSQzfWA7XG5jb25zdCBFVkVOVF9SRVNJWkUgPSBgcmVzaXplJHtFVkVOVF9LRVkkM31gO1xuY29uc3QgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMSA9IGBjbGljayR7RVZFTlRfS0VZJDN9JHtEQVRBX0FQSV9LRVkkMX1gO1xuY29uc3QgRVZFTlRfS0VZRE9XTl9ESVNNSVNTID0gYGtleWRvd24uZGlzbWlzcyR7RVZFTlRfS0VZJDN9YDtcbmNvbnN0IFNFTEVDVE9SX0RBVEFfVE9HR0xFJDEgPSAnW2RhdGEtYnMtdG9nZ2xlPVwib2ZmY2FudmFzXCJdJztcbmNvbnN0IERlZmF1bHQkNSA9IHtcbiAgYmFja2Ryb3A6IHRydWUsXG4gIGtleWJvYXJkOiB0cnVlLFxuICBzY3JvbGw6IGZhbHNlXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkNSA9IHtcbiAgYmFja2Ryb3A6ICcoYm9vbGVhbnxzdHJpbmcpJyxcbiAga2V5Ym9hcmQ6ICdib29sZWFuJyxcbiAgc2Nyb2xsOiAnYm9vbGVhbidcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBPZmZjYW52YXMgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTtcbiAgICB0aGlzLl9pc1Nob3duID0gZmFsc2U7XG4gICAgdGhpcy5fYmFja2Ryb3AgPSB0aGlzLl9pbml0aWFsaXplQmFja0Ryb3AoKTtcbiAgICB0aGlzLl9mb2N1c3RyYXAgPSB0aGlzLl9pbml0aWFsaXplRm9jdXNUcmFwKCk7XG5cbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdCgpIHtcbiAgICByZXR1cm4gRGVmYXVsdCQ1O1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGUkNTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSQ2O1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgdG9nZ2xlKHJlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5faXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KHJlbGF0ZWRUYXJnZXQpO1xuICB9XG5cbiAgc2hvdyhyZWxhdGVkVGFyZ2V0KSB7XG4gICAgaWYgKHRoaXMuX2lzU2hvd24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzaG93RXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCBFVkVOVF9TSE9XJDMsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXRcbiAgICB9KTtcblxuICAgIGlmIChzaG93RXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2lzU2hvd24gPSB0cnVlO1xuXG4gICAgdGhpcy5fYmFja2Ryb3Auc2hvdygpO1xuXG4gICAgaWYgKCF0aGlzLl9jb25maWcuc2Nyb2xsKSB7XG4gICAgICBuZXcgU2Nyb2xsQmFySGVscGVyKCkuaGlkZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLW1vZGFsJywgdHJ1ZSk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdkaWFsb2cnKTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1dJTkckMSk7XG5cbiAgICBjb25zdCBjb21wbGV0ZUNhbGxCYWNrID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25maWcuc2Nyb2xsIHx8IHRoaXMuX2NvbmZpZy5iYWNrZHJvcCkge1xuICAgICAgICB0aGlzLl9mb2N1c3RyYXAuYWN0aXZhdGUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVyQzKTtcblxuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPV0lORyQxKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPV04kMywge1xuICAgICAgICByZWxhdGVkVGFyZ2V0XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjayhjb21wbGV0ZUNhbGxCYWNrLCB0aGlzLl9lbGVtZW50LCB0cnVlKTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1Nob3duKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGlkZUV2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERSQzKTtcblxuICAgIGlmIChoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2ZvY3VzdHJhcC5kZWFjdGl2YXRlKCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LmJsdXIoKTtcblxuICAgIHRoaXMuX2lzU2hvd24gPSBmYWxzZTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0hJRElORyk7XG5cbiAgICB0aGlzLl9iYWNrZHJvcC5oaWRlKCk7XG5cbiAgICBjb25zdCBjb21wbGV0ZUNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQzLCBDTEFTU19OQU1FX0hJRElORyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLW1vZGFsJyk7XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XG5cbiAgICAgIGlmICghdGhpcy5fY29uZmlnLnNjcm9sbCkge1xuICAgICAgICBuZXcgU2Nyb2xsQmFySGVscGVyKCkucmVzZXQoKTtcbiAgICAgIH1cblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElEREVOJDMpO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlQ2FsbGJhY2ssIHRoaXMuX2VsZW1lbnQsIHRydWUpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLl9iYWNrZHJvcC5kaXNwb3NlKCk7XG5cbiAgICB0aGlzLl9mb2N1c3RyYXAuZGVhY3RpdmF0ZSgpO1xuXG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9pbml0aWFsaXplQmFja0Ryb3AoKSB7XG4gICAgY29uc3QgY2xpY2tDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9jb25maWcuYmFja2Ryb3AgPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJREVfUFJFVkVOVEVEKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9OyAvLyAnc3RhdGljJyBvcHRpb24gd2lsbCBiZSB0cmFuc2xhdGVkIHRvIHRydWUsIGFuZCBib29sZWFucyB3aWxsIGtlZXAgdGhlaXIgdmFsdWVcblxuXG4gICAgY29uc3QgaXNWaXNpYmxlID0gQm9vbGVhbih0aGlzLl9jb25maWcuYmFja2Ryb3ApO1xuICAgIHJldHVybiBuZXcgQmFja2Ryb3Aoe1xuICAgICAgY2xhc3NOYW1lOiBDTEFTU19OQU1FX0JBQ0tEUk9QLFxuICAgICAgaXNWaXNpYmxlLFxuICAgICAgaXNBbmltYXRlZDogdHJ1ZSxcbiAgICAgIHJvb3RFbGVtZW50OiB0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUsXG4gICAgICBjbGlja0NhbGxiYWNrOiBpc1Zpc2libGUgPyBjbGlja0NhbGxiYWNrIDogbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgX2luaXRpYWxpemVGb2N1c1RyYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBGb2N1c1RyYXAoe1xuICAgICAgdHJhcEVsZW1lbnQ6IHRoaXMuX2VsZW1lbnRcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfS0VZRE9XTl9ESVNNSVNTLCBldmVudCA9PiB7XG4gICAgICBpZiAoZXZlbnQua2V5ICE9PSBFU0NBUEVfS0VZKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9jb25maWcua2V5Ym9hcmQpIHtcbiAgICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERV9QUkVWRU5URUQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0pO1xuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBPZmZjYW52YXMuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLCBjb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGF0YVtjb25maWddID09PSB1bmRlZmluZWQgfHwgY29uZmlnLnN0YXJ0c1dpdGgoJ18nKSB8fCBjb25maWcgPT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkIFwiJHtjb25maWd9XCJgKTtcbiAgICAgIH1cblxuICAgICAgZGF0YVtjb25maWddKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbn1cbi8qKlxuICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAqL1xuXG5cbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMSwgU0VMRUNUT1JfREFUQV9UT0dHTEUkMSwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGNvbnN0IHRhcmdldCA9IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IodGhpcyk7XG5cbiAgaWYgKFsnQScsICdBUkVBJ10uaW5jbHVkZXModGhpcy50YWdOYW1lKSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBpZiAoaXNEaXNhYmxlZCh0aGlzKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIEV2ZW50SGFuZGxlci5vbmUodGFyZ2V0LCBFVkVOVF9ISURERU4kMywgKCkgPT4ge1xuICAgIC8vIGZvY3VzIG9uIHRyaWdnZXIgd2hlbiBpdCBpcyBjbG9zZWRcbiAgICBpZiAoaXNWaXNpYmxlKHRoaXMpKSB7XG4gICAgICB0aGlzLmZvY3VzKCk7XG4gICAgfVxuICB9KTsgLy8gYXZvaWQgY29uZmxpY3Qgd2hlbiBjbGlja2luZyBhIHRvZ2dsZXIgb2YgYW4gb2ZmY2FudmFzLCB3aGlsZSBhbm90aGVyIGlzIG9wZW5cblxuICBjb25zdCBhbHJlYWR5T3BlbiA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoT1BFTl9TRUxFQ1RPUik7XG5cbiAgaWYgKGFscmVhZHlPcGVuICYmIGFscmVhZHlPcGVuICE9PSB0YXJnZXQpIHtcbiAgICBPZmZjYW52YXMuZ2V0SW5zdGFuY2UoYWxyZWFkeU9wZW4pLmhpZGUoKTtcbiAgfVxuXG4gIGNvbnN0IGRhdGEgPSBPZmZjYW52YXMuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0YXJnZXQpO1xuICBkYXRhLnRvZ2dsZSh0aGlzKTtcbn0pO1xuRXZlbnRIYW5kbGVyLm9uKHdpbmRvdywgRVZFTlRfTE9BRF9EQVRBX0FQSSQyLCAoKSA9PiB7XG4gIGZvciAoY29uc3Qgc2VsZWN0b3Igb2YgU2VsZWN0b3JFbmdpbmUuZmluZChPUEVOX1NFTEVDVE9SKSkge1xuICAgIE9mZmNhbnZhcy5nZXRPckNyZWF0ZUluc3RhbmNlKHNlbGVjdG9yKS5zaG93KCk7XG4gIH1cbn0pO1xuRXZlbnRIYW5kbGVyLm9uKHdpbmRvdywgRVZFTlRfUkVTSVpFLCAoKSA9PiB7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBTZWxlY3RvckVuZ2luZS5maW5kKCdbYXJpYS1tb2RhbF1bY2xhc3MqPXNob3ddW2NsYXNzKj1vZmZjYW52YXMtXScpKSB7XG4gICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgIE9mZmNhbnZhcy5nZXRPckNyZWF0ZUluc3RhbmNlKGVsZW1lbnQpLmhpZGUoKTtcbiAgICB9XG4gIH1cbn0pO1xuZW5hYmxlRGlzbWlzc1RyaWdnZXIoT2ZmY2FudmFzKTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKE9mZmNhbnZhcyk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogdXRpbC9zYW5pdGl6ZXIuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuY29uc3QgdXJpQXR0cmlidXRlcyA9IG5ldyBTZXQoWydiYWNrZ3JvdW5kJywgJ2NpdGUnLCAnaHJlZicsICdpdGVtdHlwZScsICdsb25nZGVzYycsICdwb3N0ZXInLCAnc3JjJywgJ3hsaW5rOmhyZWYnXSk7XG5jb25zdCBBUklBX0FUVFJJQlVURV9QQVRURVJOID0gL15hcmlhLVtcXHctXSokL2k7XG4vKipcbiAqIEEgcGF0dGVybiB0aGF0IHJlY29nbml6ZXMgYSBjb21tb25seSB1c2VmdWwgc3Vic2V0IG9mIFVSTHMgdGhhdCBhcmUgc2FmZS5cbiAqXG4gKiBTaG91dC1vdXQgdG8gQW5ndWxhciBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2Jsb2IvMTIuMi54L3BhY2thZ2VzL2NvcmUvc3JjL3Nhbml0aXphdGlvbi91cmxfc2FuaXRpemVyLnRzXG4gKi9cblxuY29uc3QgU0FGRV9VUkxfUEFUVEVSTiA9IC9eKD86KD86aHR0cHM/fG1haWx0b3xmdHB8dGVsfGZpbGV8c21zKTp8W14jJi86P10qKD86WyMvP118JCkpL2k7XG4vKipcbiAqIEEgcGF0dGVybiB0aGF0IG1hdGNoZXMgc2FmZSBkYXRhIFVSTHMuIE9ubHkgbWF0Y2hlcyBpbWFnZSwgdmlkZW8gYW5kIGF1ZGlvIHR5cGVzLlxuICpcbiAqIFNob3V0LW91dCB0byBBbmd1bGFyIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvYmxvYi8xMi4yLngvcGFja2FnZXMvY29yZS9zcmMvc2FuaXRpemF0aW9uL3VybF9zYW5pdGl6ZXIudHNcbiAqL1xuXG5jb25zdCBEQVRBX1VSTF9QQVRURVJOID0gL15kYXRhOig/OmltYWdlXFwvKD86Ym1wfGdpZnxqcGVnfGpwZ3xwbmd8dGlmZnx3ZWJwKXx2aWRlb1xcLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtKXxhdWRpb1xcLyg/Om1wM3xvZ2F8b2dnfG9wdXMpKTtiYXNlNjQsW1xcZCsvYS16XSs9KiQvaTtcblxuY29uc3QgYWxsb3dlZEF0dHJpYnV0ZSA9IChhdHRyaWJ1dGUsIGFsbG93ZWRBdHRyaWJ1dGVMaXN0KSA9PiB7XG4gIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICBpZiAoYWxsb3dlZEF0dHJpYnV0ZUxpc3QuaW5jbHVkZXMoYXR0cmlidXRlTmFtZSkpIHtcbiAgICBpZiAodXJpQXR0cmlidXRlcy5oYXMoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgIHJldHVybiBCb29sZWFuKFNBRkVfVVJMX1BBVFRFUk4udGVzdChhdHRyaWJ1dGUubm9kZVZhbHVlKSB8fCBEQVRBX1VSTF9QQVRURVJOLnRlc3QoYXR0cmlidXRlLm5vZGVWYWx1ZSkpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIENoZWNrIGlmIGEgcmVndWxhciBleHByZXNzaW9uIHZhbGlkYXRlcyB0aGUgYXR0cmlidXRlLlxuXG5cbiAgcmV0dXJuIGFsbG93ZWRBdHRyaWJ1dGVMaXN0LmZpbHRlcihhdHRyaWJ1dGVSZWdleCA9PiBhdHRyaWJ1dGVSZWdleCBpbnN0YW5jZW9mIFJlZ0V4cCkuc29tZShyZWdleCA9PiByZWdleC50ZXN0KGF0dHJpYnV0ZU5hbWUpKTtcbn07XG5cbmNvbnN0IERlZmF1bHRBbGxvd2xpc3QgPSB7XG4gIC8vIEdsb2JhbCBhdHRyaWJ1dGVzIGFsbG93ZWQgb24gYW55IHN1cHBsaWVkIGVsZW1lbnQgYmVsb3cuXG4gICcqJzogWydjbGFzcycsICdkaXInLCAnaWQnLCAnbGFuZycsICdyb2xlJywgQVJJQV9BVFRSSUJVVEVfUEFUVEVSTl0sXG4gIGE6IFsndGFyZ2V0JywgJ2hyZWYnLCAndGl0bGUnLCAncmVsJ10sXG4gIGFyZWE6IFtdLFxuICBiOiBbXSxcbiAgYnI6IFtdLFxuICBjb2w6IFtdLFxuICBjb2RlOiBbXSxcbiAgZGl2OiBbXSxcbiAgZW06IFtdLFxuICBocjogW10sXG4gIGgxOiBbXSxcbiAgaDI6IFtdLFxuICBoMzogW10sXG4gIGg0OiBbXSxcbiAgaDU6IFtdLFxuICBoNjogW10sXG4gIGk6IFtdLFxuICBpbWc6IFsnc3JjJywgJ3NyY3NldCcsICdhbHQnLCAndGl0bGUnLCAnd2lkdGgnLCAnaGVpZ2h0J10sXG4gIGxpOiBbXSxcbiAgb2w6IFtdLFxuICBwOiBbXSxcbiAgcHJlOiBbXSxcbiAgczogW10sXG4gIHNtYWxsOiBbXSxcbiAgc3BhbjogW10sXG4gIHN1YjogW10sXG4gIHN1cDogW10sXG4gIHN0cm9uZzogW10sXG4gIHU6IFtdLFxuICB1bDogW11cbn07XG5mdW5jdGlvbiBzYW5pdGl6ZUh0bWwodW5zYWZlSHRtbCwgYWxsb3dMaXN0LCBzYW5pdGl6ZUZ1bmN0aW9uKSB7XG4gIGlmICghdW5zYWZlSHRtbC5sZW5ndGgpIHtcbiAgICByZXR1cm4gdW5zYWZlSHRtbDtcbiAgfVxuXG4gIGlmIChzYW5pdGl6ZUZ1bmN0aW9uICYmIHR5cGVvZiBzYW5pdGl6ZUZ1bmN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHNhbml0aXplRnVuY3Rpb24odW5zYWZlSHRtbCk7XG4gIH1cblxuICBjb25zdCBkb21QYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xuICBjb25zdCBjcmVhdGVkRG9jdW1lbnQgPSBkb21QYXJzZXIucGFyc2VGcm9tU3RyaW5nKHVuc2FmZUh0bWwsICd0ZXh0L2h0bWwnKTtcbiAgY29uc3QgZWxlbWVudHMgPSBbXS5jb25jYXQoLi4uY3JlYXRlZERvY3VtZW50LmJvZHkucXVlcnlTZWxlY3RvckFsbCgnKicpKTtcblxuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBjb25zdCBlbGVtZW50TmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmICghT2JqZWN0LmtleXMoYWxsb3dMaXN0KS5pbmNsdWRlcyhlbGVtZW50TmFtZSkpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb25zdCBhdHRyaWJ1dGVMaXN0ID0gW10uY29uY2F0KC4uLmVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgY29uc3QgYWxsb3dlZEF0dHJpYnV0ZXMgPSBbXS5jb25jYXQoYWxsb3dMaXN0WycqJ10gfHwgW10sIGFsbG93TGlzdFtlbGVtZW50TmFtZV0gfHwgW10pO1xuXG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlTGlzdCkge1xuICAgICAgaWYgKCFhbGxvd2VkQXR0cmlidXRlKGF0dHJpYnV0ZSwgYWxsb3dlZEF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZS5ub2RlTmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZWREb2N1bWVudC5ib2R5LmlubmVySFRNTDtcbn1cblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiB1dGlsL3RlbXBsYXRlLWZhY3RvcnkuanNcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFpbi9MSUNFTlNFKVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqL1xuLyoqXG4gKiBDb25zdGFudHNcbiAqL1xuXG5jb25zdCBOQU1FJDUgPSAnVGVtcGxhdGVGYWN0b3J5JztcbmNvbnN0IERlZmF1bHQkNCA9IHtcbiAgYWxsb3dMaXN0OiBEZWZhdWx0QWxsb3dsaXN0LFxuICBjb250ZW50OiB7fSxcbiAgLy8geyBzZWxlY3RvciA6IHRleHQgLCAgc2VsZWN0b3IyIDogdGV4dDIgLCB9XG4gIGV4dHJhQ2xhc3M6ICcnLFxuICBodG1sOiBmYWxzZSxcbiAgc2FuaXRpemU6IHRydWUsXG4gIHNhbml0aXplRm46IG51bGwsXG4gIHRlbXBsYXRlOiAnPGRpdj48L2Rpdj4nXG59O1xuY29uc3QgRGVmYXVsdFR5cGUkNCA9IHtcbiAgYWxsb3dMaXN0OiAnb2JqZWN0JyxcbiAgY29udGVudDogJ29iamVjdCcsXG4gIGV4dHJhQ2xhc3M6ICcoc3RyaW5nfGZ1bmN0aW9uKScsXG4gIGh0bWw6ICdib29sZWFuJyxcbiAgc2FuaXRpemU6ICdib29sZWFuJyxcbiAgc2FuaXRpemVGbjogJyhudWxsfGZ1bmN0aW9uKScsXG4gIHRlbXBsYXRlOiAnc3RyaW5nJ1xufTtcbmNvbnN0IERlZmF1bHRDb250ZW50VHlwZSA9IHtcbiAgZW50cnk6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb258bnVsbCknLFxuICBzZWxlY3RvcjogJyhzdHJpbmd8ZWxlbWVudCknXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgVGVtcGxhdGVGYWN0b3J5IGV4dGVuZHMgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkNDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDQ7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkNTtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGdldENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5fY29uZmlnLmNvbnRlbnQpLm1hcChjb25maWcgPT4gdGhpcy5fcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24oY29uZmlnKSkuZmlsdGVyKEJvb2xlYW4pO1xuICB9XG5cbiAgaGFzQ29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb250ZW50KCkubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGNoYW5nZUNvbnRlbnQoY29udGVudCkge1xuICAgIHRoaXMuX2NoZWNrQ29udGVudChjb250ZW50KTtcblxuICAgIHRoaXMuX2NvbmZpZy5jb250ZW50ID0geyAuLi50aGlzLl9jb25maWcuY29udGVudCxcbiAgICAgIC4uLmNvbnRlbnRcbiAgICB9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdG9IdG1sKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRlbXBsYXRlV3JhcHBlci5pbm5lckhUTUwgPSB0aGlzLl9tYXliZVNhbml0aXplKHRoaXMuX2NvbmZpZy50ZW1wbGF0ZSk7XG5cbiAgICBmb3IgKGNvbnN0IFtzZWxlY3RvciwgdGV4dF0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5fY29uZmlnLmNvbnRlbnQpKSB7XG4gICAgICB0aGlzLl9zZXRDb250ZW50KHRlbXBsYXRlV3JhcHBlciwgdGV4dCwgc2VsZWN0b3IpO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBsYXRlID0gdGVtcGxhdGVXcmFwcGVyLmNoaWxkcmVuWzBdO1xuXG4gICAgY29uc3QgZXh0cmFDbGFzcyA9IHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKHRoaXMuX2NvbmZpZy5leHRyYUNsYXNzKTtcblxuICAgIGlmIChleHRyYUNsYXNzKSB7XG4gICAgICB0ZW1wbGF0ZS5jbGFzc0xpc3QuYWRkKC4uLmV4dHJhQ2xhc3Muc3BsaXQoJyAnKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF90eXBlQ2hlY2tDb25maWcoY29uZmlnKSB7XG4gICAgc3VwZXIuX3R5cGVDaGVja0NvbmZpZyhjb25maWcpO1xuXG4gICAgdGhpcy5fY2hlY2tDb250ZW50KGNvbmZpZy5jb250ZW50KTtcbiAgfVxuXG4gIF9jaGVja0NvbnRlbnQoYXJnKSB7XG4gICAgZm9yIChjb25zdCBbc2VsZWN0b3IsIGNvbnRlbnRdIG9mIE9iamVjdC5lbnRyaWVzKGFyZykpIHtcbiAgICAgIHN1cGVyLl90eXBlQ2hlY2tDb25maWcoe1xuICAgICAgICBzZWxlY3RvcixcbiAgICAgICAgZW50cnk6IGNvbnRlbnRcbiAgICAgIH0sIERlZmF1bHRDb250ZW50VHlwZSk7XG4gICAgfVxuICB9XG5cbiAgX3NldENvbnRlbnQodGVtcGxhdGUsIGNvbnRlbnQsIHNlbGVjdG9yKSB7XG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShzZWxlY3RvciwgdGVtcGxhdGUpO1xuXG4gICAgaWYgKCF0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb250ZW50ID0gdGhpcy5fcmVzb2x2ZVBvc3NpYmxlRnVuY3Rpb24oY29udGVudCk7XG5cbiAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgIHRlbXBsYXRlRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFbGVtZW50KGNvbnRlbnQpKSB7XG4gICAgICB0aGlzLl9wdXRFbGVtZW50SW5UZW1wbGF0ZShnZXRFbGVtZW50KGNvbnRlbnQpLCB0ZW1wbGF0ZUVsZW1lbnQpO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2NvbmZpZy5odG1sKSB7XG4gICAgICB0ZW1wbGF0ZUVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5fbWF5YmVTYW5pdGl6ZShjb250ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0ZW1wbGF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICB9XG5cbiAgX21heWJlU2FuaXRpemUoYXJnKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5zYW5pdGl6ZSA/IHNhbml0aXplSHRtbChhcmcsIHRoaXMuX2NvbmZpZy5hbGxvd0xpc3QsIHRoaXMuX2NvbmZpZy5zYW5pdGl6ZUZuKSA6IGFyZztcbiAgfVxuXG4gIF9yZXNvbHZlUG9zc2libGVGdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJyA/IGFyZyh0aGlzKSA6IGFyZztcbiAgfVxuXG4gIF9wdXRFbGVtZW50SW5UZW1wbGF0ZShlbGVtZW50LCB0ZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5fY29uZmlnLmh0bWwpIHtcbiAgICAgIHRlbXBsYXRlRWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIHRlbXBsYXRlRWxlbWVudC5hcHBlbmQoZWxlbWVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGVtcGxhdGVFbGVtZW50LnRleHRDb250ZW50ID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgfVxuXG59XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogdG9vbHRpcC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkNCA9ICd0b29sdGlwJztcbmNvbnN0IERJU0FMTE9XRURfQVRUUklCVVRFUyA9IG5ldyBTZXQoWydzYW5pdGl6ZScsICdhbGxvd0xpc3QnLCAnc2FuaXRpemVGbiddKTtcbmNvbnN0IENMQVNTX05BTUVfRkFERSQyID0gJ2ZhZGUnO1xuY29uc3QgQ0xBU1NfTkFNRV9NT0RBTCA9ICdtb2RhbCc7XG5jb25zdCBDTEFTU19OQU1FX1NIT1ckMiA9ICdzaG93JztcbmNvbnN0IFNFTEVDVE9SX1RPT0xUSVBfSU5ORVIgPSAnLnRvb2x0aXAtaW5uZXInO1xuY29uc3QgU0VMRUNUT1JfTU9EQUwgPSBgLiR7Q0xBU1NfTkFNRV9NT0RBTH1gO1xuY29uc3QgRVZFTlRfTU9EQUxfSElERSA9ICdoaWRlLmJzLm1vZGFsJztcbmNvbnN0IFRSSUdHRVJfSE9WRVIgPSAnaG92ZXInO1xuY29uc3QgVFJJR0dFUl9GT0NVUyA9ICdmb2N1cyc7XG5jb25zdCBUUklHR0VSX0NMSUNLID0gJ2NsaWNrJztcbmNvbnN0IFRSSUdHRVJfTUFOVUFMID0gJ21hbnVhbCc7XG5jb25zdCBFVkVOVF9ISURFJDIgPSAnaGlkZSc7XG5jb25zdCBFVkVOVF9ISURERU4kMiA9ICdoaWRkZW4nO1xuY29uc3QgRVZFTlRfU0hPVyQyID0gJ3Nob3cnO1xuY29uc3QgRVZFTlRfU0hPV04kMiA9ICdzaG93bic7XG5jb25zdCBFVkVOVF9JTlNFUlRFRCA9ICdpbnNlcnRlZCc7XG5jb25zdCBFVkVOVF9DTElDSyQxID0gJ2NsaWNrJztcbmNvbnN0IEVWRU5UX0ZPQ1VTSU4kMSA9ICdmb2N1c2luJztcbmNvbnN0IEVWRU5UX0ZPQ1VTT1VUJDEgPSAnZm9jdXNvdXQnO1xuY29uc3QgRVZFTlRfTU9VU0VFTlRFUiA9ICdtb3VzZWVudGVyJztcbmNvbnN0IEVWRU5UX01PVVNFTEVBVkUgPSAnbW91c2VsZWF2ZSc7XG5jb25zdCBBdHRhY2htZW50TWFwID0ge1xuICBBVVRPOiAnYXV0bycsXG4gIFRPUDogJ3RvcCcsXG4gIFJJR0hUOiBpc1JUTCgpID8gJ2xlZnQnIDogJ3JpZ2h0JyxcbiAgQk9UVE9NOiAnYm90dG9tJyxcbiAgTEVGVDogaXNSVEwoKSA/ICdyaWdodCcgOiAnbGVmdCdcbn07XG5jb25zdCBEZWZhdWx0JDMgPSB7XG4gIGFsbG93TGlzdDogRGVmYXVsdEFsbG93bGlzdCxcbiAgYW5pbWF0aW9uOiB0cnVlLFxuICBib3VuZGFyeTogJ2NsaXBwaW5nUGFyZW50cycsXG4gIGNvbnRhaW5lcjogZmFsc2UsXG4gIGN1c3RvbUNsYXNzOiAnJyxcbiAgZGVsYXk6IDAsXG4gIGZhbGxiYWNrUGxhY2VtZW50czogWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXSxcbiAgaHRtbDogZmFsc2UsXG4gIG9mZnNldDogWzAsIDBdLFxuICBwbGFjZW1lbnQ6ICd0b3AnLFxuICBwb3BwZXJDb25maWc6IG51bGwsXG4gIHNhbml0aXplOiB0cnVlLFxuICBzYW5pdGl6ZUZuOiBudWxsLFxuICBzZWxlY3RvcjogZmFsc2UsXG4gIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRvb2x0aXBcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+JyArICc8L2Rpdj4nLFxuICB0aXRsZTogJycsXG4gIHRyaWdnZXI6ICdob3ZlciBmb2N1cydcbn07XG5jb25zdCBEZWZhdWx0VHlwZSQzID0ge1xuICBhbGxvd0xpc3Q6ICdvYmplY3QnLFxuICBhbmltYXRpb246ICdib29sZWFuJyxcbiAgYm91bmRhcnk6ICcoc3RyaW5nfGVsZW1lbnQpJyxcbiAgY29udGFpbmVyOiAnKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pJyxcbiAgY3VzdG9tQ2xhc3M6ICcoc3RyaW5nfGZ1bmN0aW9uKScsXG4gIGRlbGF5OiAnKG51bWJlcnxvYmplY3QpJyxcbiAgZmFsbGJhY2tQbGFjZW1lbnRzOiAnYXJyYXknLFxuICBodG1sOiAnYm9vbGVhbicsXG4gIG9mZnNldDogJyhhcnJheXxzdHJpbmd8ZnVuY3Rpb24pJyxcbiAgcGxhY2VtZW50OiAnKHN0cmluZ3xmdW5jdGlvbiknLFxuICBwb3BwZXJDb25maWc6ICcobnVsbHxvYmplY3R8ZnVuY3Rpb24pJyxcbiAgc2FuaXRpemU6ICdib29sZWFuJyxcbiAgc2FuaXRpemVGbjogJyhudWxsfGZ1bmN0aW9uKScsXG4gIHNlbGVjdG9yOiAnKHN0cmluZ3xib29sZWFuKScsXG4gIHRlbXBsYXRlOiAnc3RyaW5nJyxcbiAgdGl0bGU6ICcoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJyxcbiAgdHJpZ2dlcjogJ3N0cmluZydcbn07XG4vKipcbiAqIENsYXNzIGRlZmluaXRpb25cbiAqL1xuXG5jbGFzcyBUb29sdGlwIGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIGlmICh0eXBlb2YgUG9wcGVyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9vdHN0cmFwXFwncyB0b29sdGlwcyByZXF1aXJlIFBvcHBlciAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKScpO1xuICAgIH1cblxuICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7IC8vIFByaXZhdGVcblxuICAgIHRoaXMuX2lzRW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5fdGltZW91dCA9IDA7XG4gICAgdGhpcy5faXNIb3ZlcmVkID0gZmFsc2U7XG4gICAgdGhpcy5fYWN0aXZlVHJpZ2dlciA9IHt9O1xuICAgIHRoaXMuX3BvcHBlciA9IG51bGw7XG4gICAgdGhpcy5fdGVtcGxhdGVGYWN0b3J5ID0gbnVsbDtcbiAgICB0aGlzLl9uZXdDb250ZW50ID0gbnVsbDsgLy8gUHJvdGVjdGVkXG5cbiAgICB0aGlzLnRpcCA9IG51bGw7XG5cbiAgICB0aGlzLl9zZXRMaXN0ZW5lcnMoKTtcbiAgfSAvLyBHZXR0ZXJzXG5cblxuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkMztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDM7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkNDtcbiAgfSAvLyBQdWJsaWNcblxuXG4gIGVuYWJsZSgpIHtcbiAgICB0aGlzLl9pc0VuYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICB0aGlzLl9pc0VuYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHRvZ2dsZUVuYWJsZWQoKSB7XG4gICAgdGhpcy5faXNFbmFibGVkID0gIXRoaXMuX2lzRW5hYmxlZDtcbiAgfVxuXG4gIHRvZ2dsZShldmVudCkge1xuICAgIGlmICghdGhpcy5faXNFbmFibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5faW5pdGlhbGl6ZU9uRGVsZWdhdGVkVGFyZ2V0KGV2ZW50KTtcblxuICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlci5jbGljayA9ICFjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO1xuXG4gICAgICBpZiAoY29udGV4dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICAgIGNvbnRleHQuX2VudGVyKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0Ll9sZWF2ZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2lzU2hvd24oKSkge1xuICAgICAgdGhpcy5fbGVhdmUoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2VudGVyKCk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcbiAgICBFdmVudEhhbmRsZXIub2ZmKHRoaXMuX2VsZW1lbnQuY2xvc2VzdChTRUxFQ1RPUl9NT0RBTCksIEVWRU5UX01PREFMX0hJREUsIHRoaXMuX2hpZGVNb2RhbEhhbmRsZXIpO1xuXG4gICAgaWYgKHRoaXMudGlwKSB7XG4gICAgICB0aGlzLnRpcC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kaXNwb3NlUG9wcGVyKCk7XG5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH1cblxuICBzaG93KCkge1xuICAgIGlmICh0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgdXNlIHNob3cgb24gdmlzaWJsZSBlbGVtZW50cycpO1xuICAgIH1cblxuICAgIGlmICghKHRoaXMuX2lzV2l0aENvbnRlbnQoKSAmJiB0aGlzLl9pc0VuYWJsZWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfU0hPVyQyKSk7XG4gICAgY29uc3Qgc2hhZG93Um9vdCA9IGZpbmRTaGFkb3dSb290KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgY29uc3QgaXNJblRoZURvbSA9IChzaGFkb3dSb290IHx8IHRoaXMuX2VsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmNvbnRhaW5zKHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkIHx8ICFpc0luVGhlRG9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyB0b2RvIHY2IHJlbW92ZSB0aGlzIE9SIG1ha2UgaXQgb3B0aW9uYWxcblxuXG4gICAgaWYgKHRoaXMudGlwKSB7XG4gICAgICB0aGlzLnRpcC5yZW1vdmUoKTtcbiAgICAgIHRoaXMudGlwID0gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB0aXAgPSB0aGlzLl9nZXRUaXBFbGVtZW50KCk7XG5cbiAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIHRpcC5nZXRBdHRyaWJ1dGUoJ2lkJykpO1xuXG4gICAgY29uc3Qge1xuICAgICAgY29udGFpbmVyXG4gICAgfSA9IHRoaXMuX2NvbmZpZztcblxuICAgIGlmICghdGhpcy5fZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyh0aGlzLnRpcCkpIHtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmQodGlwKTtcbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX0lOU0VSVEVEKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3BvcHBlcikge1xuICAgICAgdGhpcy5fcG9wcGVyLnVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9wb3BwZXIgPSB0aGlzLl9jcmVhdGVQb3BwZXIodGlwKTtcbiAgICB9XG5cbiAgICB0aXAuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1ckMik7IC8vIElmIHRoaXMgaXMgYSB0b3VjaC1lbmFibGVkIGRldmljZSB3ZSBhZGQgZXh0cmFcbiAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHRvIHRoZSBib2R5J3MgaW1tZWRpYXRlIGNoaWxkcmVuO1xuICAgIC8vIG9ubHkgbmVlZGVkIGJlY2F1c2Ugb2YgYnJva2VuIGV2ZW50IGRlbGVnYXRpb24gb24gaU9TXG4gICAgLy8gaHR0cHM6Ly93d3cucXVpcmtzbW9kZS5vcmcvYmxvZy9hcmNoaXZlcy8yMDE0LzAyL21vdXNlX2V2ZW50X2J1Yi5odG1sXG5cbiAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgW10uY29uY2F0KC4uLmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pKSB7XG4gICAgICAgIEV2ZW50SGFuZGxlci5vbihlbGVtZW50LCAnbW91c2VvdmVyJywgbm9vcCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICBjb25zdCBwcmV2aW91c0hvdmVyU3RhdGUgPSB0aGlzLl9pc0hvdmVyZWQ7XG4gICAgICB0aGlzLl9pc0hvdmVyZWQgPSBmYWxzZTtcbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX1NIT1dOJDIpKTtcblxuICAgICAgaWYgKHByZXZpb3VzSG92ZXJTdGF0ZSkge1xuICAgICAgICB0aGlzLl9sZWF2ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCB0aGlzLnRpcCwgdGhpcy5faXNBbmltYXRlZCgpKTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1Nob3duKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBoaWRlRXZlbnQgPSBFdmVudEhhbmRsZXIudHJpZ2dlcih0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFVkVOVF9ISURFJDIpKTtcblxuICAgIGlmIChoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRpcCA9IHRoaXMuX2dldFRpcEVsZW1lbnQoKTtcblxuICAgIHRpcC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfU0hPVyQyKTsgLy8gSWYgdGhpcyBpcyBhIHRvdWNoLWVuYWJsZWQgZGV2aWNlIHdlIHJlbW92ZSB0aGUgZXh0cmFcbiAgICAvLyBlbXB0eSBtb3VzZW92ZXIgbGlzdGVuZXJzIHdlIGFkZGVkIGZvciBpT1Mgc3VwcG9ydFxuXG4gICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIFtdLmNvbmNhdCguLi5kb2N1bWVudC5ib2R5LmNoaWxkcmVuKSkge1xuICAgICAgICBFdmVudEhhbmRsZXIub2ZmKGVsZW1lbnQsICdtb3VzZW92ZXInLCBub29wKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9hY3RpdmVUcmlnZ2VyW1RSSUdHRVJfQ0xJQ0tdID0gZmFsc2U7XG4gICAgdGhpcy5fYWN0aXZlVHJpZ2dlcltUUklHR0VSX0ZPQ1VTXSA9IGZhbHNlO1xuICAgIHRoaXMuX2FjdGl2ZVRyaWdnZXJbVFJJR0dFUl9IT1ZFUl0gPSBmYWxzZTtcbiAgICB0aGlzLl9pc0hvdmVyZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IGNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faXNIb3ZlcmVkKSB7XG4gICAgICAgIHRpcC5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfSElEREVOJDIpKTtcblxuICAgICAgdGhpcy5fZGlzcG9zZVBvcHBlcigpO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCB0aGlzLnRpcCwgdGhpcy5faXNBbmltYXRlZCgpKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5fcG9wcGVyKSB7XG4gICAgICB0aGlzLl9wb3BwZXIudXBkYXRlKCk7XG4gICAgfVxuICB9IC8vIFByb3RlY3RlZFxuXG5cbiAgX2lzV2l0aENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fZ2V0VGl0bGUoKSk7XG4gIH1cblxuICBfZ2V0VGlwRWxlbWVudCgpIHtcbiAgICBpZiAoIXRoaXMudGlwKSB7XG4gICAgICB0aGlzLnRpcCA9IHRoaXMuX2NyZWF0ZVRpcEVsZW1lbnQodGhpcy5fbmV3Q29udGVudCB8fCB0aGlzLl9nZXRDb250ZW50Rm9yVGVtcGxhdGUoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMudGlwO1xuICB9XG5cbiAgX2NyZWF0ZVRpcEVsZW1lbnQoY29udGVudCkge1xuICAgIGNvbnN0IHRpcCA9IHRoaXMuX2dldFRlbXBsYXRlRmFjdG9yeShjb250ZW50KS50b0h0bWwoKTsgLy8gdG9kbzogcmVtb3ZlIHRoaXMgY2hlY2sgb24gdjZcblxuXG4gICAgaWYgKCF0aXApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRpcC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTX05BTUVfRkFERSQyLCBDTEFTU19OQU1FX1NIT1ckMik7IC8vIHRvZG86IG9uIHY2IHRoZSBmb2xsb3dpbmcgY2FuIGJlIGFjaGlldmVkIHdpdGggQ1NTIG9ubHlcblxuICAgIHRpcC5jbGFzc0xpc3QuYWRkKGBicy0ke3RoaXMuY29uc3RydWN0b3IuTkFNRX0tYXV0b2ApO1xuICAgIGNvbnN0IHRpcElkID0gZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSkudG9TdHJpbmcoKTtcbiAgICB0aXAuc2V0QXR0cmlidXRlKCdpZCcsIHRpcElkKTtcblxuICAgIGlmICh0aGlzLl9pc0FuaW1hdGVkKCkpIHtcbiAgICAgIHRpcC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfRkFERSQyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGlwO1xuICB9XG5cbiAgc2V0Q29udGVudChjb250ZW50KSB7XG4gICAgdGhpcy5fbmV3Q29udGVudCA9IGNvbnRlbnQ7XG5cbiAgICBpZiAodGhpcy5faXNTaG93bigpKSB7XG4gICAgICB0aGlzLl9kaXNwb3NlUG9wcGVyKCk7XG5cbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZUZhY3RvcnkoY29udGVudCkge1xuICAgIGlmICh0aGlzLl90ZW1wbGF0ZUZhY3RvcnkpIHtcbiAgICAgIHRoaXMuX3RlbXBsYXRlRmFjdG9yeS5jaGFuZ2VDb250ZW50KGNvbnRlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl90ZW1wbGF0ZUZhY3RvcnkgPSBuZXcgVGVtcGxhdGVGYWN0b3J5KHsgLi4udGhpcy5fY29uZmlnLFxuICAgICAgICAvLyB0aGUgYGNvbnRlbnRgIHZhciBoYXMgdG8gYmUgYWZ0ZXIgYHRoaXMuX2NvbmZpZ2BcbiAgICAgICAgLy8gdG8gb3ZlcnJpZGUgY29uZmlnLmNvbnRlbnQgaW4gY2FzZSBvZiBwb3BvdmVyXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGV4dHJhQ2xhc3M6IHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKHRoaXMuX2NvbmZpZy5jdXN0b21DbGFzcylcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZUZhY3Rvcnk7XG4gIH1cblxuICBfZ2V0Q29udGVudEZvclRlbXBsYXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBbU0VMRUNUT1JfVE9PTFRJUF9JTk5FUl06IHRoaXMuX2dldFRpdGxlKClcbiAgICB9O1xuICB9XG5cbiAgX2dldFRpdGxlKCkge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlUG9zc2libGVGdW5jdGlvbih0aGlzLl9jb25maWcudGl0bGUpIHx8IHRoaXMuX2NvbmZpZy5vcmlnaW5hbFRpdGxlO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9pbml0aWFsaXplT25EZWxlZ2F0ZWRUYXJnZXQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5nZXRPckNyZWF0ZUluc3RhbmNlKGV2ZW50LmRlbGVnYXRlVGFyZ2V0LCB0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKTtcbiAgfVxuXG4gIF9pc0FuaW1hdGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9jb25maWcuYW5pbWF0aW9uIHx8IHRoaXMudGlwICYmIHRoaXMudGlwLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkMik7XG4gIH1cblxuICBfaXNTaG93bigpIHtcbiAgICByZXR1cm4gdGhpcy50aXAgJiYgdGhpcy50aXAuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTX05BTUVfU0hPVyQyKTtcbiAgfVxuXG4gIF9jcmVhdGVQb3BwZXIodGlwKSB7XG4gICAgY29uc3QgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMuX2NvbmZpZy5wbGFjZW1lbnQgPT09ICdmdW5jdGlvbicgPyB0aGlzLl9jb25maWcucGxhY2VtZW50LmNhbGwodGhpcywgdGlwLCB0aGlzLl9lbGVtZW50KSA6IHRoaXMuX2NvbmZpZy5wbGFjZW1lbnQ7XG4gICAgY29uc3QgYXR0YWNobWVudCA9IEF0dGFjaG1lbnRNYXBbcGxhY2VtZW50LnRvVXBwZXJDYXNlKCldO1xuICAgIHJldHVybiBQb3BwZXIuY3JlYXRlUG9wcGVyKHRoaXMuX2VsZW1lbnQsIHRpcCwgdGhpcy5fZ2V0UG9wcGVyQ29uZmlnKGF0dGFjaG1lbnQpKTtcbiAgfVxuXG4gIF9nZXRPZmZzZXQoKSB7XG4gICAgY29uc3Qge1xuICAgICAgb2Zmc2V0XG4gICAgfSA9IHRoaXMuX2NvbmZpZztcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG9mZnNldC5zcGxpdCgnLCcpLm1hcCh2YWx1ZSA9PiBOdW1iZXIucGFyc2VJbnQodmFsdWUsIDEwKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBwb3BwZXJEYXRhID0+IG9mZnNldChwb3BwZXJEYXRhLCB0aGlzLl9lbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nID8gYXJnLmNhbGwodGhpcy5fZWxlbWVudCkgOiBhcmc7XG4gIH1cblxuICBfZ2V0UG9wcGVyQ29uZmlnKGF0dGFjaG1lbnQpIHtcbiAgICBjb25zdCBkZWZhdWx0QnNQb3BwZXJDb25maWcgPSB7XG4gICAgICBwbGFjZW1lbnQ6IGF0dGFjaG1lbnQsXG4gICAgICBtb2RpZmllcnM6IFt7XG4gICAgICAgIG5hbWU6ICdmbGlwJyxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogdGhpcy5fY29uZmlnLmZhbGxiYWNrUGxhY2VtZW50c1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdvZmZzZXQnLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgb2Zmc2V0OiB0aGlzLl9nZXRPZmZzZXQoKVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgYm91bmRhcnk6IHRoaXMuX2NvbmZpZy5ib3VuZGFyeVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdhcnJvdycsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBlbGVtZW50OiBgLiR7dGhpcy5jb25zdHJ1Y3Rvci5OQU1FfS1hcnJvd2BcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBuYW1lOiAncHJlU2V0UGxhY2VtZW50JyxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgcGhhc2U6ICdiZWZvcmVNYWluJyxcbiAgICAgICAgZm46IGRhdGEgPT4ge1xuICAgICAgICAgIC8vIFByZS1zZXQgUG9wcGVyJ3MgcGxhY2VtZW50IGF0dHJpYnV0ZSBpbiBvcmRlciB0byByZWFkIHRoZSBhcnJvdyBzaXplcyBwcm9wZXJseS5cbiAgICAgICAgICAvLyBPdGhlcndpc2UsIFBvcHBlciBtaXhlcyB1cCB0aGUgd2lkdGggYW5kIGhlaWdodCBkaW1lbnNpb25zIHNpbmNlIHRoZSBpbml0aWFsIGFycm93IHN0eWxlIGlzIGZvciB0b3AgcGxhY2VtZW50XG4gICAgICAgICAgdGhpcy5fZ2V0VGlwRWxlbWVudCgpLnNldEF0dHJpYnV0ZSgnZGF0YS1wb3BwZXItcGxhY2VtZW50JywgZGF0YS5zdGF0ZS5wbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9XVxuICAgIH07XG4gICAgcmV0dXJuIHsgLi4uZGVmYXVsdEJzUG9wcGVyQ29uZmlnLFxuICAgICAgLi4uKHR5cGVvZiB0aGlzLl9jb25maWcucG9wcGVyQ29uZmlnID09PSAnZnVuY3Rpb24nID8gdGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZyhkZWZhdWx0QnNQb3BwZXJDb25maWcpIDogdGhpcy5fY29uZmlnLnBvcHBlckNvbmZpZylcbiAgICB9O1xuICB9XG5cbiAgX3NldExpc3RlbmVycygpIHtcbiAgICBjb25zdCB0cmlnZ2VycyA9IHRoaXMuX2NvbmZpZy50cmlnZ2VyLnNwbGl0KCcgJyk7XG5cbiAgICBmb3IgKGNvbnN0IHRyaWdnZXIgb2YgdHJpZ2dlcnMpIHtcbiAgICAgIGlmICh0cmlnZ2VyID09PSAnY2xpY2snKSB7XG4gICAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFVkVOVF9DTElDSyQxKSwgdGhpcy5fY29uZmlnLnNlbGVjdG9yLCBldmVudCA9PiB0aGlzLnRvZ2dsZShldmVudCkpO1xuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9PSBUUklHR0VSX01BTlVBTCkge1xuICAgICAgICBjb25zdCBldmVudEluID0gdHJpZ2dlciA9PT0gVFJJR0dFUl9IT1ZFUiA/IHRoaXMuY29uc3RydWN0b3IuZXZlbnROYW1lKEVWRU5UX01PVVNFRU5URVIpIDogdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfRk9DVVNJTiQxKTtcbiAgICAgICAgY29uc3QgZXZlbnRPdXQgPSB0cmlnZ2VyID09PSBUUklHR0VSX0hPVkVSID8gdGhpcy5jb25zdHJ1Y3Rvci5ldmVudE5hbWUoRVZFTlRfTU9VU0VMRUFWRSkgOiB0aGlzLmNvbnN0cnVjdG9yLmV2ZW50TmFtZShFVkVOVF9GT0NVU09VVCQxKTtcbiAgICAgICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIGV2ZW50SW4sIHRoaXMuX2NvbmZpZy5zZWxlY3RvciwgZXZlbnQgPT4ge1xuICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLl9pbml0aWFsaXplT25EZWxlZ2F0ZWRUYXJnZXQoZXZlbnQpO1xuXG4gICAgICAgICAgY29udGV4dC5fYWN0aXZlVHJpZ2dlcltldmVudC50eXBlID09PSAnZm9jdXNpbicgPyBUUklHR0VSX0ZPQ1VTIDogVFJJR0dFUl9IT1ZFUl0gPSB0cnVlO1xuXG4gICAgICAgICAgY29udGV4dC5fZW50ZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBldmVudE91dCwgdGhpcy5fY29uZmlnLnNlbGVjdG9yLCBldmVudCA9PiB7XG4gICAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXMuX2luaXRpYWxpemVPbkRlbGVnYXRlZFRhcmdldChldmVudCk7XG5cbiAgICAgICAgICBjb250ZXh0Ll9hY3RpdmVUcmlnZ2VyW2V2ZW50LnR5cGUgPT09ICdmb2N1c291dCcgPyBUUklHR0VSX0ZPQ1VTIDogVFJJR0dFUl9IT1ZFUl0gPSBjb250ZXh0Ll9lbGVtZW50LmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICAgICAgY29udGV4dC5fbGVhdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faGlkZU1vZGFsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudC5jbG9zZXN0KFNFTEVDVE9SX01PREFMKSwgRVZFTlRfTU9EQUxfSElERSwgdGhpcy5faGlkZU1vZGFsSGFuZGxlcik7XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLnNlbGVjdG9yKSB7XG4gICAgICB0aGlzLl9jb25maWcgPSB7IC4uLnRoaXMuX2NvbmZpZyxcbiAgICAgICAgdHJpZ2dlcjogJ21hbnVhbCcsXG4gICAgICAgIHNlbGVjdG9yOiAnJ1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZml4VGl0bGUoKTtcbiAgICB9XG4gIH1cblxuICBfZml4VGl0bGUoKSB7XG4gICAgY29uc3QgdGl0bGUgPSB0aGlzLl9jb25maWcub3JpZ2luYWxUaXRsZTtcblxuICAgIGlmICghdGl0bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgJiYgIXRoaXMuX2VsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIHRpdGxlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGl0bGUnKTtcbiAgfVxuXG4gIF9lbnRlcigpIHtcbiAgICBpZiAodGhpcy5faXNTaG93bigpIHx8IHRoaXMuX2lzSG92ZXJlZCkge1xuICAgICAgdGhpcy5faXNIb3ZlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pc0hvdmVyZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5fc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faXNIb3ZlcmVkKSB7XG4gICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuX2NvbmZpZy5kZWxheS5zaG93KTtcbiAgfVxuXG4gIF9sZWF2ZSgpIHtcbiAgICBpZiAodGhpcy5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5faXNIb3ZlcmVkID0gZmFsc2U7XG5cbiAgICB0aGlzLl9zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5faXNIb3ZlcmVkKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuX2NvbmZpZy5kZWxheS5oaWRlKTtcbiAgfVxuXG4gIF9zZXRUaW1lb3V0KGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoaGFuZGxlciwgdGltZW91dCk7XG4gIH1cblxuICBfaXNXaXRoQWN0aXZlVHJpZ2dlcigpIHtcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLl9hY3RpdmVUcmlnZ2VyKS5pbmNsdWRlcyh0cnVlKTtcbiAgfVxuXG4gIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgY29uc3QgZGF0YUF0dHJpYnV0ZXMgPSBNYW5pcHVsYXRvci5nZXREYXRhQXR0cmlidXRlcyh0aGlzLl9lbGVtZW50KTtcblxuICAgIGZvciAoY29uc3QgZGF0YUF0dHJpYnV0ZSBvZiBPYmplY3Qua2V5cyhkYXRhQXR0cmlidXRlcykpIHtcbiAgICAgIGlmIChESVNBTExPV0VEX0FUVFJJQlVURVMuaGFzKGRhdGFBdHRyaWJ1dGUpKSB7XG4gICAgICAgIGRlbGV0ZSBkYXRhQXR0cmlidXRlc1tkYXRhQXR0cmlidXRlXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25maWcgPSB7IC4uLmRhdGFBdHRyaWJ1dGVzLFxuICAgICAgLi4uKHR5cGVvZiBjb25maWcgPT09ICdvYmplY3QnICYmIGNvbmZpZyA/IGNvbmZpZyA6IHt9KVxuICAgIH07XG4gICAgY29uZmlnID0gdGhpcy5fbWVyZ2VDb25maWdPYmooY29uZmlnKTtcbiAgICBjb25maWcgPSB0aGlzLl9jb25maWdBZnRlck1lcmdlKGNvbmZpZyk7XG5cbiAgICB0aGlzLl90eXBlQ2hlY2tDb25maWcoY29uZmlnKTtcblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfY29uZmlnQWZ0ZXJNZXJnZShjb25maWcpIHtcbiAgICBjb25maWcuY29udGFpbmVyID0gY29uZmlnLmNvbnRhaW5lciA9PT0gZmFsc2UgPyBkb2N1bWVudC5ib2R5IDogZ2V0RWxlbWVudChjb25maWcuY29udGFpbmVyKTtcblxuICAgIGlmICh0eXBlb2YgY29uZmlnLmRlbGF5ID09PSAnbnVtYmVyJykge1xuICAgICAgY29uZmlnLmRlbGF5ID0ge1xuICAgICAgICBzaG93OiBjb25maWcuZGVsYXksXG4gICAgICAgIGhpZGU6IGNvbmZpZy5kZWxheVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25maWcub3JpZ2luYWxUaXRsZSA9IHRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8ICcnO1xuXG4gICAgaWYgKHR5cGVvZiBjb25maWcudGl0bGUgPT09ICdudW1iZXInKSB7XG4gICAgICBjb25maWcudGl0bGUgPSBjb25maWcudGl0bGUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbmZpZy5jb250ZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgY29uZmlnLmNvbnRlbnQgPSBjb25maWcuY29udGVudC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG4gIH1cblxuICBfZ2V0RGVsZWdhdGVDb25maWcoKSB7XG4gICAgY29uc3QgY29uZmlnID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl9jb25maWcpIHtcbiAgICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRba2V5XSAhPT0gdGhpcy5fY29uZmlnW2tleV0pIHtcbiAgICAgICAgY29uZmlnW2tleV0gPSB0aGlzLl9jb25maWdba2V5XTtcbiAgICAgIH1cbiAgICB9IC8vIEluIHRoZSBmdXR1cmUgY2FuIGJlIHJlcGxhY2VkIHdpdGg6XG4gICAgLy8gY29uc3Qga2V5c1dpdGhEaWZmZXJlbnRWYWx1ZXMgPSBPYmplY3QuZW50cmllcyh0aGlzLl9jb25maWcpLmZpbHRlcihlbnRyeSA9PiB0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRbZW50cnlbMF1dICE9PSB0aGlzLl9jb25maWdbZW50cnlbMF1dKVxuICAgIC8vIGBPYmplY3QuZnJvbUVudHJpZXMoa2V5c1dpdGhEaWZmZXJlbnRWYWx1ZXMpYFxuXG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgX2Rpc3Bvc2VQb3BwZXIoKSB7XG4gICAgaWYgKHRoaXMuX3BvcHBlcikge1xuICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTtcblxuICAgICAgdGhpcy5fcG9wcGVyID0gbnVsbDtcbiAgICB9XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IFRvb2x0aXAuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLCBjb25maWcpO1xuXG4gICAgICBpZiAodHlwZW9mIGNvbmZpZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGRhdGFbY29uZmlnXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgTm8gbWV0aG9kIG5hbWVkIFwiJHtjb25maWd9XCJgKTtcbiAgICAgIH1cblxuICAgICAgZGF0YVtjb25maWddKCk7XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBqUXVlcnlcbiAqL1xuXG5cbmRlZmluZUpRdWVyeVBsdWdpbihUb29sdGlwKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiBwb3BvdmVyLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSQzID0gJ3BvcG92ZXInO1xuY29uc3QgU0VMRUNUT1JfVElUTEUgPSAnLnBvcG92ZXItaGVhZGVyJztcbmNvbnN0IFNFTEVDVE9SX0NPTlRFTlQgPSAnLnBvcG92ZXItYm9keSc7XG5jb25zdCBEZWZhdWx0JDIgPSB7IC4uLlRvb2x0aXAuRGVmYXVsdCxcbiAgY29udGVudDogJycsXG4gIG9mZnNldDogWzAsIDhdLFxuICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPicgKyAnPGRpdiBjbGFzcz1cInBvcG92ZXItYXJyb3dcIj48L2Rpdj4nICsgJzxoMyBjbGFzcz1cInBvcG92ZXItaGVhZGVyXCI+PC9oMz4nICsgJzxkaXYgY2xhc3M9XCJwb3BvdmVyLWJvZHlcIj48L2Rpdj4nICsgJzwvZGl2PicsXG4gIHRyaWdnZXI6ICdjbGljaydcbn07XG5jb25zdCBEZWZhdWx0VHlwZSQyID0geyAuLi5Ub29sdGlwLkRlZmF1bHRUeXBlLFxuICBjb250ZW50OiAnKG51bGx8c3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pJ1xufTtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIFBvcG92ZXIgZXh0ZW5kcyBUb29sdGlwIHtcbiAgLy8gR2V0dGVyc1xuICBzdGF0aWMgZ2V0IERlZmF1bHQoKSB7XG4gICAgcmV0dXJuIERlZmF1bHQkMjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgRGVmYXVsdFR5cGUoKSB7XG4gICAgcmV0dXJuIERlZmF1bHRUeXBlJDI7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUUkMztcbiAgfSAvLyBPdmVycmlkZXNcblxuXG4gIF9pc1dpdGhDb250ZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9nZXRUaXRsZSgpIHx8IHRoaXMuX2dldENvbnRlbnQoKTtcbiAgfSAvLyBQcml2YXRlXG5cblxuICBfZ2V0Q29udGVudEZvclRlbXBsYXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICBbU0VMRUNUT1JfVElUTEVdOiB0aGlzLl9nZXRUaXRsZSgpLFxuICAgICAgW1NFTEVDVE9SX0NPTlRFTlRdOiB0aGlzLl9nZXRDb250ZW50KClcbiAgICB9O1xuICB9XG5cbiAgX2dldENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uKHRoaXMuX2NvbmZpZy5jb250ZW50KTtcbiAgfSAvLyBTdGF0aWNcblxuXG4gIHN0YXRpYyBqUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBkYXRhID0gUG9wb3Zlci5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgfVxuXG4gICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIGpRdWVyeVxuICovXG5cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKFBvcG92ZXIpO1xuXG4vKipcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBCb290c3RyYXAgKHY1LjIuMCk6IHNjcm9sbHNweS5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUkMiA9ICdzY3JvbGxzcHknO1xuY29uc3QgREFUQV9LRVkkMiA9ICdicy5zY3JvbGxzcHknO1xuY29uc3QgRVZFTlRfS0VZJDIgPSBgLiR7REFUQV9LRVkkMn1gO1xuY29uc3QgREFUQV9BUElfS0VZID0gJy5kYXRhLWFwaSc7XG5jb25zdCBFVkVOVF9BQ1RJVkFURSA9IGBhY3RpdmF0ZSR7RVZFTlRfS0VZJDJ9YDtcbmNvbnN0IEVWRU5UX0NMSUNLID0gYGNsaWNrJHtFVkVOVF9LRVkkMn1gO1xuY29uc3QgRVZFTlRfTE9BRF9EQVRBX0FQSSQxID0gYGxvYWQke0VWRU5UX0tFWSQyfSR7REFUQV9BUElfS0VZfWA7XG5jb25zdCBDTEFTU19OQU1FX0RST1BET1dOX0lURU0gPSAnZHJvcGRvd24taXRlbSc7XG5jb25zdCBDTEFTU19OQU1FX0FDVElWRSQxID0gJ2FjdGl2ZSc7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1NQWSA9ICdbZGF0YS1icy1zcHk9XCJzY3JvbGxcIl0nO1xuY29uc3QgU0VMRUNUT1JfVEFSR0VUX0xJTktTID0gJ1tocmVmXSc7XG5jb25zdCBTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCA9ICcubmF2LCAubGlzdC1ncm91cCc7XG5jb25zdCBTRUxFQ1RPUl9OQVZfTElOS1MgPSAnLm5hdi1saW5rJztcbmNvbnN0IFNFTEVDVE9SX05BVl9JVEVNUyA9ICcubmF2LWl0ZW0nO1xuY29uc3QgU0VMRUNUT1JfTElTVF9JVEVNUyA9ICcubGlzdC1ncm91cC1pdGVtJztcbmNvbnN0IFNFTEVDVE9SX0xJTktfSVRFTVMgPSBgJHtTRUxFQ1RPUl9OQVZfTElOS1N9LCAke1NFTEVDVE9SX05BVl9JVEVNU30gPiAke1NFTEVDVE9SX05BVl9MSU5LU30sICR7U0VMRUNUT1JfTElTVF9JVEVNU31gO1xuY29uc3QgU0VMRUNUT1JfRFJPUERPV04gPSAnLmRyb3Bkb3duJztcbmNvbnN0IFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSQxID0gJy5kcm9wZG93bi10b2dnbGUnO1xuY29uc3QgRGVmYXVsdCQxID0ge1xuICBvZmZzZXQ6IG51bGwsXG4gIC8vIFRPRE86IHY2IEBkZXByZWNhdGVkLCBrZWVwIGl0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zXG4gIHJvb3RNYXJnaW46ICcwcHggMHB4IC0yNSUnLFxuICBzbW9vdGhTY3JvbGw6IGZhbHNlLFxuICB0YXJnZXQ6IG51bGxcbn07XG5jb25zdCBEZWZhdWx0VHlwZSQxID0ge1xuICBvZmZzZXQ6ICcobnVtYmVyfG51bGwpJyxcbiAgLy8gVE9ETyB2NiBAZGVwcmVjYXRlZCwga2VlcCBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgcmVhc29uc1xuICByb290TWFyZ2luOiAnc3RyaW5nJyxcbiAgc21vb3RoU2Nyb2xsOiAnYm9vbGVhbicsXG4gIHRhcmdldDogJ2VsZW1lbnQnXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgU2Nyb2xsU3B5IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNvbmZpZykge1xuICAgIHN1cGVyKGVsZW1lbnQsIGNvbmZpZyk7IC8vIHRoaXMuX2VsZW1lbnQgaXMgdGhlIG9ic2VydmFibGVzQ29udGFpbmVyIGFuZCBjb25maWcudGFyZ2V0IHRoZSBtZW51IGxpbmtzIHdyYXBwZXJcblxuICAgIHRoaXMuX3RhcmdldExpbmtzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX29ic2VydmFibGVTZWN0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9yb290RWxlbWVudCA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5fZWxlbWVudCkub3ZlcmZsb3dZID09PSAndmlzaWJsZScgPyBudWxsIDogdGhpcy5fZWxlbWVudDtcbiAgICB0aGlzLl9hY3RpdmVUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMuX29ic2VydmVyID0gbnVsbDtcbiAgICB0aGlzLl9wcmV2aW91c1Njcm9sbERhdGEgPSB7XG4gICAgICB2aXNpYmxlRW50cnlUb3A6IDAsXG4gICAgICBwYXJlbnRTY3JvbGxUb3A6IDBcbiAgICB9O1xuICAgIHRoaXMucmVmcmVzaCgpOyAvLyBpbml0aWFsaXplXG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0JDE7XG4gIH1cblxuICBzdGF0aWMgZ2V0IERlZmF1bHRUeXBlKCkge1xuICAgIHJldHVybiBEZWZhdWx0VHlwZSQxO1xuICB9XG5cbiAgc3RhdGljIGdldCBOQU1FKCkge1xuICAgIHJldHVybiBOQU1FJDI7XG4gIH0gLy8gUHVibGljXG5cblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMuX2luaXRpYWxpemVUYXJnZXRzQW5kT2JzZXJ2YWJsZXMoKTtcblxuICAgIHRoaXMuX21heWJlRW5hYmxlU21vb3RoU2Nyb2xsKCk7XG5cbiAgICBpZiAodGhpcy5fb2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuX29ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXIgPSB0aGlzLl9nZXROZXdPYnNlcnZlcigpO1xuICAgIH1cblxuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiB0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUoc2VjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH0gLy8gUHJpdmF0ZVxuXG5cbiAgX2NvbmZpZ0FmdGVyTWVyZ2UoY29uZmlnKSB7XG4gICAgLy8gVE9ETzogb24gdjYgdGFyZ2V0IHNob3VsZCBiZSBnaXZlbiBleHBsaWNpdGx5ICYgcmVtb3ZlIHRoZSB7dGFyZ2V0OiAnc3MtdGFyZ2V0J30gY2FzZVxuICAgIGNvbmZpZy50YXJnZXQgPSBnZXRFbGVtZW50KGNvbmZpZy50YXJnZXQpIHx8IGRvY3VtZW50LmJvZHk7XG4gICAgcmV0dXJuIGNvbmZpZztcbiAgfVxuXG4gIF9tYXliZUVuYWJsZVNtb290aFNjcm9sbCgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZy5zbW9vdGhTY3JvbGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIHVucmVnaXN0ZXIgYW55IHByZXZpb3VzIGxpc3RlbmVyc1xuXG5cbiAgICBFdmVudEhhbmRsZXIub2ZmKHRoaXMuX2NvbmZpZy50YXJnZXQsIEVWRU5UX0NMSUNLKTtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fY29uZmlnLnRhcmdldCwgRVZFTlRfQ0xJQ0ssIFNFTEVDVE9SX1RBUkdFVF9MSU5LUywgZXZlbnQgPT4ge1xuICAgICAgY29uc3Qgb2JzZXJ2YWJsZVNlY3Rpb24gPSB0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnMuZ2V0KGV2ZW50LnRhcmdldC5oYXNoKTtcblxuICAgICAgaWYgKG9ic2VydmFibGVTZWN0aW9uKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLl9yb290RWxlbWVudCB8fCB3aW5kb3c7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG9ic2VydmFibGVTZWN0aW9uLm9mZnNldFRvcCAtIHRoaXMuX2VsZW1lbnQub2Zmc2V0VG9wO1xuXG4gICAgICAgIGlmIChyb290LnNjcm9sbFRvKSB7XG4gICAgICAgICAgcm9vdC5zY3JvbGxUbyh7XG4gICAgICAgICAgICB0b3A6IGhlaWdodCxcbiAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSAvLyBDaHJvbWUgNjAgZG9lc24ndCBzdXBwb3J0IGBzY3JvbGxUb2BcblxuXG4gICAgICAgIHJvb3Quc2Nyb2xsVG9wID0gaGVpZ2h0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2dldE5ld09ic2VydmVyKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICByb290OiB0aGlzLl9yb290RWxlbWVudCxcbiAgICAgIHRocmVzaG9sZDogWzAuMSwgMC41LCAxXSxcbiAgICAgIHJvb3RNYXJnaW46IHRoaXMuX2dldFJvb3RNYXJnaW4oKVxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHRoaXMuX29ic2VydmVyQ2FsbGJhY2soZW50cmllcyksIG9wdGlvbnMpO1xuICB9IC8vIFRoZSBsb2dpYyBvZiBzZWxlY3Rpb25cblxuXG4gIF9vYnNlcnZlckNhbGxiYWNrKGVudHJpZXMpIHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZW50cnkgPT4gdGhpcy5fdGFyZ2V0TGlua3MuZ2V0KGAjJHtlbnRyeS50YXJnZXQuaWR9YCk7XG5cbiAgICBjb25zdCBhY3RpdmF0ZSA9IGVudHJ5ID0+IHtcbiAgICAgIHRoaXMuX3ByZXZpb3VzU2Nyb2xsRGF0YS52aXNpYmxlRW50cnlUb3AgPSBlbnRyeS50YXJnZXQub2Zmc2V0VG9wO1xuXG4gICAgICB0aGlzLl9wcm9jZXNzKHRhcmdldEVsZW1lbnQoZW50cnkpKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcGFyZW50U2Nyb2xsVG9wID0gKHRoaXMuX3Jvb3RFbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuc2Nyb2xsVG9wO1xuICAgIGNvbnN0IHVzZXJTY3JvbGxzRG93biA9IHBhcmVudFNjcm9sbFRvcCA+PSB0aGlzLl9wcmV2aW91c1Njcm9sbERhdGEucGFyZW50U2Nyb2xsVG9wO1xuICAgIHRoaXMuX3ByZXZpb3VzU2Nyb2xsRGF0YS5wYXJlbnRTY3JvbGxUb3AgPSBwYXJlbnRTY3JvbGxUb3A7XG5cbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIGlmICghZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9jbGVhckFjdGl2ZUNsYXNzKHRhcmdldEVsZW1lbnQoZW50cnkpKTtcblxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZW50cnlJc0xvd2VyVGhhblByZXZpb3VzID0gZW50cnkudGFyZ2V0Lm9mZnNldFRvcCA+PSB0aGlzLl9wcmV2aW91c1Njcm9sbERhdGEudmlzaWJsZUVudHJ5VG9wOyAvLyBpZiB3ZSBhcmUgc2Nyb2xsaW5nIGRvd24sIHBpY2sgdGhlIGJpZ2dlciBvZmZzZXRUb3BcblxuICAgICAgaWYgKHVzZXJTY3JvbGxzRG93biAmJiBlbnRyeUlzTG93ZXJUaGFuUHJldmlvdXMpIHtcbiAgICAgICAgYWN0aXZhdGUoZW50cnkpOyAvLyBpZiBwYXJlbnQgaXNuJ3Qgc2Nyb2xsZWQsIGxldCdzIGtlZXAgdGhlIGZpcnN0IHZpc2libGUgaXRlbSwgYnJlYWtpbmcgdGhlIGl0ZXJhdGlvblxuXG4gICAgICAgIGlmICghcGFyZW50U2Nyb2xsVG9wKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIGlmIHdlIGFyZSBzY3JvbGxpbmcgdXAsIHBpY2sgdGhlIHNtYWxsZXN0IG9mZnNldFRvcFxuXG5cbiAgICAgIGlmICghdXNlclNjcm9sbHNEb3duICYmICFlbnRyeUlzTG93ZXJUaGFuUHJldmlvdXMpIHtcbiAgICAgICAgYWN0aXZhdGUoZW50cnkpO1xuICAgICAgfVxuICAgIH1cbiAgfSAvLyBUT0RPOiB2NiBPbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zLiBVc2Ugcm9vdE1hcmdpbiBvbmx5XG5cblxuICBfZ2V0Um9vdE1hcmdpbigpIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnLm9mZnNldCA/IGAke3RoaXMuX2NvbmZpZy5vZmZzZXR9cHggMHB4IC0zMCVgIDogdGhpcy5fY29uZmlnLnJvb3RNYXJnaW47XG4gIH1cblxuICBfaW5pdGlhbGl6ZVRhcmdldHNBbmRPYnNlcnZhYmxlcygpIHtcbiAgICB0aGlzLl90YXJnZXRMaW5rcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgdGFyZ2V0TGlua3MgPSBTZWxlY3RvckVuZ2luZS5maW5kKFNFTEVDVE9SX1RBUkdFVF9MSU5LUywgdGhpcy5fY29uZmlnLnRhcmdldCk7XG5cbiAgICBmb3IgKGNvbnN0IGFuY2hvciBvZiB0YXJnZXRMaW5rcykge1xuICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGFuY2hvciBoYXMgYW4gaWQgYW5kIGlzIG5vdCBkaXNhYmxlZFxuICAgICAgaWYgKCFhbmNob3IuaGFzaCB8fCBpc0Rpc2FibGVkKGFuY2hvcikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9ic2VydmFibGVTZWN0aW9uID0gU2VsZWN0b3JFbmdpbmUuZmluZE9uZShhbmNob3IuaGFzaCwgdGhpcy5fZWxlbWVudCk7IC8vIGVuc3VyZSB0aGF0IHRoZSBvYnNlcnZhYmxlU2VjdGlvbiBleGlzdHMgJiBpcyB2aXNpYmxlXG5cbiAgICAgIGlmIChpc1Zpc2libGUob2JzZXJ2YWJsZVNlY3Rpb24pKSB7XG4gICAgICAgIHRoaXMuX3RhcmdldExpbmtzLnNldChhbmNob3IuaGFzaCwgYW5jaG9yKTtcblxuICAgICAgICB0aGlzLl9vYnNlcnZhYmxlU2VjdGlvbnMuc2V0KGFuY2hvci5oYXNoLCBvYnNlcnZhYmxlU2VjdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3Byb2Nlc3ModGFyZ2V0KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZVRhcmdldCA9PT0gdGFyZ2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fY2xlYXJBY3RpdmVDbGFzcyh0aGlzLl9jb25maWcudGFyZ2V0KTtcblxuICAgIHRoaXMuX2FjdGl2ZVRhcmdldCA9IHRhcmdldDtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSQxKTtcblxuICAgIHRoaXMuX2FjdGl2YXRlUGFyZW50cyh0YXJnZXQpO1xuXG4gICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfQUNUSVZBVEUsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRhcmdldFxuICAgIH0pO1xuICB9XG5cbiAgX2FjdGl2YXRlUGFyZW50cyh0YXJnZXQpIHtcbiAgICAvLyBBY3RpdmF0ZSBkcm9wZG93biBwYXJlbnRzXG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9EUk9QRE9XTl9JVEVNKSkge1xuICAgICAgU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9EUk9QRE9XTl9UT0dHTEUkMSwgdGFyZ2V0LmNsb3Nlc3QoU0VMRUNUT1JfRFJPUERPV04pKS5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfQUNUSVZFJDEpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAoY29uc3QgbGlzdEdyb3VwIG9mIFNlbGVjdG9yRW5naW5lLnBhcmVudHModGFyZ2V0LCBTRUxFQ1RPUl9OQVZfTElTVF9HUk9VUCkpIHtcbiAgICAgIC8vIFNldCB0cmlnZ2VyZWQgbGlua3MgcGFyZW50cyBhcyBhY3RpdmVcbiAgICAgIC8vIFdpdGggYm90aCA8dWw+IGFuZCA8bmF2PiBtYXJrdXAgYSBwYXJlbnQgaXMgdGhlIHByZXZpb3VzIHNpYmxpbmcgb2YgYW55IG5hdiBhbmNlc3RvclxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIFNlbGVjdG9yRW5naW5lLnByZXYobGlzdEdyb3VwLCBTRUxFQ1RPUl9MSU5LX0lURU1TKSkge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2NsZWFyQWN0aXZlQ2xhc3MocGFyZW50KSB7XG4gICAgcGFyZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9BQ1RJVkUkMSk7XG4gICAgY29uc3QgYWN0aXZlTm9kZXMgPSBTZWxlY3RvckVuZ2luZS5maW5kKGAke1NFTEVDVE9SX1RBUkdFVF9MSU5LU30uJHtDTEFTU19OQU1FX0FDVElWRSQxfWAsIHBhcmVudCk7XG5cbiAgICBmb3IgKGNvbnN0IG5vZGUgb2YgYWN0aXZlTm9kZXMpIHtcbiAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX0FDVElWRSQxKTtcbiAgICB9XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IFNjcm9sbFNweS5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMsIGNvbmZpZyk7XG5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhW2NvbmZpZ10gPT09IHVuZGVmaW5lZCB8fCBjb25maWcuc3RhcnRzV2l0aCgnXycpIHx8IGNvbmZpZyA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBObyBtZXRob2QgbmFtZWQgXCIke2NvbmZpZ31cImApO1xuICAgICAgfVxuXG4gICAgICBkYXRhW2NvbmZpZ10oKTtcbiAgICB9KTtcbiAgfVxuXG59XG4vKipcbiAqIERhdGEgQVBJIGltcGxlbWVudGF0aW9uXG4gKi9cblxuXG5FdmVudEhhbmRsZXIub24od2luZG93LCBFVkVOVF9MT0FEX0RBVEFfQVBJJDEsICgpID0+IHtcbiAgZm9yIChjb25zdCBzcHkgb2YgU2VsZWN0b3JFbmdpbmUuZmluZChTRUxFQ1RPUl9EQVRBX1NQWSkpIHtcbiAgICBTY3JvbGxTcHkuZ2V0T3JDcmVhdGVJbnN0YW5jZShzcHkpO1xuICB9XG59KTtcbi8qKlxuICogalF1ZXJ5XG4gKi9cblxuZGVmaW5lSlF1ZXJ5UGx1Z2luKFNjcm9sbFNweSk7XG5cbi8qKlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEJvb3RzdHJhcCAodjUuMi4wKTogdGFiLmpzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21haW4vTElDRU5TRSlcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKi9cbi8qKlxuICogQ29uc3RhbnRzXG4gKi9cblxuY29uc3QgTkFNRSQxID0gJ3RhYic7XG5jb25zdCBEQVRBX0tFWSQxID0gJ2JzLnRhYic7XG5jb25zdCBFVkVOVF9LRVkkMSA9IGAuJHtEQVRBX0tFWSQxfWA7XG5jb25zdCBFVkVOVF9ISURFJDEgPSBgaGlkZSR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX0hJRERFTiQxID0gYGhpZGRlbiR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX1NIT1ckMSA9IGBzaG93JHtFVkVOVF9LRVkkMX1gO1xuY29uc3QgRVZFTlRfU0hPV04kMSA9IGBzaG93biR7RVZFTlRfS0VZJDF9YDtcbmNvbnN0IEVWRU5UX0NMSUNLX0RBVEFfQVBJID0gYGNsaWNrJHtFVkVOVF9LRVkkMX1gO1xuY29uc3QgRVZFTlRfS0VZRE9XTiA9IGBrZXlkb3duJHtFVkVOVF9LRVkkMX1gO1xuY29uc3QgRVZFTlRfTE9BRF9EQVRBX0FQSSA9IGBsb2FkJHtFVkVOVF9LRVkkMX1gO1xuY29uc3QgQVJST1dfTEVGVF9LRVkgPSAnQXJyb3dMZWZ0JztcbmNvbnN0IEFSUk9XX1JJR0hUX0tFWSA9ICdBcnJvd1JpZ2h0JztcbmNvbnN0IEFSUk9XX1VQX0tFWSA9ICdBcnJvd1VwJztcbmNvbnN0IEFSUk9XX0RPV05fS0VZID0gJ0Fycm93RG93bic7XG5jb25zdCBDTEFTU19OQU1FX0FDVElWRSA9ICdhY3RpdmUnO1xuY29uc3QgQ0xBU1NfTkFNRV9GQURFJDEgPSAnZmFkZSc7XG5jb25zdCBDTEFTU19OQU1FX1NIT1ckMSA9ICdzaG93JztcbmNvbnN0IENMQVNTX0RST1BET1dOID0gJ2Ryb3Bkb3duJztcbmNvbnN0IFNFTEVDVE9SX0RST1BET1dOX1RPR0dMRSA9ICcuZHJvcGRvd24tdG9nZ2xlJztcbmNvbnN0IFNFTEVDVE9SX0RST1BET1dOX01FTlUgPSAnLmRyb3Bkb3duLW1lbnUnO1xuY29uc3QgU0VMRUNUT1JfRFJPUERPV05fSVRFTSA9ICcuZHJvcGRvd24taXRlbSc7XG5jb25zdCBOT1RfU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFID0gJzpub3QoLmRyb3Bkb3duLXRvZ2dsZSknO1xuY29uc3QgU0VMRUNUT1JfVEFCX1BBTkVMID0gJy5saXN0LWdyb3VwLCAubmF2LCBbcm9sZT1cInRhYmxpc3RcIl0nO1xuY29uc3QgU0VMRUNUT1JfT1VURVIgPSAnLm5hdi1pdGVtLCAubGlzdC1ncm91cC1pdGVtJztcbmNvbnN0IFNFTEVDVE9SX0lOTkVSID0gYC5uYXYtbGluayR7Tk9UX1NFTEVDVE9SX0RST1BET1dOX1RPR0dMRX0sIC5saXN0LWdyb3VwLWl0ZW0ke05PVF9TRUxFQ1RPUl9EUk9QRE9XTl9UT0dHTEV9LCBbcm9sZT1cInRhYlwiXSR7Tk9UX1NFTEVDVE9SX0RST1BET1dOX1RPR0dMRX1gO1xuY29uc3QgU0VMRUNUT1JfREFUQV9UT0dHTEUgPSAnW2RhdGEtYnMtdG9nZ2xlPVwidGFiXCJdLCBbZGF0YS1icy10b2dnbGU9XCJwaWxsXCJdLCBbZGF0YS1icy10b2dnbGU9XCJsaXN0XCJdJzsgLy8gdG9kbzp2NjogY291bGQgYmUgb25seSBgdGFiYFxuXG5jb25zdCBTRUxFQ1RPUl9JTk5FUl9FTEVNID0gYCR7U0VMRUNUT1JfSU5ORVJ9LCAke1NFTEVDVE9SX0RBVEFfVE9HR0xFfWA7XG5jb25zdCBTRUxFQ1RPUl9EQVRBX1RPR0dMRV9BQ1RJVkUgPSBgLiR7Q0xBU1NfTkFNRV9BQ1RJVkV9W2RhdGEtYnMtdG9nZ2xlPVwidGFiXCJdLCAuJHtDTEFTU19OQU1FX0FDVElWRX1bZGF0YS1icy10b2dnbGU9XCJwaWxsXCJdLCAuJHtDTEFTU19OQU1FX0FDVElWRX1bZGF0YS1icy10b2dnbGU9XCJsaXN0XCJdYDtcbi8qKlxuICogQ2xhc3MgZGVmaW5pdGlvblxuICovXG5cbmNsYXNzIFRhYiBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgc3VwZXIoZWxlbWVudCk7XG4gICAgdGhpcy5fcGFyZW50ID0gdGhpcy5fZWxlbWVudC5jbG9zZXN0KFNFTEVDVE9SX1RBQl9QQU5FTCk7XG5cbiAgICBpZiAoIXRoaXMuX3BhcmVudCkge1xuICAgICAgcmV0dXJuOyAvLyB0b2RvOiBzaG91bGQgVGhyb3cgZXhjZXB0aW9uIG9uIHY2XG4gICAgICAvLyB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2VsZW1lbnQub3V0ZXJIVE1MfSBoYXMgbm90IGEgdmFsaWQgcGFyZW50ICR7U0VMRUNUT1JfSU5ORVJfRUxFTX1gKVxuICAgIH0gLy8gU2V0IHVwIGluaXRpYWwgYXJpYSBhdHRyaWJ1dGVzXG5cblxuICAgIHRoaXMuX3NldEluaXRpYWxBdHRyaWJ1dGVzKHRoaXMuX3BhcmVudCwgdGhpcy5fZ2V0Q2hpbGRyZW4oKSk7XG5cbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfS0VZRE9XTiwgZXZlbnQgPT4gdGhpcy5fa2V5ZG93bihldmVudCkpO1xuICB9IC8vIEdldHRlcnNcblxuXG4gIHN0YXRpYyBnZXQgTkFNRSgpIHtcbiAgICByZXR1cm4gTkFNRSQxO1xuICB9IC8vIFB1YmxpY1xuXG5cbiAgc2hvdygpIHtcbiAgICAvLyBTaG93cyB0aGlzIGVsZW0gYW5kIGRlYWN0aXZhdGUgdGhlIGFjdGl2ZSBzaWJsaW5nIGlmIGV4aXN0c1xuICAgIGNvbnN0IGlubmVyRWxlbSA9IHRoaXMuX2VsZW1lbnQ7XG5cbiAgICBpZiAodGhpcy5fZWxlbUlzQWN0aXZlKGlubmVyRWxlbSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIFNlYXJjaCBmb3IgYWN0aXZlIHRhYiBvbiBzYW1lIHBhcmVudCB0byBkZWFjdGl2YXRlIGl0XG5cblxuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2dldEFjdGl2ZUVsZW0oKTtcblxuICAgIGNvbnN0IGhpZGVFdmVudCA9IGFjdGl2ZSA/IEV2ZW50SGFuZGxlci50cmlnZ2VyKGFjdGl2ZSwgRVZFTlRfSElERSQxLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiBpbm5lckVsZW1cbiAgICB9KSA6IG51bGw7XG4gICAgY29uc3Qgc2hvd0V2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIoaW5uZXJFbGVtLCBFVkVOVF9TSE9XJDEsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IGFjdGl2ZVxuICAgIH0pO1xuXG4gICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkIHx8IGhpZGVFdmVudCAmJiBoaWRlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2RlYWN0aXZhdGUoYWN0aXZlLCBpbm5lckVsZW0pO1xuXG4gICAgdGhpcy5fYWN0aXZhdGUoaW5uZXJFbGVtLCBhY3RpdmUpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9hY3RpdmF0ZShlbGVtZW50LCByZWxhdGVkRWxlbSkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0FDVElWRSk7XG5cbiAgICB0aGlzLl9hY3RpdmF0ZShnZXRFbGVtZW50RnJvbVNlbGVjdG9yKGVsZW1lbnQpKTsgLy8gU2VhcmNoIGFuZCBhY3RpdmF0ZS9zaG93IHRoZSBwcm9wZXIgc2VjdGlvblxuXG5cbiAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgncm9sZScpICE9PSAndGFiJykge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NfTkFNRV9TSE9XJDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCB0cnVlKTtcblxuICAgICAgdGhpcy5fdG9nZ2xlRHJvcERvd24oZWxlbWVudCwgdHJ1ZSk7XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKGVsZW1lbnQsIEVWRU5UX1NIT1dOJDEsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZEVsZW1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCBlbGVtZW50LCBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkMSkpO1xuICB9XG5cbiAgX2RlYWN0aXZhdGUoZWxlbWVudCwgcmVsYXRlZEVsZW0pIHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgIGVsZW1lbnQuYmx1cigpO1xuXG4gICAgdGhpcy5fZGVhY3RpdmF0ZShnZXRFbGVtZW50RnJvbVNlbGVjdG9yKGVsZW1lbnQpKTsgLy8gU2VhcmNoIGFuZCBkZWFjdGl2YXRlIHRoZSBzaG93biBzZWN0aW9uIHRvb1xuXG5cbiAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgncm9sZScpICE9PSAndGFiJykge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XJDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgZmFsc2UpO1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XG5cbiAgICAgIHRoaXMuX3RvZ2dsZURyb3BEb3duKGVsZW1lbnQsIGZhbHNlKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIoZWxlbWVudCwgRVZFTlRfSElEREVOJDEsIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZEVsZW1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWV1ZUNhbGxiYWNrKGNvbXBsZXRlLCBlbGVtZW50LCBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX0ZBREUkMSkpO1xuICB9XG5cbiAgX2tleWRvd24oZXZlbnQpIHtcbiAgICBpZiAoIVtBUlJPV19MRUZUX0tFWSwgQVJST1dfUklHSFRfS0VZLCBBUlJPV19VUF9LRVksIEFSUk9XX0RPV05fS0VZXS5pbmNsdWRlcyhldmVudC5rZXkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIHN0b3BQcm9wYWdhdGlvbi9wcmV2ZW50RGVmYXVsdCBib3RoIGFkZGVkIHRvIHN1cHBvcnQgdXAvZG93biBrZXlzIHdpdGhvdXQgc2Nyb2xsaW5nIHRoZSBwYWdlXG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGlzTmV4dCA9IFtBUlJPV19SSUdIVF9LRVksIEFSUk9XX0RPV05fS0VZXS5pbmNsdWRlcyhldmVudC5rZXkpO1xuICAgIGNvbnN0IG5leHRBY3RpdmVFbGVtZW50ID0gZ2V0TmV4dEFjdGl2ZUVsZW1lbnQodGhpcy5fZ2V0Q2hpbGRyZW4oKS5maWx0ZXIoZWxlbWVudCA9PiAhaXNEaXNhYmxlZChlbGVtZW50KSksIGV2ZW50LnRhcmdldCwgaXNOZXh0LCB0cnVlKTtcblxuICAgIGlmIChuZXh0QWN0aXZlRWxlbWVudCkge1xuICAgICAgVGFiLmdldE9yQ3JlYXRlSW5zdGFuY2UobmV4dEFjdGl2ZUVsZW1lbnQpLnNob3coKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2hpbGRyZW4oKSB7XG4gICAgLy8gY29sbGVjdGlvbiBvZiBpbm5lciBlbGVtZW50c1xuICAgIHJldHVybiBTZWxlY3RvckVuZ2luZS5maW5kKFNFTEVDVE9SX0lOTkVSX0VMRU0sIHRoaXMuX3BhcmVudCk7XG4gIH1cblxuICBfZ2V0QWN0aXZlRWxlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2hpbGRyZW4oKS5maW5kKGNoaWxkID0+IHRoaXMuX2VsZW1Jc0FjdGl2ZShjaGlsZCkpIHx8IG51bGw7XG4gIH1cblxuICBfc2V0SW5pdGlhbEF0dHJpYnV0ZXMocGFyZW50LCBjaGlsZHJlbikge1xuICAgIHRoaXMuX3NldEF0dHJpYnV0ZUlmTm90RXhpc3RzKHBhcmVudCwgJ3JvbGUnLCAndGFibGlzdCcpO1xuXG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgdGhpcy5fc2V0SW5pdGlhbEF0dHJpYnV0ZXNPbkNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICBfc2V0SW5pdGlhbEF0dHJpYnV0ZXNPbkNoaWxkKGNoaWxkKSB7XG4gICAgY2hpbGQgPSB0aGlzLl9nZXRJbm5lckVsZW1lbnQoY2hpbGQpO1xuXG4gICAgY29uc3QgaXNBY3RpdmUgPSB0aGlzLl9lbGVtSXNBY3RpdmUoY2hpbGQpO1xuXG4gICAgY29uc3Qgb3V0ZXJFbGVtID0gdGhpcy5fZ2V0T3V0ZXJFbGVtZW50KGNoaWxkKTtcblxuICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGlzQWN0aXZlKTtcblxuICAgIGlmIChvdXRlckVsZW0gIT09IGNoaWxkKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhvdXRlckVsZW0sICdyb2xlJywgJ3ByZXNlbnRhdGlvbicpO1xuICAgIH1cblxuICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhjaGlsZCwgJ3JvbGUnLCAndGFiJyk7IC8vIHNldCBhdHRyaWJ1dGVzIHRvIHRoZSByZWxhdGVkIHBhbmVsIHRvb1xuXG5cbiAgICB0aGlzLl9zZXRJbml0aWFsQXR0cmlidXRlc09uVGFyZ2V0UGFuZWwoY2hpbGQpO1xuICB9XG5cbiAgX3NldEluaXRpYWxBdHRyaWJ1dGVzT25UYXJnZXRQYW5lbChjaGlsZCkge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldEVsZW1lbnRGcm9tU2VsZWN0b3IoY2hpbGQpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyh0YXJnZXQsICdyb2xlJywgJ3RhYnBhbmVsJyk7XG5cbiAgICBpZiAoY2hpbGQuaWQpIHtcbiAgICAgIHRoaXMuX3NldEF0dHJpYnV0ZUlmTm90RXhpc3RzKHRhcmdldCwgJ2FyaWEtbGFiZWxsZWRieScsIGAjJHtjaGlsZC5pZH1gKTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlRHJvcERvd24oZWxlbWVudCwgb3Blbikge1xuICAgIGNvbnN0IG91dGVyRWxlbSA9IHRoaXMuX2dldE91dGVyRWxlbWVudChlbGVtZW50KTtcblxuICAgIGlmICghb3V0ZXJFbGVtLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19EUk9QRE9XTikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0b2dnbGUgPSAoc2VsZWN0b3IsIGNsYXNzTmFtZSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IFNlbGVjdG9yRW5naW5lLmZpbmRPbmUoc2VsZWN0b3IsIG91dGVyRWxlbSk7XG5cbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUsIG9wZW4pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0b2dnbGUoU0VMRUNUT1JfRFJPUERPV05fVE9HR0xFLCBDTEFTU19OQU1FX0FDVElWRSk7XG4gICAgdG9nZ2xlKFNFTEVDVE9SX0RST1BET1dOX01FTlUsIENMQVNTX05BTUVfU0hPVyQxKTtcbiAgICB0b2dnbGUoU0VMRUNUT1JfRFJPUERPV05fSVRFTSwgQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICAgIG91dGVyRWxlbS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBvcGVuKTtcbiAgfVxuXG4gIF9zZXRBdHRyaWJ1dGVJZk5vdEV4aXN0cyhlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgaWYgKCFlbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGUpKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBfZWxlbUlzQWN0aXZlKGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NfTkFNRV9BQ1RJVkUpO1xuICB9IC8vIFRyeSB0byBnZXQgdGhlIGlubmVyIGVsZW1lbnQgKHVzdWFsbHkgdGhlIC5uYXYtbGluaylcblxuXG4gIF9nZXRJbm5lckVsZW1lbnQoZWxlbSkge1xuICAgIHJldHVybiBlbGVtLm1hdGNoZXMoU0VMRUNUT1JfSU5ORVJfRUxFTSkgPyBlbGVtIDogU2VsZWN0b3JFbmdpbmUuZmluZE9uZShTRUxFQ1RPUl9JTk5FUl9FTEVNLCBlbGVtKTtcbiAgfSAvLyBUcnkgdG8gZ2V0IHRoZSBvdXRlciBlbGVtZW50ICh1c3VhbGx5IHRoZSAubmF2LWl0ZW0pXG5cblxuICBfZ2V0T3V0ZXJFbGVtZW50KGVsZW0pIHtcbiAgICByZXR1cm4gZWxlbS5jbG9zZXN0KFNFTEVDVE9SX09VVEVSKSB8fCBlbGVtO1xuICB9IC8vIFN0YXRpY1xuXG5cbiAgc3RhdGljIGpRdWVyeUludGVyZmFjZShjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBUYWIuZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRhdGFbY29uZmlnXSA9PT0gdW5kZWZpbmVkIHx8IGNvbmZpZy5zdGFydHNXaXRoKCdfJykgfHwgY29uZmlnID09PSAnY29uc3RydWN0b3InKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICB9XG5cbiAgICAgIGRhdGFbY29uZmlnXSgpO1xuICAgIH0pO1xuICB9XG5cbn1cbi8qKlxuICogRGF0YSBBUEkgaW1wbGVtZW50YXRpb25cbiAqL1xuXG5cbkV2ZW50SGFuZGxlci5vbihkb2N1bWVudCwgRVZFTlRfQ0xJQ0tfREFUQV9BUEksIFNFTEVDVE9SX0RBVEFfVE9HR0xFLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgaWYgKFsnQScsICdBUkVBJ10uaW5jbHVkZXModGhpcy50YWdOYW1lKSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBpZiAoaXNEaXNhYmxlZCh0aGlzKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIFRhYi5nZXRPckNyZWF0ZUluc3RhbmNlKHRoaXMpLnNob3coKTtcbn0pO1xuLyoqXG4gKiBJbml0aWFsaXplIG9uIGZvY3VzXG4gKi9cblxuRXZlbnRIYW5kbGVyLm9uKHdpbmRvdywgRVZFTlRfTE9BRF9EQVRBX0FQSSwgKCkgPT4ge1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgU2VsZWN0b3JFbmdpbmUuZmluZChTRUxFQ1RPUl9EQVRBX1RPR0dMRV9BQ1RJVkUpKSB7XG4gICAgVGFiLmdldE9yQ3JlYXRlSW5zdGFuY2UoZWxlbWVudCk7XG4gIH1cbn0pO1xuLyoqXG4gKiBqUXVlcnlcbiAqL1xuXG5kZWZpbmVKUXVlcnlQbHVnaW4oVGFiKTtcblxuLyoqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQm9vdHN0cmFwICh2NS4yLjApOiB0b2FzdC5qc1xuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYWluL0xJQ0VOU0UpXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICovXG4vKipcbiAqIENvbnN0YW50c1xuICovXG5cbmNvbnN0IE5BTUUgPSAndG9hc3QnO1xuY29uc3QgREFUQV9LRVkgPSAnYnMudG9hc3QnO1xuY29uc3QgRVZFTlRfS0VZID0gYC4ke0RBVEFfS0VZfWA7XG5jb25zdCBFVkVOVF9NT1VTRU9WRVIgPSBgbW91c2VvdmVyJHtFVkVOVF9LRVl9YDtcbmNvbnN0IEVWRU5UX01PVVNFT1VUID0gYG1vdXNlb3V0JHtFVkVOVF9LRVl9YDtcbmNvbnN0IEVWRU5UX0ZPQ1VTSU4gPSBgZm9jdXNpbiR7RVZFTlRfS0VZfWA7XG5jb25zdCBFVkVOVF9GT0NVU09VVCA9IGBmb2N1c291dCR7RVZFTlRfS0VZfWA7XG5jb25zdCBFVkVOVF9ISURFID0gYGhpZGUke0VWRU5UX0tFWX1gO1xuY29uc3QgRVZFTlRfSElEREVOID0gYGhpZGRlbiR7RVZFTlRfS0VZfWA7XG5jb25zdCBFVkVOVF9TSE9XID0gYHNob3cke0VWRU5UX0tFWX1gO1xuY29uc3QgRVZFTlRfU0hPV04gPSBgc2hvd24ke0VWRU5UX0tFWX1gO1xuY29uc3QgQ0xBU1NfTkFNRV9GQURFID0gJ2ZhZGUnO1xuY29uc3QgQ0xBU1NfTkFNRV9ISURFID0gJ2hpZGUnOyAvLyBAZGVwcmVjYXRlZCAtIGtlcHQgaGVyZSBvbmx5IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuXG5jb25zdCBDTEFTU19OQU1FX1NIT1cgPSAnc2hvdyc7XG5jb25zdCBDTEFTU19OQU1FX1NIT1dJTkcgPSAnc2hvd2luZyc7XG5jb25zdCBEZWZhdWx0VHlwZSA9IHtcbiAgYW5pbWF0aW9uOiAnYm9vbGVhbicsXG4gIGF1dG9oaWRlOiAnYm9vbGVhbicsXG4gIGRlbGF5OiAnbnVtYmVyJ1xufTtcbmNvbnN0IERlZmF1bHQgPSB7XG4gIGFuaW1hdGlvbjogdHJ1ZSxcbiAgYXV0b2hpZGU6IHRydWUsXG4gIGRlbGF5OiA1MDAwXG59O1xuLyoqXG4gKiBDbGFzcyBkZWZpbml0aW9uXG4gKi9cblxuY2xhc3MgVG9hc3QgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgY29uZmlnKSB7XG4gICAgc3VwZXIoZWxlbWVudCwgY29uZmlnKTtcbiAgICB0aGlzLl90aW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLl9oYXNNb3VzZUludGVyYWN0aW9uID0gZmFsc2U7XG4gICAgdGhpcy5faGFzS2V5Ym9hcmRJbnRlcmFjdGlvbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5fc2V0TGlzdGVuZXJzKCk7XG4gIH0gLy8gR2V0dGVyc1xuXG5cbiAgc3RhdGljIGdldCBEZWZhdWx0KCkge1xuICAgIHJldHVybiBEZWZhdWx0O1xuICB9XG5cbiAgc3RhdGljIGdldCBEZWZhdWx0VHlwZSgpIHtcbiAgICByZXR1cm4gRGVmYXVsdFR5cGU7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5BTUUoKSB7XG4gICAgcmV0dXJuIE5BTUU7XG4gIH0gLy8gUHVibGljXG5cblxuICBzaG93KCkge1xuICAgIGNvbnN0IHNob3dFdmVudCA9IEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX1NIT1cpO1xuXG4gICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fY2xlYXJUaW1lb3V0KCk7XG5cbiAgICBpZiAodGhpcy5fY29uZmlnLmFuaW1hdGlvbikge1xuICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfRkFERSk7XG4gICAgfVxuXG4gICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XSU5HKTtcblxuICAgICAgRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfU0hPV04pO1xuXG4gICAgICB0aGlzLl9tYXliZVNjaGVkdWxlSGlkZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9ISURFKTsgLy8gQGRlcHJlY2F0ZWRcblxuXG4gICAgcmVmbG93KHRoaXMuX2VsZW1lbnQpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTX05BTUVfU0hPVywgQ0xBU1NfTkFNRV9TSE9XSU5HKTtcblxuICAgIHRoaXMuX3F1ZXVlQ2FsbGJhY2soY29tcGxldGUsIHRoaXMuX2VsZW1lbnQsIHRoaXMuX2NvbmZpZy5hbmltYXRpb24pO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNTaG93bigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGlkZUV2ZW50ID0gRXZlbnRIYW5kbGVyLnRyaWdnZXIodGhpcy5fZWxlbWVudCwgRVZFTlRfSElERSk7XG5cbiAgICBpZiAoaGlkZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX0hJREUpOyAvLyBAZGVwcmVjYXRlZFxuXG5cbiAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU19OQU1FX1NIT1dJTkcsIENMQVNTX05BTUVfU0hPVyk7XG5cbiAgICAgIEV2ZW50SGFuZGxlci50cmlnZ2VyKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0hJRERFTik7XG4gICAgfTtcblxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU19OQU1FX1NIT1dJTkcpO1xuXG4gICAgdGhpcy5fcXVldWVDYWxsYmFjayhjb21wbGV0ZSwgdGhpcy5fZWxlbWVudCwgdGhpcy5fY29uZmlnLmFuaW1hdGlvbik7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuX2NsZWFyVGltZW91dCgpO1xuXG4gICAgaWYgKHRoaXMuaXNTaG93bigpKSB7XG4gICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NfTkFNRV9TSE9XKTtcbiAgICB9XG5cbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gIH1cblxuICBpc1Nob3duKCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU19OQU1FX1NIT1cpO1xuICB9IC8vIFByaXZhdGVcblxuXG4gIF9tYXliZVNjaGVkdWxlSGlkZSgpIHtcbiAgICBpZiAoIXRoaXMuX2NvbmZpZy5hdXRvaGlkZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9oYXNNb3VzZUludGVyYWN0aW9uIHx8IHRoaXMuX2hhc0tleWJvYXJkSW50ZXJhY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmhpZGUoKTtcbiAgICB9LCB0aGlzLl9jb25maWcuZGVsYXkpO1xuICB9XG5cbiAgX29uSW50ZXJhY3Rpb24oZXZlbnQsIGlzSW50ZXJhY3RpbmcpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgIGNhc2UgJ21vdXNlb3Zlcic6XG4gICAgICBjYXNlICdtb3VzZW91dCc6XG4gICAgICAgIHRoaXMuX2hhc01vdXNlSW50ZXJhY3Rpb24gPSBpc0ludGVyYWN0aW5nO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZm9jdXNpbic6XG4gICAgICBjYXNlICdmb2N1c291dCc6XG4gICAgICAgIHRoaXMuX2hhc0tleWJvYXJkSW50ZXJhY3Rpb24gPSBpc0ludGVyYWN0aW5nO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoaXNJbnRlcmFjdGluZykge1xuICAgICAgdGhpcy5fY2xlYXJUaW1lb3V0KCk7XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBuZXh0RWxlbWVudCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG5cbiAgICBpZiAodGhpcy5fZWxlbWVudCA9PT0gbmV4dEVsZW1lbnQgfHwgdGhpcy5fZWxlbWVudC5jb250YWlucyhuZXh0RWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9tYXliZVNjaGVkdWxlSGlkZSgpO1xuICB9XG5cbiAgX3NldExpc3RlbmVycygpIHtcbiAgICBFdmVudEhhbmRsZXIub24odGhpcy5fZWxlbWVudCwgRVZFTlRfTU9VU0VPVkVSLCBldmVudCA9PiB0aGlzLl9vbkludGVyYWN0aW9uKGV2ZW50LCB0cnVlKSk7XG4gICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX01PVVNFT1VULCBldmVudCA9PiB0aGlzLl9vbkludGVyYWN0aW9uKGV2ZW50LCBmYWxzZSkpO1xuICAgIEV2ZW50SGFuZGxlci5vbih0aGlzLl9lbGVtZW50LCBFVkVOVF9GT0NVU0lOLCBldmVudCA9PiB0aGlzLl9vbkludGVyYWN0aW9uKGV2ZW50LCB0cnVlKSk7XG4gICAgRXZlbnRIYW5kbGVyLm9uKHRoaXMuX2VsZW1lbnQsIEVWRU5UX0ZPQ1VTT1VULCBldmVudCA9PiB0aGlzLl9vbkludGVyYWN0aW9uKGV2ZW50LCBmYWxzZSkpO1xuICB9XG5cbiAgX2NsZWFyVGltZW91dCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XG4gICAgdGhpcy5fdGltZW91dCA9IG51bGw7XG4gIH0gLy8gU3RhdGljXG5cblxuICBzdGF0aWMgalF1ZXJ5SW50ZXJmYWNlKGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgZGF0YSA9IFRvYXN0LmdldE9yQ3JlYXRlSW5zdGFuY2UodGhpcywgY29uZmlnKTtcblxuICAgICAgaWYgKHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YVtjb25maWddID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYE5vIG1ldGhvZCBuYW1lZCBcIiR7Y29uZmlnfVwiYCk7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhW2NvbmZpZ10odGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufVxuLyoqXG4gKiBEYXRhIEFQSSBpbXBsZW1lbnRhdGlvblxuICovXG5cblxuZW5hYmxlRGlzbWlzc1RyaWdnZXIoVG9hc3QpO1xuLyoqXG4gKiBqUXVlcnlcbiAqL1xuXG5kZWZpbmVKUXVlcnlQbHVnaW4oVG9hc3QpO1xuXG5leHBvcnQgeyBBbGVydCwgQnV0dG9uLCBDYXJvdXNlbCwgQ29sbGFwc2UsIERyb3Bkb3duLCBNb2RhbCwgT2ZmY2FudmFzLCBQb3BvdmVyLCBTY3JvbGxTcHksIFRhYiwgVG9hc3QsIFRvb2x0aXAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb3RzdHJhcC5lc20uanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudXBkYXRlUmFuZ2VWYWxUZXh0ID0gZXhwb3J0cy5zZXRFcnJvck1lc3NhZ2UgPSBleHBvcnRzLmNyZWF0ZVByZXNldEZvcm1GaWVsZCA9IGV4cG9ydHMuY3JldGVFbnVtUHJlc2V0Rm9ybUZpZWxkID0gZXhwb3J0cy5jcmVhdGVSYW5nZVByZXNldEZvcm1GaWVsZCA9IGV4cG9ydHMuY3JldGVCb29sUHJlc2V0Rm9ybUZpZWxkID0gdm9pZCAwO1xuY29uc3QgZGRwX3ByZXNldHNfMSA9IHJlcXVpcmUoXCIuL2RkcF9wcmVzZXRzXCIpO1xuY29uc3QgbG9nc2NhbGVfMSA9IHJlcXVpcmUoXCIuLi9sb2dzY2FsZVwiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG5jb25zdCB2YWxpZGF0b3JzXzEgPSByZXF1aXJlKFwiLi92YWxpZGF0b3JzXCIpO1xuLyoqKlxuICogQ3JlYXRlIGFuIGlucHV0IGZpZWxkIGZvciBhIGJvb2xlYW4gdmFsdWUuXG4gKiBSZXR1cm5zIEhUTUwgZm9ybWF0dGVkIHN0cmluZyB0byBjcmVhdGUgYSBCb290c3RyYXAgNSBjaGVja2JveCBpbnB1dCBpbiB0aGUgc3dpdGNoIHN0eWxlXG4gKiBodHRwczovL2dldGJvb3RzdHJhcC5jb20vZG9jcy81LjAvZm9ybXMvY2hlY2tzLXJhZGlvcy8jc3dpdGNoZXNcbiAqXG4gKiBAcGFyYW0ge2FueX0gaW5pdFZhbHVlICAgIC0gVmFsdWUgdG8gc2V0IHRoZSBpbnB1dCB0b1xuICogQHBhcmFtIHtudW1iZXJ9IGlkICAgICAgICAtIE51bWVyaWMgSUQgb2YgdGhlIGlucHV0IGluIHRoZSBmb3JtXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRpc2FibGVkIC0gSWYgdHJ1ZSwgYWRkcyB0aGUgJ2Rpc2FibGVkJyBIVE1MIHRhZyB0byB0aGUgaW5wdXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9ICAgICAgICAgLSBIVE1MIGZvcm1hdHRlZCBzdHJpbmcgZm9yIGEgY2hlY2tib3guXG4gKi9cbmZ1bmN0aW9uIGNyZXRlQm9vbFByZXNldEZvcm1GaWVsZChpbml0VmFsdWUsIGlkLCBkaXNhYmxlZCA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBmb3JtLXN3aXRjaFwiPlxyXG48aW5wdXQgY2xhc3M9XCJmb3JtLWNoZWNrLWlucHV0XCIgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCIke2luaXRWYWx1ZX1cIiBpZD1cInByZXNldElucHV0JHtpZH1cIiAke2Jvb2xUb0Rpc2FibGVkQXR0cihkaXNhYmxlZCl9PjwvZGl2PmA7XG59XG5leHBvcnRzLmNyZXRlQm9vbFByZXNldEZvcm1GaWVsZCA9IGNyZXRlQm9vbFByZXNldEZvcm1GaWVsZDtcbmZ1bmN0aW9uIGJvb2xUb0Rpc2FibGVkQXR0cihkaXNhYmxlZCkge1xuICAgIHJldHVybiBkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnJztcbn1cbi8qKipcbiAqIENyZWF0ZSBhIHJhbmdlIHNsaWRlciAoaW5wdXQgdHlwZT1cInJhbmdlXCIpIGJhc2VkIG9uIGEgcmFuZ2UgRERQUHJlc2V0RmllbGQuXG4gKiBSZXR1cm5zIEhUTUwgZm9ybWF0dGVkIHN0cmluZyBmb3IgYSByYW5nZSBzbGlkZXIgaW4gY3VzdG9tIHN0eWxlcywgZGlzcGxheWluZyB0aGVcbiAqIGN1cnJlbnQgdmFsdWUgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc2xpZXIsIGZvcm1hdHRlZCBhcyBhbiBTSSB1bml0IGFuZCBjb252ZXJ0ZWQgdG8gbG9nYXJpdGhtaWMgdmFsdWUsXG4gKiBpZiB0aGUgc2xpZGVyIGlzIHNldCBsb2dhcml0aG1pYyBpbiB0aGUgZmllbGQgb3B0aW9ucy5cbiAqIFRoZSBzbGlkZXIgYWxzbyBkaXNwbGF5cyBcIlJlc3RyaWN0aXZlXCIgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgc2xpZGVyIGFuZCBcIlBlcm1pc3NpdmVcIiBhdCB0aGUgZW5kLlxuICogVGhlIHNsaWRlciBpcyBiYXNlZCBvbiB0aGUgQm9vdHN0cmFwIDUgcmFuZ2UgaW5wdXRcbiAqIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS9kb2NzLzUuMC9mb3Jtcy9yYW5nZS9cbiAqXG4gKiBAcGFyYW0ge0REUFByZXNldEZpZWxkfSBmaWVsZCAtIElucHV0IGZpZWxkIHNldHRpbmdzLiBUaGUgZmllbGQgaGFzIHRvIGJlIHR5cGUgUkFOR0UgYW5kIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zIGF0dHJpYnV0ZSBoYXMgdG8gYmUgZmlsbGVkIHdpdGggdGhlIFJhbmdlUHJlc2V0RmllbGRPcHRzIHR5cGUuXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgICAgICAgICAgICAgLSBOdW1lcmljIElEIG9mIHRoZSBpbnB1dCBpbiB0aGUgZm9ybVxuICogQHBhcmFtIHthbnl9IGluaXRWYWx1ZSAgICAgICAgIC0gVmFsdWUgdG8gc2V0IHRoZSBpbnB1dCB0by4gSWYgdGhlIHNsaWRlciBpcyBsb2dhcml0aG1pYywgdGhlIGluaXRWYWx1ZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkIGJlIGxpbmVhciBpbiByYW5nZSBmcm9tIDAgdG8gMTAwLlxuICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZCAgICAgIC0gSWYgdHJ1ZSwgYWRkcyB0aGUgJ2Rpc2FibGVkJyBIVE1MIHRhZyB0byB0aGUgaW5wdXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9ICAgICAgICAgICAgICAtIEhUTUwgZm9ybWF0dGVkIHN0cmluZyBmb3IgdGhlIGN1c3RvbSByYW5nZSBzbGlkZXIsIGJhc2VkIG9uIHRoZSBCb290c3RyYXAgNSByYW5nZSBpbnB1dHMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJhbmdlUHJlc2V0Rm9ybUZpZWxkKGZpZWxkLCBpZCwgaW5pdFZhbHVlLCBkaXNhYmxlZCA9IGZhbHNlKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgIT09IGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRUeXBlLlJBTkdFIHx8IGZpZWxkLm9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBmaWVsZC5vcHRpb25zO1xuICAgIGlmIChpbml0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbml0VmFsdWUgPSA1MDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChvcHRzLnR5cGUgPT09IGRkcF9wcmVzZXRzXzEuU2xpZGVyVHlwZS5MT0dBUklUSE1JQykge1xuICAgICAgICAgICAgaW5pdFZhbHVlID0gKDAsIGxvZ3NjYWxlXzEucG9zRnJvbUxvZ2FyaXRobWljVmFsdWUpKGluaXRWYWx1ZSwgb3B0cy5sb3csIG9wdHMuaGlnaCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGluaXRMYWJlbCA9ICcnO1xuICAgIGxldCBtaW5NYXhTdHIgPSAnJztcbiAgICBzd2l0Y2ggKG9wdHMudHlwZSkge1xuICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuU2xpZGVyVHlwZS5MSU5FQVI6XG4gICAgICAgICAgICBpbml0TGFiZWwgPSAoMCwgdXRpbHNfMS5mb3JtYXRTSVVuaXROdW1iZXIpKGluaXRWYWx1ZSwgMiwgb3B0cy51bml0KTtcbiAgICAgICAgICAgIG1pbk1heFN0ciA9IGBtaW49JHtvcHRzLmxvd30gbWF4PSR7b3B0cy5oaWdofWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBkZHBfcHJlc2V0c18xLlNsaWRlclR5cGUuTE9HQVJJVEhNSUM6XG4gICAgICAgICAgICBpbml0TGFiZWwgPSAoMCwgdXRpbHNfMS5mb3JtYXRTSVVuaXROdW1iZXIpKCgwLCBsb2dzY2FsZV8xLmxvZ2FyaXRobWljVmFsdWVGcm9tUG9zKShpbml0VmFsdWUsIG9wdHMubG93LCBvcHRzLmhpZ2gpLCAyLCBvcHRzLnVuaXQpO1xuICAgICAgICAgICAgbWluTWF4U3RyID0gXCJtaW49MCBtYXg9MTAwXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGBcclxuPGRpdiBjbGFzcz1cInJvdyBmb3JtLXRleHRcIj5cclxuPGRpdiBjbGFzcz1cImNvbC00XCI+UmVzdHJpY3RpdmU8L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNvbC00IHRleHQtY2VudGVyXCIgaWQ9XCJyYW5nZVZhbCR7aWR9XCI+JHtpbml0TGFiZWx9PC9kaXY+XHJcbjxkaXYgY2xhc3M9XCJjb2wtNCB0ZXh0LWVuZFwiPlBlcm1pc3NpdmU8L2Rpdj5cclxuPC9kaXY+XHJcbjxpbnB1dCBjbGFzcz1cImZvcm0tcmFuZ2VcIiB0eXBlPVwicmFuZ2VcIiB2YWx1ZT1cIiR7aW5pdFZhbHVlfVwiIGlkPVwicHJlc2V0SW5wdXQke2lkfVwiICR7bWluTWF4U3RyfSBzdGVwPTEgJHtib29sVG9EaXNhYmxlZEF0dHIoZGlzYWJsZWQpfVxyXG5vbkNoYW5nZT1cIkV4YUZTLnVwZGF0ZVJhbmdlVmFsVGV4dCh0aGlzLCAke2lkfSwgJHtvcHRzLmxvd30sICR7b3B0cy5oaWdofSwgJHtvcHRzLnR5cGV9LCAnJHtvcHRzLnVuaXR9JylcIiBuYW1lPVwiZGRwXyR7ZmllbGQubmFtZX1cIlxyXG5vbklucHV0PVwiRXhhRlMudXBkYXRlUmFuZ2VWYWxUZXh0KHRoaXMsICR7aWR9LCAke29wdHMubG93fSwgJHtvcHRzLmhpZ2h9LCAke29wdHMudHlwZX0sICcke29wdHMudW5pdH0nKVwiPmA7XG59XG5leHBvcnRzLmNyZWF0ZVJhbmdlUHJlc2V0Rm9ybUZpZWxkID0gY3JlYXRlUmFuZ2VQcmVzZXRGb3JtRmllbGQ7XG4vKioqXG4gKiBDcmVhdGUgYW4gZW51bSBwcmVzZXQgaW5wdXQgZmllbGQgLSBlaXRoZXIgc2VsZWN0IGlucHV0IG9yIGEgZ3JvdXAgb2YgY2hlY2tib3hlcywgYmFzZWQgb24gdGhlXG4gKiAnbXVsdGknIG9wdGlvbiBmcm9tIHRoZSBFbnVtUHJlc2V0RmllbGRPcHRzIG9wdGlvbiBvYmplY3QuXG4gKiBSZXR1cm5zIEhUTUwgZm9ybWF0dGVkIHN0cmluZyBmb3IgdGhlIGlucHV0LlxuICpcbiAqIEBwYXJhbSB7RERQUHJlc2V0RmllbGR9IGZpZWxkIC0gSW5wdXQgZmllbGQgc2V0dGluZ3MuIFRoZSBmaWVsZCBoYXMgdG8gYmUgdHlwZSBFTlVNIGFuZCB0aGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyBhdHRyaWJ1dGUgaGFzIHRvIGJlIGZpbGxlZCB3aXRoIHRoZSBFbnVtUHJlc2V0RmllbGRPcHRzIHR5cGUuXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgICAgICAgICAgICAtIE51bWVyaWMgSUQgb2YgdGhlIGlucHV0IGluIHRoZSBmb3JtXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5pdFZhbHVlICAgICAtIElmIHRoZSBpbnB1dCBvcHRpb25zIGhhcyB0aGUgXCJtdWx0aVwiIGF0dHJpYnV0ZSBzZXQgdG8gdHJ1ZSwgZXhwZWN0cyBhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hLXNlcGFyYXRlZCBzdHJpbmcgd2l0aCB2YWx1ZXMgdGhhdCBzaG91bGQgYmUgY2hlY2tlZC5cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdGhlIFwibXVsdGlcIiBvcHRpb24gaXMgc2V0IHRvIGZhbHNlLCBleHBlY3RzIGEgc3RyaW5nIHdpdGggdGhlIHZhbHVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0IHNob3VsZCBiZSBpbml0aWFsbHkgc2VsZWN0ZWQgaW4gdGhlIHNlbGVjdCBlbGVtZW50LlxuICogQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZCAgICAgLSBJZiB0cnVlLCBhZGRzIHRoZSAnZGlzYWJsZWQnIEhUTUwgdGFnIHRvIHRoZSBpbnB1dFxuICogQHJldHVybnMge3N0cmluZ30gICAgICAgICAgICAgLSBIVE1MIGZvcm1hdHRlZCBzdHJpbmcgZm9yIGVpdGhlciBhIHNlbGVjdCBlbGVtZW50IG9yIGEgZ3JvdXAgb2YgaW5wdXQgdHlwZT1cImNoZWNrYm94XCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMsIGJhc2VkIG9uIHRoZSAnbXVsdGknIG9wdGlvbiBmcm9tIEVudW1QcmVzZXRGaWVsZE9wdHMuXG4gKi9cbmZ1bmN0aW9uIGNyZXRlRW51bVByZXNldEZvcm1GaWVsZChmaWVsZCwgaWQsIGluaXRWYWx1ZSwgZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgIGlmIChmaWVsZC50eXBlICE9PSBkZHBfcHJlc2V0c18xLlByZXNldEZpZWxkVHlwZS5FTlVNIHx8IGZpZWxkLm9wdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBvcHRzID0gZmllbGQub3B0aW9ucztcbiAgICBsZXQgdmFsdWVzID0gJyc7XG4gICAgaWYgKG9wdHMubXVsdGkpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBpbml0VmFsdWUgPT09IG51bGwgfHwgaW5pdFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0VmFsdWUuc3BsaXQoJywnKTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2Ygb3B0cy52YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcyArPSBgPGRpdiBjbGFzcz1cImZvcm0tY2hlY2sgZm9ybS1jaGVjay1pbmxpbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZGRwXyR7ZmllbGQubmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiJHt2YWx9Q2hlY2ske2lkfVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt2YWx9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Jvb2xUb0Rpc2FibGVkQXR0cihkaXNhYmxlZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHsoc2VsZWN0ZWQgPT09IG51bGwgfHwgc2VsZWN0ZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGVkLmluY2x1ZGVzKHZhbCkpID8gJ2NoZWNrZWQ9XCJjaGVja2VkXCInIDogJyd9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiIGZvcj1cIiR7dmFsfUNoZWNrJHtpZH1cIj4ke3ZhbH08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBmb3JtLWNoZWNrLWlubGluZVwiIGlkPVwicHJlc2V0SW5wdXQke2lkfVwiPiR7dmFsdWVzfTwvZGl2PmA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiBvcHRzLnZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzICs9IGA8b3B0aW9uIHZhbHVlPSR7dmFsfSAke3ZhbCA9PT0gaW5pdFZhbHVlID8gJ3NlbGVjdGVkJyA6ICcnfT4ke3ZhbH08L29wdGlvbj5gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgPHNlbGVjdCBjbGFzcz1cImZvcm0tc2VsZWN0XCIgaWQ9XCJwcmVzZXRJbnB1dCR7aWR9XCIgJHtib29sVG9EaXNhYmxlZEF0dHIoZGlzYWJsZWQpfSBuYW1lPVwiZGRwXyR7ZmllbGQubmFtZX1cIj4ke3ZhbHVlc308L3NlbGVjdD5gO1xuICAgIH1cbn1cbmV4cG9ydHMuY3JldGVFbnVtUHJlc2V0Rm9ybUZpZWxkID0gY3JldGVFbnVtUHJlc2V0Rm9ybUZpZWxkO1xuLyoqKlxuICogQ3JlYXRlIEhUTUwgZm9ybWF0dGVkIHN0cmluZyBiYXNlZCBvbiB0aGUgZmllbGQgdHlwZTpcbiAqICAtIGlucHV0IHR5cGU9XCJ0ZXh0XCIgZm9ybSBQcmVzZXRGaWVsZFR5cGUuVEVYVFxuICogIC0gaW5wdXQgdHlwZT1cIm51bWJlclwiIGZyb20gUHJlc2V0RmllbGRUeXBlLk5VTUJFUlxuICogIC0gYSByYW5nZSBzbGlkZXIgZnJvbSBQcmVzZXRGaWVsZFR5cGUuUkFOR0VcbiAqICAtIEEgY2hlY2tib3ggZnJvbSBQcmVzZXRGaWVsZFR5cGUuQk9PTFxuICogIC0gQSBzZWxlY3Qgb3IgYSBncm91cCBvZiBjaGVja2JveGVzIGZyb20gUHJlc2V0RmllbGRUeXBlLkVOVU0sIGJhc2VkIG9uIHRoZSAnbXVsdGknIG9wdGlvbiBmcm9tIEVudW1GaWVsZFByZXNldE9wdHNcbiAqXG4gKiAgQHBhcmFtIHtERFBQcmVzZXRGaWVsZH0gZmllbGQgLSBGaWVsZCBkYXRhIG9mIHRoZSBmaWVsZCB0byBjcmVhdGVcbiAqICBAcGFyYW0ge251bWJlcn0gaWQgICAgICAgICAgICAtIE51bWVyaWMgSUQgb2YgdGhlIGlucHV0IGluIHRoZSBmb3JtXG4gKiAgQHBhcmFtIHthbnl9IGluaXRWYWx1ZSAgICAgICAgLSBWYWx1ZSB0byBzZXQgdGhlIGlucHV0IHRvXG4gKiAgQHBhcmFtIHtib29sZWFufSBkaXNhYmxlZCAgICAgLSBJZiB0cnVlLCBhZGRzIHRoZSAnZGlzYWJsZWQnIEhUTUwgYXR0cmlidXRlIHRvIHRoZSBpbnB1dFxuICogIEByZXR1cm5zIHtzdHJpbmd9ICAgICAgICAgICAgIC0gSFRNTCBmb3JtYXR0ZWQgc3RyaW5nIGZvciBhIGZvcm0gZWxlbWVudCBiYXNlZCBvbiB0aGUgYGZpZWxkYFxuICovXG5mdW5jdGlvbiBjcmVhdGVQcmVzZXRGb3JtRmllbGQoZmllbGQsIGlkLCBpbml0VmFsdWUsIGRpc2FibGVkID0gZmFsc2UpIHtcbiAgICBsZXQgdmFsID0gJzxkaXYgY2xhc3M9XCJmYWRlLWluLWZ3ZFwiPic7XG4gICAgaWYgKGluaXRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluaXRWYWx1ZSA9IGZpZWxkLmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgY29uc3QgdmFsaWRhdG9yID0gZmllbGQudmFsaWRhdG9ycyA/IGBvbklucHV0PVwiRXhhRlMudmFsaWRhdGVGaWVsZCgnJHtmaWVsZC5uYW1lfScsIHRoaXMsICR7aWR9KVwiYCA6ICcnO1xuICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRUeXBlLlRFWFQ6XG4gICAgICAgICAgICB2YWwgKz0gYDxpbnB1dCBjbGFzcz1cImZvcm0tY29udHJvbFwiICR7dmFsaWRhdG9yfSBuYW1lPVwiZGRwXyR7ZmllbGQubmFtZX1cIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJHtpbml0VmFsdWV9XCIgaWQ9XCJwcmVzZXRJbnB1dCR7aWR9XCIgJHtib29sVG9EaXNhYmxlZEF0dHIoZGlzYWJsZWQpfT5gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZGRwX3ByZXNldHNfMS5QcmVzZXRGaWVsZFR5cGUuTlVNQkVSOlxuICAgICAgICAgICAgdmFsICs9IGA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiAke3ZhbGlkYXRvcn0gdHlwZT1cIm51bWJlclwiIG5hbWU9XCJkZHBfJHtmaWVsZC5uYW1lfVwiIHZhbHVlPVwiJHtpbml0VmFsdWV9XCIgaWQ9XCJwcmVzZXRJbnB1dCR7aWR9XCIgJHtib29sVG9EaXNhYmxlZEF0dHIoZGlzYWJsZWQpfT5gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZGRwX3ByZXNldHNfMS5QcmVzZXRGaWVsZFR5cGUuUkFOR0U6XG4gICAgICAgICAgICB2YWwgKz0gY3JlYXRlUmFuZ2VQcmVzZXRGb3JtRmllbGQoZmllbGQsIGlkLCBpbml0VmFsdWUsIGRpc2FibGVkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRUeXBlLkJPT0w6XG4gICAgICAgICAgICB2YWwgKz0gY3JldGVCb29sUHJlc2V0Rm9ybUZpZWxkKGluaXRWYWx1ZSwgaWQsIGRpc2FibGVkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRUeXBlLkVOVU06XG4gICAgICAgICAgICB2YWwgKz0gY3JldGVFbnVtUHJlc2V0Rm9ybUZpZWxkKGZpZWxkLCBpZCwgaW5pdFZhbHVlLCBkaXNhYmxlZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdmFsICs9IGA8cCBjbGFzcz1cImZvcm0tdGV4dCB0ZXh0LWRhbmdlclwiIGlkPVwiZm9ybS12YWx1ZS1lcnJvci1tc2cke2lkfVwiPjwvcD5gO1xuICAgIGlmIChmaWVsZC5kZXNjcmlwdGlvbikge1xuICAgICAgICB2YWwgKz0gYDxkaXYgY2xhc3M9XCJmb3JtLXRleHRcIj4ke2ZpZWxkLmRlc2NyaXB0aW9ufTwvZGl2PmA7XG4gICAgfVxuICAgIHZhbCArPSAnPC9kaXY+JztcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0cy5jcmVhdGVQcmVzZXRGb3JtRmllbGQgPSBjcmVhdGVQcmVzZXRGb3JtRmllbGQ7XG4vKioqXG4gKiBTaG93IGFuIGVycm9yIG1lc3NhZ2UgZm9yIGEgZ2l2ZSBpbnB1dCBmaWVsZC5cbiAqIFRoZSBpbnB1dCBmaWVsZCBoYXMgdG8gaGF2ZSBhbiBlbGVtZW50IHdpdGggQ1NTIElEIFwiZm9ybS12YWx1ZS1lcnJvci1tc2dcIiArIG51bWVyaWMgaWRcbiAqIGZvciBleGFtcGxlIFwiZm9ybS12YWx1ZS1lcnJvci1tc2cxXCIuXG4gKiBSZXBsYWNlcyB0aGUgY29udGVudCBvZiB0aGUgZm9ybSB2YWx1ZSBlbGVtZW50LiBJZiB0aGUgZWxlbWVudCBmb3IgZ2l2ZW4gSUQgZG9lcyBub3RcbiAqIGV4aXN0LCB0aGlzIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgLSBJRCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgZm9ybVxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBBbiBlcnJvciBtZXNzYWdlIHRvIHNob3csIHNldCB0byBlbXB0eSB0byByZW1vdmUgYWxsIG1lc3NhZ2VzLiBSZXBsYWNlcyBhbnkgb2xkIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBzZXRFcnJvck1lc3NhZ2UoaWQsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS12YWx1ZS1lcnJvci1tc2cnICsgaWQpO1xuICAgIGlmIChlcnJvckVsZW0pIHtcbiAgICAgICAgZXJyb3JFbGVtLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxufVxuZXhwb3J0cy5zZXRFcnJvck1lc3NhZ2UgPSBzZXRFcnJvck1lc3NhZ2U7XG4vKioqXG4gKiBVcGRhdGUgdGhlIHJhbmdlIHNsaWRlciB2YWx1ZSB0ZXh0IHRvIGEgbmV3IHZhbHVlIGJhc2VkIG9uIHRoZSByYW5nZSBzbGlkZXIgdmFsdWUuXG4gKiBBZGRzIGEgdW5pdCBhbmQgaWYgdGhlIHNsaWRlciBpcyBsb2dhcml0aG1pYywgY2FsY3VsYXRlcyB0aGUgY29ycmVjdCB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gcmFuZ2VFbGVtIC0gUmVmZXJlbmNlIHRvIHRoZSBpbnB1dCBlbGVtZW50XG4gKiBAcGFyYW0ge251bWJlcn0gaWQgICAgICAgICAgICAgICAgICAtIEZvcm0gSUQgb2YgdGhlIGZpZWxkXG4gKiBAcGFyYW0ge251bWJlcn0gbWluVmFsICAgICAgICAgICAgICAtIE1pbmltdW0gcG9zc2libGUgdmFsdWUgb2YgdGhlIHJhbmdlIHNsaWRlclxuICogQHBhcmFtIHtudW1iZXJ9IG1heFZhbCAgICAgICAgICAgICAgLSBNYXhpbXVtIHBvc3NpYmxlIHZhbHVlIG9mIHRoZSByYW5nZSBzbGlkZXJcbiAqIEBwYXJhbSB7U2xpZGVyVHlwZX0gdHlwZSAgICAgICAgICAgIC0gVHlwZSBvZiB0aGUgc2xpZGVyIChsaW5lYXIvbG9nYXJpdGhtaWMpXG4gKiBAcGFyYW0ge3N0cmluZ30gdW5pdCAgICAgICAgICAgICAgICAtIFVuaXQgdG8gc2hvdyBuZXh0IHRvIHRoZSB2YWx1ZVxuICovXG5mdW5jdGlvbiB1cGRhdGVSYW5nZVZhbFRleHQocmFuZ2VFbGVtLCBpZCwgbWluVmFsLCBtYXhWYWwsIHR5cGUsIHVuaXQgPSAnJykge1xuICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYW5nZVZhbCcgKyBpZCk7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgICBpZiAodHlwZSA9PT0gZGRwX3ByZXNldHNfMS5TbGlkZXJUeXBlLkxJTkVBUikge1xuICAgICAgICAgICAgdGFyZ2V0LmlubmVyVGV4dCA9ICgwLCB1dGlsc18xLmZvcm1hdFNJVW5pdE51bWJlcikocmFuZ2VFbGVtLnZhbHVlQXNOdW1iZXIsIDIsIHVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IGRkcF9wcmVzZXRzXzEuU2xpZGVyVHlwZS5MT0dBUklUSE1JQykge1xuICAgICAgICAgICAgdGFyZ2V0LmlubmVyVGV4dCA9ICgwLCB1dGlsc18xLmZvcm1hdFNJVW5pdE51bWJlcikoKDAsIGxvZ3NjYWxlXzEubG9nYXJpdGhtaWNWYWx1ZUZyb21Qb3MpKHJhbmdlRWxlbS52YWx1ZUFzTnVtYmVyLCBtaW5WYWwsIG1heFZhbCksIDIsIHVuaXQpO1xuICAgICAgICB9XG4gICAgICAgICgwLCB2YWxpZGF0b3JzXzEudmFsaWRhdGVGaWVsZCkocmFuZ2VFbGVtLm5hbWUuc2xpY2UoNCksIHJhbmdlRWxlbSwgaWQpO1xuICAgIH1cbn1cbmV4cG9ydHMudXBkYXRlUmFuZ2VWYWxUZXh0ID0gdXBkYXRlUmFuZ2VWYWxUZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkREUFByZXNldEVkaXRGb3JtID0gdm9pZCAwO1xuY29uc3QgZGRwX3ByZXNldHNfMSA9IHJlcXVpcmUoXCIuL2RkcF9wcmVzZXRzXCIpO1xuY29uc3QgZGRwX2lucHV0c18xID0gcmVxdWlyZShcIi4vZGRwX2lucHV0c1wiKTtcbmNvbnN0IHJlbmRlcmVyXzEgPSByZXF1aXJlKFwiLi4vcmVuZGVyZXJcIik7XG5jb25zdCBsb2dzY2FsZV8xID0gcmVxdWlyZShcIi4uL2xvZ3NjYWxlXCIpO1xuY29uc3QgaHR0cF8xID0gcmVxdWlyZShcIi4uL2h0dHBcIik7XG5jbGFzcyBERFBQcmVzZXRFZGl0Rm9ybSB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVySWQsIHJ1bGVUeXBlU2VsZWN0SWQsIHByZXNldE5hbWVJbnB1dElkLCB2YXJOYW1lKSB7XG4gICAgICAgIC8qKiBUcnVlIGlmIHRoZXJlIGFyZSBhbnkgY2hhbmdlcyBtYWRlIHRvIHRoZSBwcmVzZXQgKi9cbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX21heElkID0gMDtcbiAgICAgICAgdGhpcy5fcnVsZVR5cGUgPSBkZHBfcHJlc2V0c18xLkREUFJ1bGVUeXBlLkZJTFRFUjtcbiAgICAgICAgdGhpcy5fYWN0aXZlRmllbGRzID0gW107XG4gICAgICAgIHRoaXMuX2F2YWlsYWJsZUZpZWxkcyA9IFtdO1xuICAgICAgICB0aGlzLmNvbnRhaW5lcklkID0gY29udGFpbmVySWQ7XG4gICAgICAgIHRoaXMucnVsZVR5cGVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChydWxlVHlwZVNlbGVjdElkKTtcbiAgICAgICAgdGhpcy5wcmVzZXROYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVzZXROYW1lSW5wdXRJZCk7XG4gICAgICAgIHRoaXMudmFyTmFtZSA9IHZhck5hbWU7XG4gICAgICAgIHRoaXMub25SdWxlVHlwZUNoYW5nZSgpO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZm9ybSBmcm9tIGV4aXN0aW5nIHByZXNldC5cbiAgICAgKiBTZXRzIHRoZSBydWxlIHR5cGUgYW5kIGNyZWF0ZXMgYWxsIGZpZWxkcyBwcmVzZW50IGluIHRoZSBwcmVzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0REUFByZXNldH0gcHJlc2V0IC0gUHJlc2V0IHRvIGluaXRpYWxpemUgZnJvbVxuICAgICAqICovXG4gICAgaW5pdEZyb21QcmVzZXQocHJlc2V0KSB7XG4gICAgICAgIHRoaXMucnVsZVR5cGVTZWxlY3QudmFsdWUgPSBwcmVzZXQuZmllbGRzLnJ1bGVfdHlwZTtcbiAgICAgICAgdGhpcy5vblJ1bGVUeXBlQ2hhbmdlKCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHByZXNldC5maWVsZHMpLmZvckVhY2goKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdydWxlX3R5cGUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLmFkZEZpZWxkKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChpZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hlY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXNlckVkaXRhYmxlJHtpZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2suY2hlY2tlZCA9IHByZXNldC5lZGl0YWJsZS5pbmNsdWRlcyhrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tGaWVsZFJlcXVpcmVtZW50cygpO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogQWRkIGEgbmV3IGZpZWxkIHRvIHRoZSBmb3JtXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAgIC0gbmFtZSBvZiB0aGUgYXR0cmlidXRlIHRoZSBmaWVsZCBzaG91bGQgcmVwcmVzZW50XG4gICAgICogQHBhcmFtIHthbnl9IGluaXRWYWx1ZSAtIFZhbHVlIHRvIHNldCB0aGUgZmllbGQgdG8gdXBvbiBjcmVhdGlvblxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9ICAgICAgLSBOdW1lcmljIElEIG9mIHRoZSBuZXdseSBjcmVhdGVkIGZpZWxkIG9yIC0xIGlmIGdpdmVuIGZpZWxkIG5hbWUgd2FzIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIGFkZEZpZWxkKG5hbWUsIGluaXRWYWx1ZSkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIG1vZGlmeSB0aGUgZmllbGQsIGNyZWF0ZSBjb3B5IGluc3RlYWQgb2YgcGFzc2luZyBhIHJlZmVyZW5jZVxuICAgICAgICBsZXQgZmllbGQgPSBPYmplY3QuYXNzaWduKHt9LCAoMCwgZGRwX3ByZXNldHNfMS5nZXRQcmVzZXRGaWVsZCkobmFtZSkpO1xuICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlcyA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBmaWVsZEhUTUwgPSAoMCwgZGRwX2lucHV0c18xLmNyZWF0ZVByZXNldEZvcm1GaWVsZCkoZmllbGQsIHRoaXMuX21heElkLCBpbml0VmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IHdyYXBwZWQgPSB0aGlzLl93cmFwRmllbGQoZmllbGRIVE1MLCB0aGlzLl9tYXhJZCwgbmFtZSk7XG4gICAgICAgICAgICBmaWVsZC5mb3JtSWQgPSB0aGlzLl9tYXhJZDtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgIHRoaXMuX21heElkKys7XG4gICAgICAgICAgICAoMCwgcmVuZGVyZXJfMS5jcmVhdGVDaGlsZCkod3JhcHBlZCwgdGhpcy5jb250YWluZXJJZCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrRm9yRHVwbGljYXRlcyhmaWVsZC5mb3JtSWQsIG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLmZvcm1JZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBSZW1vdmUgYSBmaWVsZCBmcm9tIHRoZSBmb3JtXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWQgLSBudW1lcmljIElEIG9mIHRoZSBmaWVsZCB0byByZW1vdmUuXG4gICAgICovXG4gICAgcmVtb3ZlRmllbGQoaWQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZmllbGRDb250YWluZXIke2lkfWApO1xuICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZXMgPSB0cnVlO1xuICAgICAgICAgICAgKF9hID0gY29udGFpbmVyLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9hY3RpdmVGaWVsZHMuZmluZEluZGV4KHAgPT4gcC5mb3JtSWQgPT09IGlkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGVhckludmFsaWREdXBsaWNhdGVXYXJuaW5ncyhpZCwgdGhpcy5fYWN0aXZlRmllbGRzW2luZGV4XS5uYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVGaWVsZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqXG4gICAgICogVXBkYXRlIHRoZSBpbnB1dCBmaWVsZCBiYXNlZCBvbiB0aGUgYXR0cmlidXRlIHNlbGVjdGlvbiBkcm9wZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MU2VsZWN0RWxlbWVudH0ga2V5U2VsZWN0IC0gUmVmZXJlbmNlIHRvIHRoZSBhdHRyaWJ1dGUgc2VsZWN0IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWQgICAgICAgICAgICAgICAgICAgLSBGb3JtIElEIG9mIHRoZSBmaWVsZFxuICAgICAqL1xuICAgIHVwZGF0ZVByZXNldElucHV0RmllbGQoa2V5U2VsZWN0LCBpZCkge1xuICAgICAgICBjb25zdCBpZHggPSB0aGlzLl9nZXRGaWVsZEluZGV4QnlJZChpZCk7XG4gICAgICAgIGNvbnN0IHByZXZOYW1lID0gdGhpcy5fYWN0aXZlRmllbGRzW2lkeF0ubmFtZTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgY29weSBpbnN0ZWFkIG9mIHBhc3NpbmcgYSByZWZlcmVuY2VcbiAgICAgICAgY29uc3QgZmllbGQgPSBPYmplY3QuYXNzaWduKHt9LCAoMCwgZGRwX3ByZXNldHNfMS5nZXRQcmVzZXRGaWVsZCkoa2V5U2VsZWN0LnZhbHVlKSk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBmaWVsZFZhbHVlQ29udGFpbmVyJHtpZH1gKTtcbiAgICAgICAgdGhpcy5fcmVtb3ZlSW52YWxpZFNlbGVjdE9wdGlvbnMoa2V5U2VsZWN0LCBpZCk7XG4gICAgICAgIHRoaXMuX2NsZWFySW52YWxpZER1cGxpY2F0ZVdhcm5pbmdzKGlkLCBwcmV2TmFtZSk7XG4gICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpZWxkLmZvcm1JZCA9IGlkO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAoMCwgZGRwX2lucHV0c18xLmNyZWF0ZVByZXNldEZvcm1GaWVsZCkoZmllbGQsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlRmllbGRzW2lkeF0gPSBmaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2hlY2tGb3JEdXBsaWNhdGVzKGlkLCBrZXlTZWxlY3QudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICc8cCBjbGFzcz1cInRleHQtZGFuZ2VyXCI+SW52YWxpZCBydWxlIGZpZWxkIG5hbWUhPC9wPic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqKlxuICAgICAqIENvbGxlY3QgdGhlIGRhdGEgZnJvbSB0aGUgcHJlc2V0IGZvcm0gYW5kIHNlbnQgdGhlbSB0byBiYWNrZW5kIHRvIHNhdmUgdGhlbSB0byB0aGUgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3NyZl90b2tlbiAgICAgICAgICAtIFRoZSBDU1JGIHRva2VuIGZvciB0aGUgZm9ybVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja1VybCAgICAgICAgIC0gVVJMIHRvIHNlbmQgdGhlIGRhdGEgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3VjY2Vzc1JlZGlyZWN0VXJsICAtIFVSTCB0byByZWRpcmVjdCB0aGUgdXNlciB0bywgaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHNhdmVCdG5JZCAtIElEIG9mIHRoZSBzYXZlIGJ1dHRvbi4gV2lsbCBkaXNwbGF5IGxvYWRpbmcgYW5pbWF0aW9uLlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgbm90IHNldCwgbm8gbG9hZGluZyBhbmltYXRpb24gd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgc2F2ZShjc3JmX3Rva2VuLCBjYWxsYmFja1VybCwgc3VjY2Vzc1JlZGlyZWN0VXJsLCBzYXZlQnRuSWQpIHtcbiAgICAgICAgdGhpcy5jaGVja0ZpZWxkUmVxdWlyZW1lbnRzKCk7XG4gICAgICAgIGlmIChERFBQcmVzZXRFZGl0Rm9ybS5fZm9ybUhhc0Vycm9ycygpKSB7XG4gICAgICAgICAgICBhbGVydCgnUHJlc2V0IGhhcyBlcnJvcnMhIEZpeCB0aGVtIGJlZm9yZSBzYXZpbmcuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gZmFsc2U7IC8vIFN0b3AgcHJldmVudGluZyByZWRpcmVjdFxuICAgICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBjb25zdCBwcmVzZXROYW1lID0gdGhpcy5fZ2V0UHJlc2V0TmFtZSgpO1xuICAgICAgICBpZiAocHJlc2V0TmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuYXBwZW5kKCduYW1lJywgcHJlc2V0TmFtZSk7XG4gICAgICAgIGRhdGEuYXBwZW5kKCdydWxlX3R5cGUnLCB0aGlzLl9ydWxlVHlwZS50b1N0cmluZygpKTtcbiAgICAgICAgZGF0YS5hcHBlbmQoJ2NzcmZfdG9rZW4nLCBjc3JmX3Rva2VuKTtcbiAgICAgICAgY29uc3QgZWRpdGFibGUgPSB0aGlzLl9jb2xsZWN0Rm9ybURhdGEoZGF0YSk7XG4gICAgICAgIGRhdGEuYXBwZW5kKCdlZGl0YWJsZScsIGVkaXRhYmxlKTtcbiAgICAgICAgbGV0IGJ0bk9yaWdpbmFsQ29udGVudCA9ICcnO1xuICAgICAgICBsZXQgYnRuID0gbnVsbDtcbiAgICAgICAgaWYgKHNhdmVCdG5JZCkge1xuICAgICAgICAgICAgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2F2ZUJ0bklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnRuKSB7XG4gICAgICAgICAgICBidG5PcmlnaW5hbENvbnRlbnQgPSBidG4uaW5uZXJIVE1MO1xuICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XG4gICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIiByb2xlPVwic3RhdHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPiBTYXZpbmcuLi5gO1xuICAgICAgICB9XG4gICAgICAgICgwLCBodHRwXzEuc2VuZEZvcm1EYXRhVG9CYWNrZW5kKShkYXRhLCBjYWxsYmFja1VybCwgaHR0cF8xLkhUVFBfTUVUSE9ELlBPU1QpXG4gICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNhdmVSZXNwb25zZShyZXNwb25zZSwgc3VjY2Vzc1JlZGlyZWN0VXJsLCBidG4pO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICBpZiAoYnRuKSB7XG4gICAgICAgICAgICAgICAgYnRuLmlubmVySFRNTCA9IGJ0bk9yaWdpbmFsQ29udGVudDtcbiAgICAgICAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWxlcnQoJ0NvdWxkIG5vdCBzYXZlIHByZXNldDogJyArIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBIYW5kbGUgcnVsZSB0eXBlIGNoYW5nZSAtIHNldCB0aGUgaW50ZXJuYWwgdmFyaWFibGUsIHJlbG9hZCB0aGUgYXZhaWxhYmxlXG4gICAgICogYXR0cmlidXRlcyBjYWNoZSwgcmVidWlsZCBkcm9wZG93bnMgYW5kIGNoZWNrIGZvciBpbnZhbGlkIGF0dHJpYnV0ZXMgZm9yXG4gICAgICogdGhlIG5ldyBydWxlIHR5cGUuXG4gICAgICovXG4gICAgb25SdWxlVHlwZUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5fcnVsZVR5cGUgPSB0aGlzLnJ1bGVUeXBlU2VsZWN0LnZhbHVlO1xuICAgICAgICB0aGlzLl9hdmFpbGFibGVGaWVsZHMgPSAoMCwgZGRwX3ByZXNldHNfMS5nZXRQcmVzZXRGaWVsZHNCeVJ1bGVUeXBlKSh0aGlzLl9ydWxlVHlwZSk7XG4gICAgICAgIHRoaXMuX3JlYnVpbGRBdHRyaWJ1dGVTZWxlY3REcm9wZG93bnMoKTtcbiAgICB9XG4gICAgLyoqKlxuICAgICAqIEhhbmRsZSBpbnB1dCB0byB0aGUgcHJlc2V0IG5hbWUgaW5wdXQgZmllbGQuXG4gICAgICogQWRkcyB0aGUgJ2lzLWludmFsaWQnIGNsYXNzLCBpZiB0aGUgZmllbGQgaXMgZW1wdHkuXG4gICAgICogSWYgYSB0ZXh0IGVsZW1lbnQgd2l0aCBJRCAncHJlc2V0TmFtZUVycm9yJyBpcyBwcmVzZW50IGluXG4gICAgICogdGhlIGRvY3VtZW50LCBhbiBlcnJvciBtZXNzYWdlIGlzIGZpbGxlZCB0byBpdFxuICAgICAqIGlmIHRoZSBuYW1lIGlzIGVtcHR5LlxuICAgICAqXG4gICAgICogSWYgdGhlIHByZXNldCBuYW1lIGlucHV0IGZpZWxkIGlzIG5vdCBlbXB0eSwgdGhlICdpcy1pbnZhbGlkJ1xuICAgICAqIGNsYXNzIGFuZCB0aGUgZXJyb3IgbWVzc2FnZSBhcmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBvblByZXNldE5hbWVDaGFuZ2UoKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZXROYW1lRXJyb3InKTtcbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMucHJlc2V0TmFtZUlucHV0LnZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgaWYgKG1zZykge1xuICAgICAgICAgICAgICAgIG1zZy5pbm5lclRleHQgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJlc2V0TmFtZUlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtc2cpIHtcbiAgICAgICAgICAgICAgICBtc2cuaW5uZXJUZXh0ID0gJ1ByZXNldCBuYW1lIGlzIHJlcXVpcmVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJlc2V0TmFtZUlucHV0LmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqXG4gICAgICogU2V0IGFuIGVycm9yIG1lc3NhZ2UgdG8gYW4gYXR0cmlidXRlIHNlbGVjdGlvbiBkcm9wZG93bi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAtIG51bWVyaWMgSUQgb2YgdGhlIGRyb3Bkb3duIHRvIGRpc3BsYXkgdGhlIG1lc3NhZ2UgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlclxuICAgICAqL1xuICAgIHNldEtleUVycm9yTWVzc2FnZShpZCwgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBlcnJvckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1lcnJvci1tc2cnICsgaWQpO1xuICAgICAgICBjb25zdCBzZWxlY3RFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpZWxkU2VsZWN0JyArIGlkKTtcbiAgICAgICAgaWYgKGVycm9yRWxlbSAmJiBzZWxlY3RFbGVtKSB7XG4gICAgICAgICAgICBlcnJvckVsZW0uaW5uZXJUZXh0ID0gbWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlID09ICcnKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0RWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1pbnZhbGlkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RFbGVtLmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqXG4gICAgICogRmluZCBhbGwgZHVwbGljYXRlIGF0dHJpYnV0ZSBrZXlzIGluIHRoZSBmb3JtIGZvciB0aGUgZ2l2ZW4gZmllbGQgbmFtZVxuICAgICAqIGFuZCBtYXJrIHRoZW0gd2l0aCBhbiBlcnJvciBtZXNzYWdlIGFuZCB0aGUgJ2lzLWludmFsaWQnIGNsYXNzLlxuICAgICAqIElmIGEgZHVwbGljYXRlIGlzIGZvdW5kLCBtYXJrcyBib3RoIHRoZSBmb3VuZCBmaWVsZCBhbmQgdGhlIGZpZWxkXG4gICAgICogZ2l2ZW4gaW4gcGFyYW1zIHdpdGggdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaWQgICAtIFRoZSBmb3JtSWQgb2YgdGhlIGNoZWNrZWQgZmllbGRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWUgb2YgdGhlIGNoZWNrZWQgYXR0cmlidXRlXG4gICAgICovXG4gICAgY2hlY2tGb3JEdXBsaWNhdGVzKGlkLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGR1cGxpY2F0ZXMgPSB0aGlzLl9maW5kRHVwbGljYXRlS2V5cyhpZCwgbmFtZSk7XG4gICAgICAgIGlmIChkdXBsaWNhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZCBvZiBkdXBsaWNhdGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQuZm9ybUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RmllbGRBc0R1cGxpY2F0ZShkLmZvcm1JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc2V0RmllbGRBc0R1cGxpY2F0ZShpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqKlxuICAgICAqIENoZWNrIGlmIGZpZWxkIHJlcXVpcmVtZW50cyBvZiBhbGwgZmllbGRzIGFyZSBzYXRpc2ZpZWQuXG4gICAgICogSWYgbm90LCBhZGQgZXJyb3IgbWVzc2FnZXMgdG8gdGhlbS5cbiAgICAgKi9cbiAgICBjaGVja0ZpZWxkUmVxdWlyZW1lbnRzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgdGhpcy5fYWN0aXZlRmllbGRzKSB7XG4gICAgICAgICAgICBpZiAoZi5yZXF1aXJlc19maWVsZHMgJiYgZi5mb3JtSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXMgPSB0aGlzLl9maW5kVW5zYXRpc2ZpZWRSZXF1aXJlbWVudHMoZik7XG4gICAgICAgICAgICAgICAgaWYgKHJlcXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtc2cgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgciBvZiByZXFzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgKz0gJywgJyArIHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbXNnID0gbXNnLnNsaWNlKDIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEtleUVycm9yTWVzc2FnZShmLmZvcm1JZCwgXCJSZXF1aXJlbWVudHMgbm90IHNhdGlzZmllZDogXCIgKyBtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlFcnJvck1lc3NhZ2UoZi5mb3JtSWQsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqKlxuICAgICAqIEdldCBhbGwgYXR0cmlidXRlIHNlbGVjdGlvbiBkcm9wZG93bnMgYW5kIGNoYW5nZSBvcHRpb25zIHRvIHJlZmxlY3QgcnVsZSB0eXBlIGNoYW5nZS5cbiAgICAgKiBJZiBhbiBpbnZhbGlkIG9wdGlvbiBmb3IgY3VycmVudCBydWxlIHR5cGUgaXMgc2VsZWN0ZWQsIHRoZSBpbnZhbGlkIG9wdGlvbiBzdGF5cyBzZWxlY3RlZCxcbiAgICAgKiBidXQgdGhlIHNlbGVjdGlvbiBkcm9wZG93biBpcyBnaXZlbiB0aGUgXCJpcy1pbnZhbGlkXCIgY3NzIGNsYXNzLCB0aGUgaW52YWxpZCBvcHRpb25zIGdldHMgdGhlXG4gICAgICogJ2ludmFsaWQnIEhUTUwgYXR0cmlidXRlIGFuZCBhbiBlcnJvciBtZXNzYWdlIGlzIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICBfcmVidWlsZEF0dHJpYnV0ZVNlbGVjdERyb3Bkb3ducygpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tYXhJZDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWVsZFNlbGVjdCcgKyBpKTtcbiAgICAgICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgICAgIGZpZWxkLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICBsZXQgd3JvbmdPcHQgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZpZWxkRXhpc3RzSW5DYWNoZShmaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JvbmdPcHQgPSBgPG9wdGlvbiB2YWx1ZT0ke2ZpZWxkLnZhbHVlfSBzZWxlY3RlZCBpbnZhbGlkPiR7ZmllbGQub3B0aW9uc1tmaWVsZC5zZWxlY3RlZEluZGV4XS50ZXh0fTwvb3B0aW9uPmA7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlFcnJvck1lc3NhZ2UoaSwgJ0ludmFsaWQgZmllbGQgZm9yIHNlbGVjdGVkIHJ1bGUgdHlwZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRLZXlFcnJvck1lc3NhZ2UoaSwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaWVsZC5pbm5lckhUTUwgPSB0aGlzLl9jcmVhdGVGaWVsZFNlbGVjdGlvbkRyb3Bkb3duT3B0aW9ucyhmaWVsZC52YWx1ZSkgKyB3cm9uZ09wdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqXG4gICAgICogQ2hlY2sgaWYgc2VsZWN0ZWQgYXR0cmlidXRlIGlzIGluIGF2YWlsYWJsZSBmaWVsZHMgKGFuZCBpcyBub3QgZnJvbSBhIGRpZmZlcmVudCBydWxlIHR5cGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxTZWxlY3RFbGVtZW50fSBmaWVsZCAtIEF0dHJpYnV0ZSBzZWxlY3Rpb24gZWxlbWVudCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAgICAgICAgICAgICAgIC0gVHJ1ZSBpZiBhdHRyaWJ1dGUgY2FuIGJlIHNldCB3aXRoIGN1cnJlbnQgcnVsZSB0eXBlXG4gICAgICovXG4gICAgX2ZpZWxkRXhpc3RzSW5DYWNoZShmaWVsZCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9hdmFpbGFibGVGaWVsZHMuZmluZCgoZikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGYubmFtZSA9PT0gZmllbGQudmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogQ3JlYXRlIGEgd3JhcHBlciBmb3IgaW5wdXQgZmllbGRzIGluIHRoZSBwcmVzZXQgZWRpdGluZyBmb3JtLlxuICAgICAqIFRoZSB3cmFwcGVyIGFkZHMgYSBydWxlIGF0dHJpYnV0ZSBzZWxlY3Rpb24gZHJvcGRvd24sIEJvb3RzdHJhcFxuICAgICAqIGdyaWQgd3JhcHBlcnMsIGVycm9yIG1lc3NhZ2UgY29udGFpbmVycywgYSBjaGVja2JveCB0byBzZXQgd2hldGhlclxuICAgICAqIHVzZXJzIGNhbiBlZGl0IHRoaXMgZmllbGQgYW5kIGEgYnV0dG9uIHRvIHJlbW92ZSB0aGlzIGZpZWxkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkICAgLSBIVE1MIGZvcm1hdHRlZCBzdHJpbmcgdG8gd3JhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAgICAgIC0gbnVtZXJpYyBpZCBvZiB0aGUgd3JhcHBlZCBpbnB1dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbml0S2V5IC0gd2hpY2gga2V5IGlzIHNlbGVjdGVkIGluIHRoZSBhdHRyaWJ1dGUgc2VsZWN0aW9uIGRyb3Bkb3duXG4gICAgICogQHJldHVybnMge3N0cmluZ30gICAgICAgLSBXcmFwcGVkIGlucHV0IGFzIEhUTUwgZm9ybWF0dGVkIHN0cmluZ1xuICAgICAqL1xuICAgIF93cmFwRmllbGQoZmllbGQsIGlkLCBpbml0S2V5KSB7XG4gICAgICAgIHJldHVybiBgPGRpdiBpZD1cImZpZWxkQ29udGFpbmVyJHtpZH1cIj5cclxuICAgICAgICA8aHIgY2xhc3M9XCJkLW1kLW5vbmUgbXktMlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgbXktMyBmYWRlLWluLWZ3ZFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyIGNvbC1tZC00IG15LTFcIj5cclxuICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cImZvcm0tc2VsZWN0XCIgaWQ9XCJmaWVsZFNlbGVjdCR7aWR9XCIgb25DaGFuZ2U9XCIke3RoaXMudmFyTmFtZX0udXBkYXRlUHJlc2V0SW5wdXRGaWVsZCh0aGlzLCAke2lkfSlcIj5cclxuICAgICAgICAgICAgICAgICR7dGhpcy5fY3JlYXRlRmllbGRTZWxlY3Rpb25Ecm9wZG93bk9wdGlvbnMoaW5pdEtleSl9XHJcbiAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1kYW5nZXJcIiBpZD1cImZvcm0tZXJyb3ItbXNnJHtpZH1cIj48L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbC1zbS0xMiBjb2wtbWQtNCBteS0xXCIgaWQ9XCJmaWVsZFZhbHVlQ29udGFpbmVyJHtpZH1cIj5cclxuICAgICAgICAgICAgJHtmaWVsZH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTEyIGNvbC1tZC00IG15LTFcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVjayBmb3JtLXN3aXRjaCBmb3JtLWNoZWNrLWlubGluZVwiPlxyXG4gICAgICAgICAgPGlucHV0IGNsYXNzPVwiZm9ybS1jaGVjay1pbnB1dFwiIHR5cGU9XCJjaGVja2JveFwiIGlkPVwidXNlckVkaXRhYmxlJHtpZH1cIj5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tY2hlY2stbGFiZWxcIiBmb3I9XCJ1c2VyRWRpdGFibGUke2lkfVwiPlVzZXIgY2FuIGVkaXQ8L2xhYmVsPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFuZ2VyIG14LTJcIiByb2xlPVwiYnV0dG9uXCIgb25jbGljaz1cIiR7dGhpcy52YXJOYW1lfS5yZW1vdmVGaWVsZCgke2lkfSlcIiB0aXRsZT1cIlJlbW92ZSBsaW5lXCI+PGkgY2xhc3M9XCJiaSBiaS14LWxnXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmA7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDcmVhdGUgSFRNTCBmb3JtYXR0ZWQgc3RyaW5nIG9mIG9wdGlvbnMgZm9yIGFsbCBydWxlIGF0dHJpYnV0ZXMgZnJvbSBzZXQgcnVsZSB0eXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gc2VsZWN0ZWQgLSBXaGljaCBhdHRyaWJ1dGUgc2hvdWxkIGJlIHNlbGVjdGVkIGJ5IGRlZmF1bHRcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIEhUTUwgZm9ybWF0dGVkIHN0cmluZyB3aXRoIHZhbGlkIGF0dHJpYnV0ZSBvcHRpb25zIGZvciBzZXQgcnVsZSB0eXBlLlxuICAgICAqL1xuICAgIF9jcmVhdGVGaWVsZFNlbGVjdGlvbkRyb3Bkb3duT3B0aW9ucyhzZWxlY3RlZCkge1xuICAgICAgICBsZXQgcmV0dmFsID0gJyc7XG4gICAgICAgIGZvciAoY29uc3QgZiBvZiB0aGlzLl9hdmFpbGFibGVGaWVsZHMpIHtcbiAgICAgICAgICAgIHJldHZhbCArPSBgPG9wdGlvbiB2YWx1ZT1cIiR7Zi5uYW1lfVwiICR7Zi5uYW1lID09PSBzZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ30+JHtmLnByaW50TmFtZX08L29wdGlvbj5gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR2YWw7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBSZWFkIHRoZSBwcmVzZXQgbmFtZSBmcm9tIHRoZSBpbnB1dCBmaWVsZC4gSWYgdGhlIGZpZWxkIGlzIGVtcHR5LFxuICAgICAqIGFkZCBhbiBlcnJvciBtZXNzYWdlIGFuZCB0aGUgJ2lzLWludmFsaWQnIGNsYXNzIHRvIHRoZSBpbnB1dFxuICAgICAqIGFuZCBzY3JvbGwgdG8gaXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nIHwgbnVsbH0gLSBUaGUgaW5wdXQgdmFsdWUgb3IgbnVsbCBpZiB0aGUgZmllbGQgaXMgbm90IGZpbGxlZC5cbiAgICAgKi9cbiAgICBfZ2V0UHJlc2V0TmFtZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByZXNldE5hbWVJbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnByZXNldE5hbWVJbnB1dC52YWx1ZSB8fCB0aGlzLnByZXNldE5hbWVJbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgdGhpcy5wcmVzZXROYW1lSW5wdXQuY2xhc3NMaXN0LmFkZCgnaXMtaW52YWxpZCcpO1xuICAgICAgICAgICAgdGhpcy5wcmVzZXROYW1lSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXNldE5hbWVFcnJvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZXROYW1lRXJyb3InKTtcbiAgICAgICAgICAgIGlmIChwcmVzZXROYW1lRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwcmVzZXROYW1lRXJyb3IuaW5uZXJUZXh0ID0gJ1ByZXNldCBuYW1lIGlzIHJlcXVpcmVkLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wcmVzZXROYW1lSW5wdXQudmFsdWU7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBSZXR1cm5zIGluZGV4IGZyb20gdGhlIGFjdGl2ZUZpZWxkcyBfYXJyYXkgYnkgdGhlIGZvcm1JZCBhdHRyaWJ1dGUuXG4gICAgICogUmV0dXJucyAtMSBpZiBnaXZlbiBJRCBpcyBub3QgaW4gYWN0aXZlRmllbGRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIC0gVGhlIG51bWVyaWMgaWQgb2YgdGhlIGVsZW1lbnQgdG8gZmluZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9ICAtIEluZGV4IG9mIHRoZSBzZWFyY2hlZCBlbGVtZW50IGluIHRoZSBgX2FjdGl2ZUZpZWxkc2AgYXJyYXlcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICBvciAtMSBpZiB0aGUgZWxlbWVudCB3YXMgbm90IGZvdW5kLlxuICAgICAqL1xuICAgIF9nZXRGaWVsZEluZGV4QnlJZChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlRmllbGRzLmZpbmRJbmRleCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC5mb3JtSWQgPT09IGlkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqKlxuICAgICAqIEZpbmQgYWxsIGNoaWxkcmVuIG9mIHRoZSBnaXZlbiBzZWxlY3QgZWxlbWVudCB0aGF0IGhhdmUgdGhlICdpbnZhbGlkJ1xuICAgICAqIHRhZyBhbmQgcmVtb3ZlIHRoZW0uIFJlbW92ZSB0aGUgZXJyb3IgbWVzc2FnZSBhbmQgdGhlICdpcy1pbnZhbGlkJ1xuICAgICAqIGNsYXNzIGZyb20gdGhlIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTFNlbGVjdEVsZW1lbnR9IHNlbGVjdCAtIEVsZW1lbnQgdG8gcmVtb3ZlIHRoZSBpbnZhbGlkIG9wdGlvbnMgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAgICAgICAgICAgICAgICAtIE51bWVyaWMgZm9ybUlkIG9mIHRoZSBlbGVtZW50XG4gICAgICovXG4gICAgX3JlbW92ZUludmFsaWRTZWxlY3RPcHRpb25zKHNlbGVjdCwgaWQpIHtcbiAgICAgICAgbGV0IGNoaWxkcmVuID0gc2VsZWN0LmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5baV0uaGFzQXR0cmlidXRlKCdpbnZhbGlkJykpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3QucmVtb3ZlQ2hpbGQoY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0S2V5RXJyb3JNZXNzYWdlKGlkLCAnJyk7XG4gICAgICAgIHNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1pbnZhbGlkJyk7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBGaW5kIGFsbCBkdXBsaWNhdGUga2V5cyBmb3IgZ2l2ZW4gYXR0cmlidXRlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc291cmNlSWQgLSBGb3JtSUQgb2YgdGhlIHNvdXJjZSBhdHRyaWJ1dGUgc2VsZWN0LlxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpZWxkIHdpdGggdGhpcyBJRCB3aWxsIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgZHVwbGljYXRlcyBhcnJheVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lICAgICAtIE5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0byBmaW5kIGR1cGxpY2F0ZXMgZm9yXG4gICAgICogQHJldHVybnMge0REUFByZXNldEZpZWxkW119IC0gQW4gYXJyYXkgb2YgZmllbGRzLCB0aGF0IGhhdmUgdGhlIHNhbWUgYXR0cmlidXRlIG5hbWUgc2V0LlxuICAgICAqL1xuICAgIF9maW5kRHVwbGljYXRlS2V5cyhzb3VyY2VJZCwgbmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlRmllbGRzLmZpbHRlcigoZmllbGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC5uYW1lID09PSBuYW1lICYmIGZpZWxkLmZvcm1JZCAhPT0gc291cmNlSWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogQWRkIHRoZSAnaXMtaW52YWxpZCcgY2xhc3MgdG8gdGhlIGF0dHJpYnV0ZSBzZWxlY3QgaW4gYSBmaWVsZFxuICAgICAqIGFuZCBzZXQgZXJyb3IgbWVzc2FnZSB0byAnRHVwbGljYXRlIHJ1bGUgZmllbGQnLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkIC0gRm9ybUlEIG9mIHRoZSBmaWVsZCB0byBzZXQgdGhlIG1lc3NhZ2UgdG8uXG4gICAgICovXG4gICAgX3NldEZpZWxkQXNEdXBsaWNhdGUoaWQpIHtcbiAgICAgICAgY29uc3QgZmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmllbGRTZWxlY3QnICsgaWQpO1xuICAgICAgICBmaWVsZCA9PT0gbnVsbCB8fCBmaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmllbGQuY2xhc3NMaXN0LmFkZCgnaXMtaW52YWxpZCcpO1xuICAgICAgICB0aGlzLnNldEtleUVycm9yTWVzc2FnZShpZCwgJ0R1cGxpY2F0ZSBydWxlIGZpZWxkJyk7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDaGVjayBpZiB0aGUgZHVwbGljYXRlIGZpZWxkIGVycm9yIGlzIHN0aWxsIHZhbGlkLiBJZiBub3QsIHJlbW92ZSBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAgIC0gRm9ybUlEIG9mIHRoZSBmaWVsZCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gTmFtZSBvZiB0aGUgYXR0cmlidXRlIHNlbGVjdGVkIGluIHRoZSBmaWVsZC5cbiAgICAgKi9cbiAgICBfY2xlYXJJbnZhbGlkRHVwbGljYXRlV2FybmluZ3MoaWQsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgZHVwbGljYXRlcyA9IHRoaXMuX2ZpbmREdXBsaWNhdGVLZXlzKGlkLCBuYW1lKTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZXMubGVuZ3RoID09PSAxICYmIGR1cGxpY2F0ZXNbMF0uZm9ybUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWVsZFNlbGVjdCcgKyBkdXBsaWNhdGVzWzBdLmZvcm1JZCk7XG4gICAgICAgICAgICBzZWxlY3QgPT09IG51bGwgfHwgc2VsZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpO1xuICAgICAgICAgICAgdGhpcy5zZXRLZXlFcnJvck1lc3NhZ2UoZHVwbGljYXRlc1swXS5mb3JtSWQsICcnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKioqXG4gICAgICogQ2hlY2sgZmllbGQgcmVxdWlyZW1lbnRzIGFuZCByZXR1cm4gZXJyb3IgbWVzc2FnZXMgaWYgc29tZSByZXF1aXJlbWVudHNcbiAgICAgKiBhcmUgbm90IHNhdGlzZmllZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RERQUHJlc2V0RmllbGR9IGNoZWNrZWRGaWVsZCAtIEEgZmllbGQgdG8gY2hlY2sgcmVxdWlyZW1lbnRzIGZvclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmdbXX0gICAgICAgICAgICAgICAgICAtIEFuIGFycmF5IG9mIGVycm9yIG1lc3NhZ2VzIGZvciB1bnNhdGlzZmllZCByZXF1aXJlbWVudHNcbiAgICAgKi9cbiAgICBfZmluZFVuc2F0aXNmaWVkUmVxdWlyZW1lbnRzKGNoZWNrZWRGaWVsZCkge1xuICAgICAgICBsZXQgbm90U2F0aXNmaWVkID0gW107XG4gICAgICAgIGNvbnN0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXNldElucHV0JyArIChjaGVja2VkRmllbGQgPT09IG51bGwgfHwgY2hlY2tlZEZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGVja2VkRmllbGQuZm9ybUlkKSk7XG4gICAgICAgIGlmIChjaGVja2VkRmllbGQucmVxdWlyZXNfZmllbGRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgY2hlY2tlZEZpZWxkLnJlcXVpcmVzX2ZpZWxkcykge1xuICAgICAgICAgICAgICAgIGlmIChyLnJ1bGVfdHlwZXMuaW5jbHVkZXMoKHRoaXMuX3J1bGVUeXBlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5fYWN0aXZlRmllbGRzLmZpbmRJbmRleCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZC5uYW1lID09IHIubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHggPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnJlbGF0aW9uc2hpcCA9PSBkZHBfcHJlc2V0c18xLlByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXAuSXNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RTYXRpc2ZpZWQucHVzaChyLm5hbWUgKyAnIGhhcyB0byBiZSBzZXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZXRJbnB1dCcgKyB0aGlzLl9hY3RpdmVGaWVsZHNbaWR4XS5mb3JtSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCAmJiBmaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IEREUFByZXNldEVkaXRGb3JtLl9oYW5kbGVSZXF1aXJlbWVudCh2YWwsIHIsIGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdFNhdGlzZmllZC5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3RTYXRpc2ZpZWQ7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDaGVjayB0aGUgcmVxdWlyZW1lbnQgYmFzZWQgb24gaXRzIHJlbGF0aW9uc2hpcCBhbmQgY3JlYXRlIGFuIGVycm9yIG1lc3NhZ2VcbiAgICAgKiBiYXNlZCBvbiB0aGUgdW5zYXRpc2ZpZWQgcmVxdWlyZW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSB2YWwgICAtIElucHV0IGVsZW1lbnQgY29udGFpbmluZyB0aGUgdmFsdWUgb2YgdGhlIGNoZWNrZWQgZmllbGRcbiAgICAgKiBAcGFyYW0ge0ZpZWxkUmVxdWlyZW1lbnRzfSByICAgIC0gUmVxdWlyZW1lbnRzIGZvciB0aGUgY2hlY2tlZCBmaWVsZFxuICAgICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gZmllbGQgLSBJbnB1dCBmaWVsZCB0aGF0IHRoZSBjaGVja2VkIGZpZWxkIGhhcyB0aGUgcmVsYXRpb25zaGlwIHdpdGhcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9ICAgICAgICAgIC0gRXJyb3IgbWVzc2FnZSBpZiB0aGUgcmVxdWlyZW1lbnQgd2FzIF9ub3RfIHNhdGlzZmllZCwgbnVsbCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgc3RhdGljIF9oYW5kbGVSZXF1aXJlbWVudCh2YWwsIHIsIGZpZWxkKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmFsLnZhbHVlO1xuICAgICAgICBzd2l0Y2ggKHIucmVsYXRpb25zaGlwKSB7XG4gICAgICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc05vdFNldDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKHIubmFtZSArICcgY2FuIG5vdCBiZSBzZXQgd2l0aCB0aGlzIGZpZWxkJyk7XG4gICAgICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0dyZWF0ZXI6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDw9IGZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoci5uYW1lICsgJyBoYXMgdG8gYmUgZ3JlYXRlciB0aGFuIHRoaXMgZmllbGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0xvd2VyOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+PSBmaWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHIubmFtZSArICcgaGFzIHRvIGJlIGxvd2VyIHRoYW4gdGhpcyBmaWVsZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZGRwX3ByZXNldHNfMS5QcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwLklzR3JlYXRlck9yRXF1YWw6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgZmllbGQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChyLm5hbWUgKyAnIGhhcyB0byBiZSBncmVhdGVyIG9yIGVxdWFsIHRvIHRoaXMgZmllbGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0xvd2VyT3JFcXVhbDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiBmaWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHIubmFtZSArICcgaGFzIHRvIGJlIGxvd2VyIG9yIGVxdWFsIHRvIHRoaXMgZmllbGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0VxdWFsOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBmaWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHIubmFtZSArICcgaGFzIHRvIGJlIGVxdWFsIHRvIHRoaXMgZmllbGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc05vdEVxdWFsOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBmaWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHIubmFtZSArICcgaGFzIHRvIGJlIGRpZmZlcmVudCBmcm9tIHRoaXMgZmllbGQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDaGVjayBpZiBhbnkgZWxlbWVudCBvbiB0aGUgcGFnZSBoYXMgdGhlICdpcy1pbnZhbGlkJyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgYW55IG9mIHRoZSBlbGVtZW50cyBvbiB0aGUgcGFnZSBoYXZlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgdGhlICdpcy1pbnZhbGlkJyBjbGFzcywgZmFsc2UgaWYgdGhlcmUgYXJlIG5vXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgd2l0aCB0aGUgY2xhc3MuXG4gICAgICovXG4gICAgc3RhdGljIF9mb3JtSGFzRXJyb3JzKCkge1xuICAgICAgICBjb25zdCBlcnJvckZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pcy1pbnZhbGlkJyk7XG4gICAgICAgIHJldHVybiBlcnJvckZpZWxkcy5sZW5ndGggPiAwO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogSXRlcmF0ZSBvdmVyIGFsbCBmaWVsZHMgaW4gdGhlIGZvcm0gYW5kIGFkZCB0aGVpciB2YWx1ZSB0byB0aGVcbiAgICAgKiBmb3JtIGRhdGEuIENvbnZlcnRzIGxvZ2FyaXRobWljIHNsaWRlcnMgdmFsdWVzIHRvIGNvcnJlY3QgdmFsdWVzXG4gICAgICogYW5kIGNoZWNrYm94IGdyb3VwcyB0byBjb21tYS1zZXBhcmF0ZWQgc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEZvciBlYWNoIGZpZWxkIGNoZWNrLCBpZiB1c2VyIGNhbiBlZGl0IGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGb3JtRGF0YX0gZGF0YSAtIEZvcm1EYXRhIHRvIGNvbGxlY3QgdGhlIGRhdGEgdG8uIEFmdGVyIHRoaXNcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24sIHRoZSBkYXRhIHdpbGwgYmUgbW9kaWZpZWQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gICAgICAtIENvbW1hLXNlcGFyYXRlZCBhdHRyaWJ1dGUgbmFtZXMsIHRoYXQgYXJlIHNldCBhc1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZHMgdGhhdCB1c2VyIGNhbiBlZGl0IHdoZW4gdXNpbmcgdGhlIHByZXNldC5cbiAgICAgKlxuICAgICAqL1xuICAgIF9jb2xsZWN0Rm9ybURhdGEoZGF0YSkge1xuICAgICAgICBsZXQgZWRpdGFibGUgPSAnJztcbiAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgdGhpcy5fYWN0aXZlRmllbGRzKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJlc2V0SW5wdXQke2ZpZWxkLmZvcm1JZH1gKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZmllbGRTZWxlY3Qke2ZpZWxkLmZvcm1JZH1gKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJFZGl0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1c2VyRWRpdGFibGUke2ZpZWxkLmZvcm1JZH1gKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50RmllbGQgJiYgY3VycmVudEtleSAmJiB1c2VyRWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodXNlckVkaXRhYmxlLmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUgKz0gY3VycmVudEtleS52YWx1ZSArICc7JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGaWVsZC5oYXNDaGlsZE5vZGVzKCkgJiYgY3VycmVudEZpZWxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3NlbGVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hcHBlbmQoY3VycmVudEtleS52YWx1ZSwgRERQUHJlc2V0RWRpdEZvcm0uX2NoZWNrYm94ZXNUb1N0cihjdXJyZW50RmllbGQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjID0gY3VycmVudEZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gZGRwX3ByZXNldHNfMS5QcmVzZXRGaWVsZFR5cGUuUkFOR0UgJiYgZmllbGQub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0cyA9IGZpZWxkLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsID0gYy52YWx1ZUFzTnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMudHlwZSA9PT0gZGRwX3ByZXNldHNfMS5TbGlkZXJUeXBlLkxPR0FSSVRITUlDKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gKDAsIGxvZ3NjYWxlXzEubG9nYXJpdGhtaWNWYWx1ZUZyb21Qb3MpKGMudmFsdWVBc051bWJlciwgb3B0cy5sb3csIG9wdHMuaGlnaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZChjdXJyZW50S2V5LnZhbHVlLCB2YWwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZChjdXJyZW50S2V5LnZhbHVlLCBjLnZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlZGl0YWJsZTtcbiAgICB9XG4gICAgLyoqKlxuICAgICAqIEdldCBhbGwgY2hlY2tib3ggaW5wdXRzIHRoYXQgYXJlIGdyYW5kY2hpbGRyZW4gb2YgYHBhcmVudGAgYW5kXG4gICAgICogYWRkIHRoZWlyIHZhbHVlcyB0byBhIGNvbW1hLXNlcGFyYXRlZCBzdHJpbmcgZm9yIGVhY2ggY2hlY2tib3hcbiAgICAgKiB0aGF0IGlzIGNoZWNrZWQuXG4gICAgICpcbiAgICAgKiBBc3N1bWVzIHRoZSBwYXJlbnQgdG8gY29udGFpbiBCb290c3RyYXAgNSBjaGVja2JveCBzdHJ1Y3R1cmVzIHdpdGhcbiAgICAgKiA8ZGl2IGNsYXNzPVwiZm9ybS1jaGVja1wiPiBiZWluZyB0aGUgcGFyZW50IG9mIGVhY2ggY2hlY2tib3ggaW5wdXQuXG4gICAgICogVGhlcmVmb3JlLCB0aGlzIGZ1bmN0aW9uIGxvb2tzIGZvciBncmFuZGNoaWxkcmVuLFxuICAgICAqIG5vdCBjaGlsZHJlbiBvZiB0aGUgcGFyZW50IGVsZW1lbnQuXG4gICAgICogaHR0cHM6Ly9nZXRib290c3RyYXAuY29tL2RvY3MvNS4wL2Zvcm1zL2NoZWNrcy1yYWRpb3MvI2NoZWNrc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50IC0gUGFyZW50IEhUTUwgZWxlbWVudCBmb3IgdGhlIGNoZWNrYm94ZXNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAgICAgICAgICAgLSBjb21tYS1zZXBhcmF0ZWQgdmFsdWVzIG9mIGNoZWNrZWQgY2hlY2tib3hlc1xuICAgICAqL1xuICAgIHN0YXRpYyBfY2hlY2tib3hlc1RvU3RyKHBhcmVudCkge1xuICAgICAgICBsZXQgdmFsID0gJyc7XG4gICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHBhcmVudC5jaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yIChsZXQgZ3JhbmRjaGlsZCBvZiBjaGlsZC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmIChncmFuZGNoaWxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0JyAmJiBncmFuZGNoaWxkLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBncmFuZGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYy5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgKz0gYy52YWx1ZSArICcsJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogSGFuZGxlIHRoZSByZXNwb25zZSBmcm9tIHRoZSBiYWNrZW5kIGFmdGVyIHNhdmluZyB0aGUgcnVsZSBwcmVzZXQuXG4gICAgICogUmVkaXJlY3RzIHRvIHN1Y2Nlc3NSZWRpcmVjdFVybCBvbiBzdWNjZXNzLCBzaG93cyBhbiBlcnJvciBvbiBlcnJvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVzcG9uc2V9IHJlc3BvbnNlICAgICAgICAgLSBSZXNwb25zZSBmcm9tIHRoZSBiYWNrZW5kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN1Y2Nlc3NSZWRpcmVjdFVybCAtIFVSTCB0byByZWRpcmVjdCB0byBvbiBzdWNjZXNzXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxudWxsfSBidG4gICAgICAtIFNhdmUgYnV0dG9uIGVsZW1lbnQgcmVmZXJlbmNlLlxuICAgICAqL1xuICAgIF9oYW5kbGVTYXZlUmVzcG9uc2UocmVzcG9uc2UsIHN1Y2Nlc3NSZWRpcmVjdFVybCwgYnRuKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PSAyMDEpIHtcbiAgICAgICAgICAgIGlmIChidG4pIHtcbiAgICAgICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJ1NhdmVkJztcbiAgICAgICAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBzdWNjZXNzUmVkaXJlY3RVcmw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZS50ZXh0KCkudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICBhbGVydCgnU2VydmVyIHJldHVybmVkIGVycm9yIHN0YXR1cyAnICsgcmVzcG9uc2Uuc3RhdHVzICsgJy4gQ2hlY2sgdGhlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscycpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IodGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGJ0bikge1xuICAgICAgICAgICAgICAgICAgICBidG4uaW5uZXJIVE1MID0gJ0Vycm9yZWQnO1xuICAgICAgICAgICAgICAgICAgICBidG4ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ERFBQcmVzZXRFZGl0Rm9ybSA9IEREUFByZXNldEVkaXRGb3JtO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNoYW5nZUFkdmFuY2VkT3B0aW9uc1RleHQgPSBleHBvcnRzLmJlZm9yZUlQRm9ybVNlbmQgPSBleHBvcnRzLkREUFByZXNldFNlbGVjdEZvcm0gPSB2b2lkIDA7XG5jb25zdCBkZHBfcHJlc2V0c18xID0gcmVxdWlyZShcIi4vZGRwX3ByZXNldHNcIik7XG5jb25zdCByZW5kZXJlcl8xID0gcmVxdWlyZShcIi4uL3JlbmRlcmVyXCIpO1xuY29uc3QgZGRwX2lucHV0c18xID0gcmVxdWlyZShcIi4vZGRwX2lucHV0c1wiKTtcbmNvbnN0IGxvZ3NjYWxlXzEgPSByZXF1aXJlKFwiLi4vbG9nc2NhbGVcIik7XG5jbGFzcyBERFBQcmVzZXRTZWxlY3RGb3JtIHtcbiAgICAvKioqXG4gICAgICogQ3JlYXRlIGEgcHJlc2V0IGZvcm0sIHJlZHJhdyBpdCB3aGVuIHRoZSBzZWxlY3RlZCBwcmVzZXQgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRJZCAtIElEIG9mIGFuIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBmb3JtIHRvLiBUaGUgZWxlbWVudCB3aWxsIGJlIGNsZWFyZWRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVyeSB0aW1lIHRoZSBwcmVzZXQgY2hhbmdlcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRJZCkge1xuICAgICAgICB0aGlzLnBhcmVudElkID0gcGFyZW50SWQ7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBTZXQgYSBkaWZmZXJlbnQgcHJlc2V0IGFuZCByZWRyYXcgdGhlIGZvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0REUFByZXNldH0gcHJlc2V0ICAgICAgICAgICAgICAtIHRoZSBuZXcgcHJlc2V0XG4gICAgICogQHBhcmFtIHsgW2tleTogc3RyaW5nXTogYW55IH0gaW5pdERhdGEgLSBBbiBvYmplY3Qgb2YgdmFsdWVzIHRvIGluaXRpYWxpemUgZmllbGRzIHdpdGguIEtleXMgc2hvdWxkIGJlIHRoZSBmaWVsZCBuYW1lcy5cbiAgICAgKi9cbiAgICBzZXRQcmVzZXQocHJlc2V0LCBpbml0RGF0YSkge1xuICAgICAgICB0aGlzLl9wcmVzZXQgPSBwcmVzZXQ7XG4gICAgICAgIHRoaXMucmVuZGVyRm9ybShpbml0RGF0YSk7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDcmVhdGUgYSBmb3JtIGZyb20gc2V0IHByZXNldCBhbmQgcmVuZGVyIGl0IHRvIHRoZSBwYXJlbnQgZWxlbWVudC5cbiAgICAgKiBJZiB0aGUgcGFyZW50IGVsZW1lbnQgaXMgaW52YWxpZCwgZG9lcyBub3RoaW5nLlxuICAgICAqIENsZWFycyB0aGUgY29udGVudHMgb2YgdGhlIHBhcmVudCBlbGVtZW50IGJlZm9yZSByZW5kZXJpbmcgdGhlIGZvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyBba2V5OiBzdHJpbmddOiBhbnkgfSBpbml0RGF0YSAtIEFuIG9iamVjdCBvZiB2YWx1ZXMgdG8gaW5pdGlhbGl6ZSBmaWVsZHMgd2l0aC4gS2V5cyBzaG91bGQgYmUgdGhlIGZpZWxkIG5hbWVzLlxuICAgICAqL1xuICAgIHJlbmRlckZvcm0oaW5pdERhdGEpIHtcbiAgICAgICAgKDAsIHJlbmRlcmVyXzEuY2xlYXJBbGxDaGlsZHJlbikodGhpcy5wYXJlbnRJZCk7XG4gICAgICAgIGlmICh0aGlzLl9wcmVzZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXNldEZvcm0gPSB0aGlzLl9wcmVzZXRUb0h0bWwoaW5pdERhdGEpO1xuICAgICAgICAgICAgKDAsIHJlbmRlcmVyXzEuY3JlYXRlQ2hpbGQpKHByZXNldEZvcm0sIHRoaXMucGFyZW50SWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDb252ZXJ0IGEgRERQUHJlc2V0IG9iamVjdCBpbnRvIEhUTUwgZm9ybSBmb3IgZWRpdGluZyBieSBhIHVzZXIuXG4gICAgICogT25seSBlZGl0YWJsZSBmaWVsZHMgY2FuIGJlIG1vZGlmaWVkLCBubyBmaWVsZHMgY2FuIGJlIGFkZGVkIG9yIHJlbW92ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyBba2V5OiBzdHJpbmddOiBhbnkgfSBpbml0RGF0YSAtIEFuIG9iamVjdCBvZiB2YWx1ZXMgdG8gaW5pdGlhbGl6ZSBmaWVsZHMgd2l0aC4gS2V5cyBzaG91bGQgYmUgdGhlIGZpZWxkIG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9ICAgICAgICAgICAgICAgICAgICAgIC0gSFRNTCBmb3JtYXR0ZWQgc3RyaW5nIG9mIGlucHV0IGVsZW1lbnRzXG4gICAgICovXG4gICAgX3ByZXNldFRvSHRtbChpbml0RGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuX3ByZXNldCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJ1bGVUeXBlUHJlc2V0RmllbGQgPSB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRoaXMuX3ByZXNldC5maWVsZHMucnVsZV90eXBlLFxuICAgICAgICAgICAgbmFtZTogXCJydWxlX3R5cGVcIixcbiAgICAgICAgICAgIHByaW50TmFtZTogXCJSdWxlIHR5cGVcIixcbiAgICAgICAgICAgIHR5cGU6IGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRUeXBlLlRFWFQsXG4gICAgICAgICAgICBydWxlX3R5cGVzOiBbZGRwX3ByZXNldHNfMS5ERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OLCBkZHBfcHJlc2V0c18xLkREUFJ1bGVUeXBlLkZJTFRFUiwgZGRwX3ByZXNldHNfMS5ERFBSdWxlVHlwZS5TWU5fRFJPUCwgZGRwX3ByZXNldHNfMS5ERFBSdWxlVHlwZS5UQ1BfQVVUSEVOVElDQVRPUl1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcnVsZVR5cGVGaWVsZEh0bWwgPSAoMCwgZGRwX2lucHV0c18xLmNyZWF0ZVByZXNldEZvcm1GaWVsZCkocnVsZVR5cGVQcmVzZXRGaWVsZCwgMCwgdGhpcy5fcHJlc2V0LmZpZWxkcy5ydWxlX3R5cGUsIHRydWUpO1xuICAgICAgICBsZXQgZmllbGRzID0gRERQUHJlc2V0U2VsZWN0Rm9ybS5fd3JhcEZpZWxkKHJ1bGVUeXBlRmllbGRIdG1sLCAwLCBydWxlVHlwZVByZXNldEZpZWxkLnByaW50TmFtZSk7XG4gICAgICAgIGxldCBpZCA9IDE7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHRoaXMuX3ByZXNldC5maWVsZHMpLmZvckVhY2goKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdydWxlX3R5cGUnICYmIHRoaXMuX3ByZXNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkID0gT2JqZWN0LmFzc2lnbih7fSwgKDAsIGRkcF9wcmVzZXRzXzEuZ2V0UHJlc2V0RmllbGQpKGtleSkpO1xuICAgICAgICAgICAgICAgIGlmIChpbml0RGF0YSAmJiAnZGRwXycgKyBrZXkgaW4gaW5pdERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBpbml0RGF0YVsnZGRwXycgKyBrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZEh0bWwgPSAoMCwgZGRwX2lucHV0c18xLmNyZWF0ZVByZXNldEZvcm1GaWVsZCkoZmllbGQsIGlkLCB2YWx1ZSwgIUREUFByZXNldFNlbGVjdEZvcm0uX2lzRWRpdGFibGUoa2V5LCB0aGlzLl9wcmVzZXQuZWRpdGFibGUpKTtcbiAgICAgICAgICAgICAgICBmaWVsZHMgKz0gJ1xcbicgKyBERFBQcmVzZXRTZWxlY3RGb3JtLl93cmFwRmllbGQoZmllbGRIdG1sLCBpZCwgZmllbGQucHJpbnROYW1lKTtcbiAgICAgICAgICAgICAgICBpZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZmllbGRzICs9ICc8aHIgY2xhc3M9XCJteS0yPic7XG4gICAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICAgIC8qKipcbiAgICAgKiBDcmVhdGUgYSB3cmFwcGVyIGZvciBpbnB1dCBmaWVsZHMgaW4gdGhlIHByZXNldCBzZWxlY3Rpb24gZm9ybS5cbiAgICAgKiBUaGUgd3JhcHBlciBjb250YWlucyBCb290c3RyYXAgNSBwb3NpdGlvbmluZyBhbmQgYSBsYWJlbFxuICAgICAqIGFuZCBhbiBlbXB0eSBlcnJvciB0ZXh0IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRIdG1sIC0gVGhlIGlucHV0IGZpZWxkIGluIEhUTUwgZm9ybWF0dGVkIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAgICAgICAgLSBUaGUgbnVtZXJpYyBJRCBvZiB0aGUgZWxlbWVudCBpbiB0aGUgZm9ybVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAgICAgLSBUaGUgbGFiZWwgdGV4dCBmb3IgdGhlIGlucHV0IGZpZWxkXG4gICAgICogQHJldHVybnMge3N0cmluZ30gICAgICAgICAtIEhUTUwgZm9ybWF0dGVkIHN0cmluZyBvZiB0aGUgd3JhcHBlZCBmaWVsZFxuICAgICAqL1xuICAgIHN0YXRpYyBfd3JhcEZpZWxkKGZpZWxkSHRtbCwgaWQsIGxhYmVsKSB7XG4gICAgICAgIHJldHVybiBgXHJcbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm15LTMgY29sLW1kLTYgY29sLXNtLTEyIHB4LTNcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cInByZXNldElucHV0JHtpZH1cIiBjbGFzcz1cImZvcm0tbGFiZWxcIj4ke2xhYmVsfTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAke2ZpZWxkSHRtbH1cclxuICAgICAgICAgICAgPHAgY2xhc3M9XCJmb3JtLXRleHQgdGV4dC1kYW5nZXJcIiBpZD1cImZvcm0tZXJyb3ItbXNnJHtpZH1cIj48L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5gO1xuICAgIH1cbiAgICAvKioqXG4gICAgICogQ2hlY2sgaWYgdXNlcnMgY2FuIGVkaXQgZ2l2ZW4gZmllbGQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSAgICAgICAgIC0gUnVsZSBmaWVsZCBpbnRlcm5hbCBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZWRpdGFibGVzIC0gQW4gYXJyYXkgb2YgZWRpdGFibGUgZmllbGRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gICAgICAgICAgIC0gVHJ1ZSBpZiBnaXZlbiBmaWVsZCBpcyBpbiB0aGUgZWRpdGFibGVzIGFycmF5XG4gICAgICogKi9cbiAgICBzdGF0aWMgX2lzRWRpdGFibGUoa2V5LCBlZGl0YWJsZXMpIHtcbiAgICAgICAgcmV0dXJuIGVkaXRhYmxlcy5pbmNsdWRlcyhrZXkpO1xuICAgIH1cbn1cbmV4cG9ydHMuRERQUHJlc2V0U2VsZWN0Rm9ybSA9IEREUFByZXNldFNlbGVjdEZvcm07XG4vKioqXG4gKiBSZWNhbGN1bGF0ZSB0aGUgcmFuZ2Ugc2xpZGVycyB1c2luZyBsb2dhcml0aG1pYyBzY2FsZXMgYW5kXG4gKiBzZXQgbG93L2hpZ2ggdmFsdWVzLiBGb3JtIGRhdGEgY2FuIG5vdCBiZSBkaXJlY3RseSBjaGFuZ2VkLFxuICogdGhlcmVmb3JlIG5ldyBoaWRkZW4gZmllbGQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSByYW5nZVxuICogc2xpZGVyIGlzIGFkZGVkIGZvciBlYWNoIHNsaWRlciwgY29udGFpbmluZyB0aGUgY29ycmVjdCB2YWx1ZS5cbiAqIFJlbW92ZXMgdGhlIG9yaWdpbmFsIHNsaWRlcnMsIHNvIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZFxuICogYXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gb25TdWJtaXQgZXZlbnQgKG9yIGFzIGNsb3NlIHRvIHN1Ym1pdHRpbmcgYXMgcG9zc2libGUpLlxuICpcbiAqIENoYW5nZXMgYWxsIEREb1MgUHJvdGVjdG9yIGlucHV0cyB0byBoaWRkZW4gZmllbGRzIGFuZCBhZGRzIGEgJ2RkcF8nIHByZWZpeFxuICogdG8gdGhlaXIgbmFtZXMsIHRvIHByZXZlbnQgY29uZmxpY3RzIHdpdGggdGhlIEZsb3dzcGVjIGZvcm0gbmFtZXMuXG4gKlxuICogQHBhcmFtIHtIVE1MRm9ybUVsZW1lbnR9IGZvcm1SZWYgLSBGb3JtIGVsZW1lbnQgY29udGFpbmluZyByYW5nZSBzbGlkZXJzLlxuICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgZm9ybSBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBiZWZvcmVJUEZvcm1TZW5kKGZvcm1SZWYpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKGZvcm1SZWYpO1xuICAgIGlmIChkYXRhLmdldCgnYWN0aW9uJykgIT09ICc0Jykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2VGaWVsZHMgPSAoMCwgZGRwX3ByZXNldHNfMS5nZXRGaWVsZHNCeVR5cGUpKGRkcF9wcmVzZXRzXzEuUHJlc2V0RmllbGRUeXBlLlJBTkdFKTtcbiAgICBmb3IgKGNvbnN0IGYgb2YgcmFuZ2VGaWVsZHMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLmdldCgnZGRwXycgKyBmLm5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBmLm9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbEVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7J2RkcF8nICsgZi5uYW1lfVwiXWApO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsRWxlbSkge1xuICAgICAgICAgICAgICAgICgwLCByZW5kZXJlcl8xLnJlbW92ZUVsZW1lbnQpKG9yaWdpbmFsRWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy50eXBlID09PSBkZHBfcHJlc2V0c18xLlNsaWRlclR5cGUuTE9HQVJJVEhNSUMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGA8aW5wdXQgdHlwZT1cImhpZGRlblwiIHZhbHVlPVwiJHsoMCwgbG9nc2NhbGVfMS5sb2dhcml0aG1pY1ZhbHVlRnJvbVBvcykoK3ZhbHVlLCBvcHRzLmxvdywgb3B0cy5oaWdoKX1cIiBuYW1lPVwiJHsnZGRwXycgKyBmLm5hbWV9XCI+YDtcbiAgICAgICAgICAgICAgICAoMCwgcmVuZGVyZXJfMS5hdHRhY2hIdG1sVG9SZWYpKCgwLCByZW5kZXJlcl8xLnN0cmluZ1RvSHRtbCkoaW5wdXQpLCBmb3JtUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gYDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCIke3ZhbHVlfVwiIG5hbWU9XCIkeydkZHBfJyArIGYubmFtZX1cIj5gO1xuICAgICAgICAgICAgICAgICgwLCByZW5kZXJlcl8xLmF0dGFjaEh0bWxUb1JlZikoKDAsIHJlbmRlcmVyXzEuc3RyaW5nVG9IdG1sKShpbnB1dCksIGZvcm1SZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5iZWZvcmVJUEZvcm1TZW5kID0gYmVmb3JlSVBGb3JtU2VuZDtcbi8qKipcbiAqIFN3aXRjaCB0aGUgdGV4dCBvZiB0aGUgZWxlbWVudCBpZGVudGlmaWVkIGJ5IElEIGBhZHZhbmNlZE9wdHNJZGAgYmV0d2VlblxuICogXCJIaWRlIGFkdmFuY2VkIG9wdGlvbnNcIiBhbmQgXCJTaG93IGFkdmFuY2VkIG9wdGlvbnNcIiBiYXNlZCBvbiB0aGUgYGlzT3BlbmBcbiAqIHZhcmlhYmxlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhZHZhbmNlZE9wdHNJZCAtIElEIG9mIHRoZSBlbGVtZW50IHdob3NlIHRleHQgc2hvdWxkIGJlIGNoYW5nZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNPcGVuICAgICAgICAtIElmIHRydWUsIHRleHQgd2lsbCBiZSBjaGFuZ2VkIHRvIFwiSGlkZSAuLi5cIiwgb3RoZXJ3aXNlIGl0IHdpbGwgYmUgY2hhbmdlZCB0byBcIlNob3cgLi4uXCJcbiAqL1xuZnVuY3Rpb24gY2hhbmdlQWR2YW5jZWRPcHRpb25zVGV4dChhZHZhbmNlZE9wdHNJZCwgaXNPcGVuKSB7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFkdmFuY2VkT3B0c0lkKTtcbiAgICBpZiAoZWxlbSkge1xuICAgICAgICBlbGVtLmlubmVySFRNTCA9IGlzT3BlbiA/ICdIaWRlIGFkdmFuY2VkIG9wdGlvbnMgPGkgY2xhc3M9XCJiaSBiaS1jYXJldC11cC1maWxsXCI+PC9pPidcbiAgICAgICAgICAgIDogJ1Nob3cgYWR2YW5jZWQgb3B0aW9ucyA8aSBjbGFzcz1cImJpIGJpLWNhcmV0LWRvd24tZmlsbFwiPjwvaT4nO1xuICAgIH1cbn1cbmV4cG9ydHMuY2hhbmdlQWR2YW5jZWRPcHRpb25zVGV4dCA9IGNoYW5nZUFkdmFuY2VkT3B0aW9uc1RleHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0RmllbGRzQnlUeXBlID0gZXhwb3J0cy5zaG93UHJlc2V0TW9kYWwgPSBleHBvcnRzLmdldFZhbGlkYXRvcnNCeUF0dHJpYnV0ZSA9IGV4cG9ydHMuZ2V0UHJlc2V0RmllbGRzQnlSdWxlVHlwZSA9IGV4cG9ydHMuZ2V0UHJlc2V0RmllbGQgPSBleHBvcnRzLkFWQUlMQUJMRV9QUkVTRVRfRklFTERTID0gZXhwb3J0cy5QcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwID0gZXhwb3J0cy5QcmVzZXRGaWVsZFR5cGUgPSBleHBvcnRzLkREUFJ1bGVUeXBlID0gZXhwb3J0cy5TbGlkZXJUeXBlID0gdm9pZCAwO1xuY29uc3QgdmFsaWRhdG9yc18xID0gcmVxdWlyZShcIi4vdmFsaWRhdG9yc1wiKTtcbmNvbnN0IHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHNcIik7XG5jb25zdCBib290c3RyYXBfMSA9IHJlcXVpcmUoXCJib290c3RyYXBcIik7XG52YXIgU2xpZGVyVHlwZTtcbihmdW5jdGlvbiAoU2xpZGVyVHlwZSkge1xuICAgIFNsaWRlclR5cGVbU2xpZGVyVHlwZVtcIkxJTkVBUlwiXSA9IDBdID0gXCJMSU5FQVJcIjtcbiAgICBTbGlkZXJUeXBlW1NsaWRlclR5cGVbXCJMT0dBUklUSE1JQ1wiXSA9IDFdID0gXCJMT0dBUklUSE1JQ1wiO1xufSkoU2xpZGVyVHlwZSA9IGV4cG9ydHMuU2xpZGVyVHlwZSB8fCAoZXhwb3J0cy5TbGlkZXJUeXBlID0ge30pKTtcbnZhciBERFBSdWxlVHlwZTtcbihmdW5jdGlvbiAoRERQUnVsZVR5cGUpIHtcbiAgICBERFBSdWxlVHlwZVtcIkFNUExJRklDQVRJT05cIl0gPSBcImFtcGxpZmljYXRpb25cIjtcbiAgICBERFBSdWxlVHlwZVtcIlNZTl9EUk9QXCJdID0gXCJzeW5fZHJvcFwiO1xuICAgIEREUFJ1bGVUeXBlW1wiRklMVEVSXCJdID0gXCJmaWx0ZXJcIjtcbiAgICBERFBSdWxlVHlwZVtcIlRDUF9BVVRIRU5USUNBVE9SXCJdID0gXCJ0Y3BfYXV0aGVudGljYXRvclwiO1xufSkoRERQUnVsZVR5cGUgPSBleHBvcnRzLkREUFJ1bGVUeXBlIHx8IChleHBvcnRzLkREUFJ1bGVUeXBlID0ge30pKTtcbnZhciBQcmVzZXRGaWVsZFR5cGU7XG4oZnVuY3Rpb24gKFByZXNldEZpZWxkVHlwZSkge1xuICAgIFByZXNldEZpZWxkVHlwZVtcIlRFWFRcIl0gPSBcInRleHRcIjtcbiAgICBQcmVzZXRGaWVsZFR5cGVbXCJOVU1CRVJcIl0gPSBcIm51bWJlclwiO1xuICAgIFByZXNldEZpZWxkVHlwZVtcIlJBTkdFXCJdID0gXCJyYW5nZVwiO1xuICAgIFByZXNldEZpZWxkVHlwZVtcIkJPT0xcIl0gPSBcImJvb2xcIjtcbiAgICBQcmVzZXRGaWVsZFR5cGVbXCJFTlVNXCJdID0gXCJlbnVtXCI7XG59KShQcmVzZXRGaWVsZFR5cGUgPSBleHBvcnRzLlByZXNldEZpZWxkVHlwZSB8fCAoZXhwb3J0cy5QcmVzZXRGaWVsZFR5cGUgPSB7fSkpO1xudmFyIFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXA7XG4oZnVuY3Rpb24gKFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXApIHtcbiAgICBQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwW1ByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXBbXCJJc1NldFwiXSA9IDBdID0gXCJJc1NldFwiO1xuICAgIFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXBbUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtcIklzTm90U2V0XCJdID0gMV0gPSBcIklzTm90U2V0XCI7XG4gICAgUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwW1wiSXNHcmVhdGVyXCJdID0gMl0gPSBcIklzR3JlYXRlclwiO1xuICAgIFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXBbUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtcIklzTG93ZXJcIl0gPSAzXSA9IFwiSXNMb3dlclwiO1xuICAgIFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXBbUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtcIklzR3JlYXRlck9yRXF1YWxcIl0gPSA0XSA9IFwiSXNHcmVhdGVyT3JFcXVhbFwiO1xuICAgIFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXBbUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtcIklzTG93ZXJPckVxdWFsXCJdID0gNV0gPSBcIklzTG93ZXJPckVxdWFsXCI7XG4gICAgUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwW1wiSXNFcXVhbFwiXSA9IDZdID0gXCJJc0VxdWFsXCI7XG4gICAgUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcFtQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwW1wiSXNOb3RFcXVhbFwiXSA9IDddID0gXCJJc05vdEVxdWFsXCI7XG59KShQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwID0gZXhwb3J0cy5QcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwIHx8IChleHBvcnRzLlByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXAgPSB7fSkpO1xuZXhwb3J0cy5BVkFJTEFCTEVfUFJFU0VUX0ZJRUxEUyA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0aHJlc2hvbGRfYnBzJyxcbiAgICAgICAgcHJpbnROYW1lOiAnVGhyZXNob2xkIFtiaXRzL3NdJyxcbiAgICAgICAgdHlwZTogUHJlc2V0RmllbGRUeXBlLlJBTkdFLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWN0aXZhdGUgcnVsZSB3aGVuIHRyYWZmaWMgcmVhY2hlcyB0aGUgZ2l2ZW4gdGhyZXNob2xkIGRlZmluZWQgYnkgYml0cyBwZXIgc2Vjb25kLiBCaXRzIHBlciBzZWNvbmQgYXJlIGNhbGN1bGF0ZWQgb24gTDIgd2l0aG91dCBFdGhlcm5ldCBGQ1MgZmllbGQgKDRCKS4nLFxuICAgICAgICBvcHRpb25zOiB7IGxvdzogMTAwMDAwMDAwLCBoaWdoOiAxMDAwMDAwMDAwMDAsIHVuaXQ6ICdiL3MnLCB0eXBlOiBTbGlkZXJUeXBlLkxPR0FSSVRITUlDIH0sXG4gICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OLCBERFBSdWxlVHlwZS5GSUxURVIsIEREUFJ1bGVUeXBlLlNZTl9EUk9QLCBERFBSdWxlVHlwZS5UQ1BfQVVUSEVOVElDQVRPUl0sXG4gICAgICAgIHJlcXVpcmVzX2ZpZWxkczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdsaW1pdF9icHMnLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcDogUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0xvd2VyT3JFcXVhbCxcbiAgICAgICAgICAgICAgICBydWxlX3R5cGVzOiBbRERQUnVsZVR5cGUuQU1QTElGSUNBVElPTl1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2xpbWl0X2JwcycsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwOiBQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwLklzU2V0LFxuICAgICAgICAgICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0aHJlc2hvbGRfcHBzJyxcbiAgICAgICAgcHJpbnROYW1lOiAnVGhyZXNob2xkIFtwYWNrZXRzL3NdJyxcbiAgICAgICAgdHlwZTogUHJlc2V0RmllbGRUeXBlLlJBTkdFLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnQWN0aXZhdGUgcnVsZSB3aGVuIHRyYWZmaWMgcmVhY2hlcyB0aGUgZ2l2ZW4gdGhyZXNob2xkIGRlZmluZWQgYnkgcGFja2V0cyBwZXIgc2Vjb25kLicsXG4gICAgICAgIG9wdGlvbnM6IHsgbG93OiAxMDAwMCwgaGlnaDogMTAwMDAwMDAwMCwgdW5pdDogJyBwYWNrZXQvcycsIHR5cGU6IFNsaWRlclR5cGUuTE9HQVJJVEhNSUMgfSxcbiAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLkFNUExJRklDQVRJT04sIEREUFJ1bGVUeXBlLkZJTFRFUiwgRERQUnVsZVR5cGUuU1lOX0RST1AsIEREUFJ1bGVUeXBlLlRDUF9BVVRIRU5USUNBVE9SXSxcbiAgICAgICAgcmVxdWlyZXNfZmllbGRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2xpbWl0X3BwcycsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwOiBQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwLklzTG93ZXJPckVxdWFsLFxuICAgICAgICAgICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnbGltaXRfcHBzJyxcbiAgICAgICAgICAgICAgICByZWxhdGlvbnNoaXA6IFByZXNldEZpZWxkUmVxdWlyZW1lbnRSZWxhdGlvbnNoaXAuSXNTZXQsXG4gICAgICAgICAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLkFNUExJRklDQVRJT05dXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3Byb3RvY29sJyxcbiAgICAgICAgcHJpbnROYW1lOiAnUHJvdG9jb2wnLFxuICAgICAgICB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuRU5VTSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMaXN0IG9mIEw0IHByb3RvY29scy4gSWYgbm90IHNldCwgYXBwbHkgdG8gYWxsLicsXG4gICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5GSUxURVIsIEREUFJ1bGVUeXBlLkFNUExJRklDQVRJT05dLFxuICAgICAgICBvcHRpb25zOiB7IHZhbHVlczogWydUQ1AnLCAnVURQJywgJ0lDTVAnLCAnU0NUUCddLCBtdWx0aTogdHJ1ZSB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAndGNwX2ZsYWdzJyxcbiAgICAgICAgcHJpbnROYW1lOiAnVENQIEZsYWdzJyxcbiAgICAgICAgdHlwZTogUHJlc2V0RmllbGRUeXBlLlRFWFQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGlzdCBvZiBUQ1AgZmxhZ3MgY29tYmluYXRpb25zLiBDb21iaW5hdGlvbnMgY2FuIGJlIGNyZWF0ZWQgdXNpbmcgZm9sbG93aW5nIHZhbHVlczonICtcbiAgICAgICAgICAgICc8dWw+PGxpPkM6IENvbmdlc3Rpb24gd2luZG93IHJlZHVjZWQsPC9saT4nICtcbiAgICAgICAgICAgICc8bGk+RTogRUNOLUVjaG8sPC9saT4nICtcbiAgICAgICAgICAgICc8bGk+VTogVXJnZW50LDwvbGk+JyArXG4gICAgICAgICAgICAnPGxpPkE6IEFja25vd2xlZGdlLDwvbGk+JyArXG4gICAgICAgICAgICAnPGxpPlA6IFB1c2gsPC9saT4nICtcbiAgICAgICAgICAgICc8bGk+UjogUmVzZXQsPC9saT4nICtcbiAgICAgICAgICAgICc8bGk+UzogU3luY2hyb25pemUsPC9saT4nICtcbiAgICAgICAgICAgICc8bGk+RjogRmluYWxpemUuPC9saT48L3VsPicgK1xuICAgICAgICAgICAgJ1VzaW5nIHRoZXNlIGEgcGFja2V0IGlzIGFjY2VwdGVkIG9ubHkgaWYgdGhlIGNvcnJlc3BvbmRpbmcgZmxhZyBpcyBzZXQuIElmIGEgbGV0dGVyIGlzIG5lZ2F0ZWQgdXNpbmcg4oCYIeKAmSBhIHBhY2tldCBpcyBhY2NlcHRlZCBvbmx5IGlmIHRoZSBjb3JyZXNwb25kaW5nIGZsYWcgaXMgbm90IHNldC4gT3RoZXJ3aXNlIGEgdmFsdWUgb2YgYSBmbGFnIGRvZXMgbm90IG1hdHRlci4nICtcbiAgICAgICAgICAgICc8YnI+RXhhbXBsZSBmb3IgU1lOIGFuZCBTWU4rQUNLIHBhY2tldHMgb25seTogIUMhRSFVIVAhUlMhRicsXG4gICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXSxcbiAgICAgICAgLy8gUmVnZXg6IFwiKD8hLio/KFtDRVVBUFJTRl0pLipcXDEpXCIgKGZpcnN0IHBhcnQpOiBVc2UgYSBsb29rYWhlYWQgdG8gY2hlY2ssIGlmIHRoZXJlIGlzIG9ubHkgb25lIG9mIGVhY2ggY2hhcmFjdGVyXG4gICAgICAgIC8vIFwiKCE/W0NFVUFQUlNGXSl7MSw4fVwiIChzZWNvbmQgcGFydCk6ICBNYXRjaCBhbnkgb2YgdGhlIHZhbGlkIGxldHRlcnMgKENFVUFQUlNGKSwgd2l0aCBhbiBvcHRpb25hbCBleGNsYW1hdGlvbiBtYXJrIGluIGZyb250IG9mIGl0LlxuICAgICAgICB2YWxpZGF0b3JzOiBbbmV3IHZhbGlkYXRvcnNfMS5SZWdleFBhdHRlcm5WYWxpZGF0b3IoL14oPyEuKj8oW0NFVUFQUlNGXSkuKlxcMSkoIT9bQ0VVQVBSU0ZdKXsxLDh9JC9nbSwgJ1RDUCBGbGFncycsICd2YWx1ZSBjYW4gb25seSBjb250YWluIGxldHRlcnMgQywgRSwgVSwgQSwgUCwgUiwgUyBhbmQgRiwgb3B0aW9uYWxseSBwcmVmaXhlZCBieSBleGNsYW1hdGlvbiBtYXJrICghQyksIGVhY2ggbGV0dGVyIG9ubHkgb25jZS4gQ2hlY2sgdGhlIGRlc2NyaXB0aW9uIGZvciBhbiBleGFtcGxlLicpXVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAndmxhbicsIHByaW50TmFtZTogJ1ZMQU4gSUQnLCB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuTlVNQkVSLCBkZWZhdWx0VmFsdWU6IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVkxBTiBJRC4gSWYgemVybywgbWF0Y2ggb25seSBwYWNrZXRzIHdpdGhvdXQgVkxBTiBJRC4nLFxuICAgICAgICBydWxlX3R5cGVzOiBbRERQUnVsZVR5cGUuQU1QTElGSUNBVElPTiwgRERQUnVsZVR5cGUuRklMVEVSLCBERFBSdWxlVHlwZS5TWU5fRFJPUCwgRERQUnVsZVR5cGUuVENQX0FVVEhFTlRJQ0FUT1JdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0aHJlc2hvbGRfc3luX3NvZnQnLFxuICAgICAgICBwcmludE5hbWU6ICdTb2Z0IFNZTiB0aHJlc2hvbGQnLFxuICAgICAgICB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuUkFOR0UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogNSxcbiAgICAgICAgZGVzY3JpcHRpb246ICdOdW1iZXIgb2YgU1lOLW9ubHkgcGFja2V0cyAocGVyIGNsaWVudCkgdGhhdCBhcmUgYWxsb3dlZCB3aXRob3V0IHJlY2VpdmluZyBhbnkgQUNLLW9ubHkgcGFja2V0LicsXG4gICAgICAgIG9wdGlvbnM6IHsgbG93OiAyLCBoaWdoOiAxMCwgdW5pdDogJ3BhY2tldHMnLCB0eXBlOiBTbGlkZXJUeXBlLkxJTkVBUiB9LFxuICAgICAgICBydWxlX3R5cGVzOiBbRERQUnVsZVR5cGUuU1lOX0RST1BdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0aHJlc2hvbGRfc3luX2hhcmQnLFxuICAgICAgICBwcmludE5hbWU6ICdIYXJkIFNZTiB0aHJlc2hvbGQnLFxuICAgICAgICB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuUkFOR0UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogMjAsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTnVtYmVyIG9mIHBhY2tldHMgKHBlciBjbGllbnQpIGFmdGVyIHdoaWNoIGFsbCBjb25zZXF1ZW50IFNZTi1vbmx5IHBhY2tldHMgYXJlIGRyb3BwZWQgcmVnYXJkbGVzcyBvZiByZWNlaXZlZCBBQ0sgcGFja2V0cy4nLFxuICAgICAgICBvcHRpb25zOiB7IGxvdzogMiwgaGlnaDogMTAwLCB1bml0OiAncGFja2V0cycsIHR5cGU6IFNsaWRlclR5cGUuTElORUFSIH0sXG4gICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5TWU5fRFJPUCwgRERQUnVsZVR5cGUuVENQX0FVVEhFTlRJQ0FUT1JdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdsaW1pdF9icHMnLFxuICAgICAgICBwcmludE5hbWU6ICdMaW1pdCBbYml0cy9zXScsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogMCxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUcmFmZmljIHZvbHVtZSBkZWZpbmVkIGFzIGJpdHMgcGVyIHNlY29uZC4gRGVmaW5lcyBob3cgbXVjaCB0cmFmZmljIHdpbGwgYmUgYWxsb3dlZCB0byB0aGUgcHJvdGVjdGVkIG5ldHdvcmsgZHVyaW5nIGFuIGF0dGFjay4nICtcbiAgICAgICAgICAgICcgVHJhZmZpYyBmcm9tIE4gYmlnZ2VzdCBjb250cmlidXRvcnMgaXMgYmxvY2tlZCB1bnRpbCB0cmFmZmljIHZvbHVtZSBpcyBsaW1pdGVkIHRvIG9yIGJlbG93IHRoaXMgdGFyZ2V0IHZhbHVlLiBCaXRzIHBlciBzZWNvbmQgYXJlIGNhbGN1bGF0ZWQgb24gTDIgd2l0aG91dCBFdGhlcm5ldCBGQ1MgZmllbGQgKDRCKS4nICtcbiAgICAgICAgICAgICcgQSBsaW1pdCB2YWx1ZSBoYXMgdG8gYmUgbG93ZXIgb3IgZXF1YWwgdG8gY29ycmVzcG9uZGluZyB0aHJlc2hvbGQgdmFsdWUuJyxcbiAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLkFNUExJRklDQVRJT05dLFxuICAgICAgICB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuUkFOR0UsXG4gICAgICAgIG9wdGlvbnM6IHsgbG93OiAxMDAwMDAwMDAsIGhpZ2g6IDEwMDAwMDAwMDAwMCwgdW5pdDogJ2IvcycsIHR5cGU6IFNsaWRlclR5cGUuTE9HQVJJVEhNSUMgfSxcbiAgICAgICAgdmFsaWRhdG9yczogW25ldyB2YWxpZGF0b3JzXzEuTm9uWmVyb1ZhbGlkYXRvcigpXSxcbiAgICAgICAgcmVxdWlyZXNfZmllbGRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3RocmVzaG9sZF9icHMnLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcDogUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0dyZWF0ZXJPckVxdWFsLFxuICAgICAgICAgICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndGhyZXNob2xkX2JwcycsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwOiBQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwLklzU2V0LFxuICAgICAgICAgICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdsaW1pdF9wcHMnLFxuICAgICAgICBwcmludE5hbWU6ICdMaW1pdCBbcGFja2V0cy9zXScsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogMTAwMDAwMCxcbiAgICAgICAgZGVzY3JpcHRpb246ICdUcmFmZmljIHZvbHVtZSBhbW91bnQgZGVmaW5lZCBhcyBwYWNrZXRzIHBlciBzZWNvbmQuIFNheXMgaG93IG11Y2ggdHJhZmZpYyB3aWxsIGJlIGxpbWl0ZWQgZHVyaW5nIGFuIGF0dGFjay4gTiBiaWdnZXN0IGNvbnRyaWJ1dG9ycyBhcmUgYmxvY2tlZCB1bnRpbCB0cmFmZmljIHZvbHVtZSBpcyBsaW1pdGVkIHRvIHRoaXMgdmFsdWUuJyxcbiAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLkFNUExJRklDQVRJT05dLFxuICAgICAgICB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuUkFOR0UsXG4gICAgICAgIG9wdGlvbnM6IHsgbG93OiAxMDAwMCwgaGlnaDogMTAwMDAwMDAwMCwgdW5pdDogJyBwYWNrZXQvcycsIHR5cGU6IFNsaWRlclR5cGUuTE9HQVJJVEhNSUMgfSxcbiAgICAgICAgdmFsaWRhdG9yczogW25ldyB2YWxpZGF0b3JzXzEuTm9uWmVyb1ZhbGlkYXRvcigpXSxcbiAgICAgICAgcmVxdWlyZXNfZmllbGRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3RocmVzaG9sZF9wcHMnLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uc2hpcDogUHJlc2V0RmllbGRSZXF1aXJlbWVudFJlbGF0aW9uc2hpcC5Jc0dyZWF0ZXJPckVxdWFsLFxuICAgICAgICAgICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndGhyZXNob2xkX3BwcycsXG4gICAgICAgICAgICAgICAgcmVsYXRpb25zaGlwOiBQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwLklzU2V0LFxuICAgICAgICAgICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OXVxuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdmcmFnbWVudGF0aW9uJyxcbiAgICAgICAgcHJpbnROYW1lOiAnRnJhZ21lbnRhdGlvbicsXG4gICAgICAgIHR5cGU6IFByZXNldEZpZWxkVHlwZS5FTlVNLFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICdBTlknLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1NwZWNpZmljYXRpb24gb2YgcGFja2V0cyBmcm9tIHRoZSBmcmFnbWVudGF0aW9uIHBvaW50IG9mIHZpZXcuJyxcbiAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLkFNUExJRklDQVRJT05dLFxuICAgICAgICBvcHRpb25zOiB7IHZhbHVlczogWydBTlknLCAnTk8nLCAnWUVTJywgJ0ZJUlNUJywgJ0xBU1QnLCAnTUlERExFJywgJ05PRklSU1QnXSwgbXVsdGk6IGZhbHNlIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3BhY2tldF9sZW5ndGhzJyxcbiAgICAgICAgcHJpbnROYW1lOiAnUGFja2V0IGxlbmd0aHMgW0JdJyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMaXN0IG9mIHBhY2tldCBsZW5ndGhzIGFuZCBwYWNrZXQgbGVuZ3RocyByYW5nZXMuIE9ubHkgcGFja2V0cyBvZiBtYXRjaGluZyBsZW5ndGggYXJlIGNvbnNpZGVyZWQuJyArXG4gICAgICAgICAgICAnIElmIGVtcHR5LCBwYWNrZXRzIG9mIGFueSBsZW5ndGggYXJlIGNvbnNpZGVyZWQuIEwyIHBhY2tldCBsZW5ndGggd2l0aG91dCBGQ1MgZmllbGQgKDRCKSBpcyBjb25zaWRlcmVkLiBQb3NzaWJsZSB2YWx1ZXM6IHg7Jmd0O3g7eC15OyZsdDt4OyZsdDs9eDsmZ3Q7PXgnLFxuICAgICAgICB0eXBlOiBQcmVzZXRGaWVsZFR5cGUuVEVYVCxcbiAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLkFNUExJRklDQVRJT05dXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd2YWxpZGl0eV90aW1lb3V0JyxcbiAgICAgICAgcHJpbnROYW1lOiAnVmFsaWRpdHkgdGltZW91dCcsXG4gICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5UQ1BfQVVUSEVOVElDQVRPUl0sXG4gICAgICAgIHR5cGU6IFByZXNldEZpZWxkVHlwZS5SQU5HRSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ01heGltdW0gdmFsaWRpdHkgaW50ZXJ2YWwgb2YgaG9zdCAoaS5lLiBzb3VyY2UgSVAgYWRkcmVzcykgYXV0aGVudGljYXRpb24uIElmIGEgaG9zdCB0cmllcyB0byBlc3RhYmxpc2ggYW5vdGhlciBUQ1AgY29ubmVjdGlvbiBhZnRlciB0aGUgdGltZW91dCBoYXMgZWxhcHNlZCwgaXQgbXVzdCBiZSBhdXRoZW50aWNhdGVkIGFnYWluLicsXG4gICAgICAgIG9wdGlvbnM6IHsgbG93OiAxLCBoaWdoOiA2MDAsIHVuaXQ6ICdzJywgdHlwZTogU2xpZGVyVHlwZS5MSU5FQVIgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYWxnb3JpdGhtX3R5cGUnLFxuICAgICAgICBwcmludE5hbWU6ICdBbGdvcml0aG0gdHlwZScsXG4gICAgICAgIHR5cGU6IFByZXNldEZpZWxkVHlwZS5FTlVNLFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICdSU1RfQ09PS0lFUycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnVHlwZSBvZiBhbGdvcml0aG0gdG8gYmUgdXNlZCBmb3IgbWl0aWdhdGlvbjonICtcbiAgICAgICAgICAgICc8dWw+PGxpPlJTVF9DT09LSUVTOiBSZXNldCBDb29raWVzIGFsZ29yaXRobSw8L2xpPicgK1xuICAgICAgICAgICAgJzxsaT5TWU5fQVVUSDogU1lOIEF1dGhlbnRpY2F0aW9uIGFsZ29yaXRoPC9saT48L3VsPicsXG4gICAgICAgIHJ1bGVfdHlwZXM6IFtERFBSdWxlVHlwZS5UQ1BfQVVUSEVOVElDQVRPUl0sXG4gICAgICAgIG9wdGlvbnM6IHsgdmFsdWVzOiBbJ1JTVF9DT09LSUVTJywgJ1NZTl9BVVRIJ10sIG11bHRpOiBmYWxzZSB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd0YWJsZV9leHBvbmVudCcsXG4gICAgICAgIHByaW50TmFtZTogJ1RhYmxlIGV4cG9uZW50JyxcbiAgICAgICAgdHlwZTogUHJlc2V0RmllbGRUeXBlLk5VTUJFUixcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAxOCxcbiAgICAgICAgZGVzY3JpcHRpb246ICdTaXplIGV4cG9uZW50IChpLmUuIDJeeCkgb2YgdGhlIHJlY29yZCB0YWJsZS4gSXQgY29ycmVzcG9uZHMgdG8gbWF4aW11bSBudW1iZXIgb2YgdW5pcXVlIHNvdXJjZSBJUCBhZGRyZXNzZXMuJyxcbiAgICAgICAgcnVsZV90eXBlczogW0REUFJ1bGVUeXBlLlNZTl9EUk9QLCBERFBSdWxlVHlwZS5BTVBMSUZJQ0FUSU9OLCBERFBSdWxlVHlwZS5UQ1BfQVVUSEVOVElDQVRPUl0sXG4gICAgICAgIHZhbGlkYXRvcnM6IFtuZXcgdmFsaWRhdG9yc18xLk51bWJlclJhbmdlVmFsaWRhdG9yKDEwLCAzMCldXG4gICAgfVxuXTtcbi8qKipcbiAqIEdldCBmaWVsZCBpbmZvcm1hdGlvbiBiYXNlZCBvbiB0aGUgcnVsZSBmaWVsZCBuYW1lIGZyb20gZGF0YWJhc2VcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gRERvUyBQcm90ZWN0b3IgcnVsZSBmaWVsZCBuYW1lIGZyb20gZGF0YWJhc2VcbiAqIEByZXR1cm5zIHtERFBQcmVzZXRGaWVsZH0gLSBJbmZvcm1hdGlvbiBhYm91dCB0aGUgZmllbGQsIHN1Y2ggYXMgaHVtYW4tcmVhZGFibGUgbmFtZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlIG9mIHRoZSBpbnB1dCBmaWVsZCwgc3VwcG9ydGVkIHJ1bGUgdHlwZXMgYW5kIG1vcmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBpbiB0aGUgYG9wdGlvbnNgIGZpZWxkIGJhc2VkIG9uIGlucHV0IHR5cGUpXG4gKiAqL1xuZnVuY3Rpb24gZ2V0UHJlc2V0RmllbGQoa2V5KSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuQVZBSUxBQkxFX1BSRVNFVF9GSUVMRFMuZmluZCgoZmllbGQpID0+IHtcbiAgICAgICAgcmV0dXJuIGZpZWxkLm5hbWUgPT09IGtleTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZ2V0UHJlc2V0RmllbGQgPSBnZXRQcmVzZXRGaWVsZDtcbi8qKipcbiAqIEdldCBhbGwgcHJlc2V0IGZpZWxkcyB0aGF0IGNhbiBiZSBpbmNsdWRlZCB3aXRoIGdpdmVuIHJ1bGUgdHlwZVxuICpcbiAqIEBwYXJhbSB7RERQUnVsZVR5cGV9IHJ1bGVUeXBlIC0gRmluZCBmaWVsZHMgdGhhdCBzdXBwb3J0IHRoaXMgcnVsZSB0eXBlXG4gKiBAcmV0dXJucyB7RERQUHJlc2V0RmllbGRbXX0gICAtIFN1YnNldCBvZiBhbGwgYXZhaWxhYmxlIGZpZWxkcywgd2hlcmUgdGhlIGBydWxlX3R5cGVzYCBhdHRyaWJ1dGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVkZXMgZ2l2ZW4gcnVsZSB0eXBlLlxuICogKi9cbmZ1bmN0aW9uIGdldFByZXNldEZpZWxkc0J5UnVsZVR5cGUocnVsZVR5cGUpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5BVkFJTEFCTEVfUFJFU0VUX0ZJRUxEUy5maWx0ZXIoKGZpZWxkKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IGZpZWxkLnJ1bGVfdHlwZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhydWxlVHlwZSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmdldFByZXNldEZpZWxkc0J5UnVsZVR5cGUgPSBnZXRQcmVzZXRGaWVsZHNCeVJ1bGVUeXBlO1xuLyoqKlxuICogR2V0IGFsbCB2YWxpZGF0b3JzIGZvciBhIGdpdmVuIHJ1bGUgYXR0cmlidXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAgICAtIEREb1MgUHJvdGVjdG9yIHJ1bGUgYXR0cmlidXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7VmFsaWRhdG9yW119IC0gTGlzdCBvZiB2YWxpZGF0b3JzIGZvciBnaXZlbiBhdHRyaWJ1dGVcbiAqL1xuZnVuY3Rpb24gZ2V0VmFsaWRhdG9yc0J5QXR0cmlidXRlKGtleSkge1xuICAgIGNvbnN0IGZpZWxkID0gZ2V0UHJlc2V0RmllbGQoa2V5KTtcbiAgICBpZiAoZmllbGQgJiYgZmllbGQudmFsaWRhdG9ycykge1xuICAgICAgICByZXR1cm4gZmllbGQudmFsaWRhdG9ycztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59XG5leHBvcnRzLmdldFZhbGlkYXRvcnNCeUF0dHJpYnV0ZSA9IGdldFZhbGlkYXRvcnNCeUF0dHJpYnV0ZTtcbi8qKipcbiAqIFNob3cgYSBCb290c3RyYXAgNSBtb2RhbCBzaG93aW5nIGEgdGFibGUgd2l0aCBwcmVzZXQgdmFsdWVzXG4gKiBSZXF1aXJlcyBhIG1vZGFsIHRvIGJlIHByZXNlbnQgaW4gSFRNTC4gVGhlc2UgMyBlbGVtZW50cyB3aXRoIHNwZWNpZmljIElEcyBoYXZlIHRvIGJlIHByZXNlbnQ6XG4gKiAtIEEgPGRpdiBjbGFzcz1cIm1vZGFsXCI+IHdpdGggSUQgXCJwcmVzZXREZXRhaWxNb2RhbFwiLiBUaGlzIGRpdiBzaG91bGQgYmUgdGhlIGhpZ2hlc3QgbGV2ZWwgZWxlbWVudCBvZiB0aGUgbW9kYWwgd2luZG93LlxuICogLSBBIDx0Ym9keT4gZWxlbWVudCB3aXRoIElEIFwicHJlc2V0RGV0YWlsQm9keVwiIGFzIHRoZSBib2R5IG9mIGEgdGFibGUgd2l0aCAzIGNvbHVtbnMgLSBcImtleVwiLCBcInZhbHVlJyBhbmQgXCJlZGl0YWJsZVwiXG4gKiAtIEEgdGV4dCBlbGVtZW50IChoZWFkaW5nIHJlY29tbWVuZGVkKSB3aXRoIGlkIFwicHJlc2V0RGV0YWlsVGl0bGVcIiwgdGhhdCB3aWxsIGJlIGZpbGxlZCB3aXRoIHRoZSBwcmVzZXQgbmFtZVxuICogQWxsIG9mIHRoZXNlIDMgZWxlbWVudHMgYXJlIHJlcXVpcmVkLCBvdGhlcndpc2UgdGhlIG1vZGFsIHdpbGwgbm90IGJlIHNob3duLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSAgICAgIC0gTmFtZSBvZiB0aGUgcHJlc2V0XG4gKiBAcGFyYW0ge29iamVjdH0gZmllbGRzICAgICAtIE9iamVjdCB3aXRoIHByZXNldCB2YWx1ZXNcbiAqIEBwYXJhbSB7c3RyaW5nW119IGVkaXRhYmxlIC0gTGlzdCBvZiBrZXlzIHRoYXQgdGhlIHVzZXIgY2FuIGVkaXRcbiAqICovXG5mdW5jdGlvbiBzaG93UHJlc2V0TW9kYWwodGl0bGUsIGZpZWxkcywgZWRpdGFibGUpIHtcbiAgICBjb25zdCB0aXRsZUVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlc2V0RGV0YWlsVGl0bGUnKTtcbiAgICBjb25zdCBib2R5RWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmVzZXREZXRhaWxCb2R5Jyk7XG4gICAgY29uc3QgbW9kYWxFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXNldERldGFpbE1vZGFsJyk7XG4gICAgaWYgKHRpdGxlRWxlbSAmJiBib2R5RWxlbSAmJiBtb2RhbEVsZW0pIHtcbiAgICAgICAgdGl0bGVFbGVtLmlubmVySFRNTCA9IHRpdGxlO1xuICAgICAgICBib2R5RWxlbS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGZpZWxkcykge1xuICAgICAgICAgICAgbGV0IHJvdyA9IGJvZHlFbGVtLmluc2VydFJvdyhib2R5RWxlbS5yb3dzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQga2V5Q2VsbCA9IHJvdy5pbnNlcnRDZWxsKCk7XG4gICAgICAgICAgICBsZXQgdmFsQ2VsbCA9IHJvdy5pbnNlcnRDZWxsKCk7XG4gICAgICAgICAgICBsZXQgZWRpdGFibGVDZWxsID0gcm93Lmluc2VydENlbGwoKTtcbiAgICAgICAgICAgIGtleUNlbGwuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWVsZHNba2V5XSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB2YWxDZWxsLmlubmVySFRNTCA9ICgwLCB1dGlsc18xLmZvcm1hdFNJVW5pdE51bWJlcikoZmllbGRzW2tleV0sIDIsICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbENlbGwuaW5uZXJIVE1MID0gZmllbGRzW2tleV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVkaXRhYmxlQ2VsbC5pbm5lckhUTUwgPSBlZGl0YWJsZS5pbmNsdWRlcyhrZXkpID8gJ1llcycgOiAnTm8nO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2RhbCA9IG5ldyBib290c3RyYXBfMS5Nb2RhbChtb2RhbEVsZW0sIHsgYmFja2Ryb3A6IHRydWUsIGtleWJvYXJkOiB0cnVlIH0pO1xuICAgICAgICBtb2RhbC5zaG93KCk7XG4gICAgfVxufVxuZXhwb3J0cy5zaG93UHJlc2V0TW9kYWwgPSBzaG93UHJlc2V0TW9kYWw7XG4vKioqXG4gKiBHZXQgYWxsIHByZXNldCBmaWVsZHMgd2l0aCB0aGUgZ2l2ZW4gdHlwZVxuICpcbiAqIEBwYXJhbSB7UHJlc2V0RmllbGRUeXBlfSB0eXBlIC0gVHlwZSBvZiBmaWVsZHMgdG8gZmluZFxuICogQHJldHVybnMge0REUFByZXNldEZpZWxkW119ICAgLSBBbiBhcnJheSBvZiBmaWVsZHMgb2YgZ2l2ZW4gdHlwZVxuICovXG5mdW5jdGlvbiBnZXRGaWVsZHNCeVR5cGUodHlwZSkge1xuICAgIHJldHVybiBleHBvcnRzLkFWQUlMQUJMRV9QUkVTRVRfRklFTERTLmZpbHRlcigocHJlc2V0KSA9PiB7XG4gICAgICAgIHJldHVybiBwcmVzZXQudHlwZSA9PT0gdHlwZTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZ2V0RmllbGRzQnlUeXBlID0gZ2V0RmllbGRzQnlUeXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnZhbGlkYXRlRmllbGQgPSBleHBvcnRzLk5vblplcm9WYWxpZGF0b3IgPSBleHBvcnRzLlJlZ2V4UGF0dGVyblZhbGlkYXRvciA9IGV4cG9ydHMuTnVtYmVyUmFuZ2VWYWxpZGF0b3IgPSB2b2lkIDA7XG5jb25zdCBkZHBfcHJlc2V0c18xID0gcmVxdWlyZShcIi4vZGRwX3ByZXNldHNcIik7XG5jb25zdCBkZHBfaW5wdXRzXzEgPSByZXF1aXJlKFwiLi9kZHBfaW5wdXRzXCIpO1xuY2xhc3MgTnVtYmVyUmFuZ2VWYWxpZGF0b3Ige1xuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIGEgbnVtZXJpYyBmaWVsZCB0byBiZSBpbiBhIGdpdmVuIHJhbmdlLlxuICAgICAqIElmIG1pbiBpcyB1bmRlZmluZWQsIG9ubHkgY2hlY2tzIGZvciB0aGUgbWF4aW11bSB2YWx1ZVxuICAgICAqIElmIG1heCBpcyB1bmRlZmluZWQsIG9ubHkgY2hlY2tzIGZvciB0aGUgbWluaW11bSB2YWx1ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IG1pbiAtIFRvIGJlIHZhbGlkLCB0aGUgZmllbGQgdmFsdWUgaGFzIHRvIGJlIGxhcmdlciBvciBlcXVhbCB0byB0aGlzIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXIgfCB1bmRlZmluZWR9IG1heCAtIFRvIGJlIHZhbGlkLCB0aGUgZmllbGQgdmFsdWUgaGFzIHRvIGJlIHNtYWxsZXIgb3IgZXF1YWwgdG8gdGhpcyB2YWx1ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1pbiwgbWF4KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHsgbWluOiBtaW4sIG1heDogbWF4IH07XG4gICAgfVxuICAgIHZhbGlkYXRlKHZhbHVlKSB7XG4gICAgICAgIGxldCB2YWxpZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubWluICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgPD0gdGhpcy5vcHRpb25zLm1pbikge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm1heCAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID49IHRoaXMub3B0aW9ucy5tYXgpIHtcbiAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgIH1cbiAgICBpbnZhbGlkTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIGBWYWx1ZSBoYXMgdG8gYmUgaW4gcmFuZ2UgJHt0aGlzLm9wdGlvbnMubWlufSAtICR7dGhpcy5vcHRpb25zLm1heH1gO1xuICAgIH1cbn1cbmV4cG9ydHMuTnVtYmVyUmFuZ2VWYWxpZGF0b3IgPSBOdW1iZXJSYW5nZVZhbGlkYXRvcjtcbmNsYXNzIFJlZ2V4UGF0dGVyblZhbGlkYXRvciB7XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSB0ZXh0IGZpZWxkIGJhc2VkIG9uIGEgcmVndWxhciBleHByZXNzaW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ2V4ICAgICAgICAgICAgLSBSZWd1bGFyIGV4cHJlc3Npb24gdGhlIGlucHV0IGhhcyB0byBwYXNzXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IG5hbWUgLSBOYW1lIG9mIHRoZSBpbnB1dCBmaWVsZCB0byBzaG93IHRvIHRoZSB1c2VyIGFzIGEgaGludFxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBoaW50IC0gQSBoaW50IHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIsIGlmIHRoZSBpbnB1dCBpcyBpbnZhbGlkXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVnZXgsIG5hbWUsIGhpbnQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0geyByZWdleDogcmVnZXgsIG5hbWU6IG5hbWUsIGhpbnQ6IGhpbnQgfTtcbiAgICB9XG4gICAgdmFsaWRhdGUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKHRoaXMub3B0aW9ucy5yZWdleCk7XG4gICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgaW52YWxpZE1lc3NhZ2UoKSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJ0ludmFsaWQgZm9ybWF0JztcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICBtZXNzYWdlICs9ICcgZm9yICcgKyB0aGlzLm9wdGlvbnMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpbnQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJyAtICcgKyB0aGlzLm9wdGlvbnMuaGludDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG59XG5leHBvcnRzLlJlZ2V4UGF0dGVyblZhbGlkYXRvciA9IFJlZ2V4UGF0dGVyblZhbGlkYXRvcjtcbmNsYXNzIE5vblplcm9WYWxpZGF0b3Ige1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgbm90IGVxdWFsIHRvIHplcm8uXG4gICAgICovXG4gICAgdmFsaWRhdGUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICgrdmFsdWUpICE9PSAwO1xuICAgIH1cbiAgICBpbnZhbGlkTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuICdUaGlzIGZpZWxkIGNhbiBub3QgYmUgemVyby4nO1xuICAgIH1cbn1cbmV4cG9ydHMuTm9uWmVyb1ZhbGlkYXRvciA9IE5vblplcm9WYWxpZGF0b3I7XG4vKioqXG4gKiBHZXQgYWxsIHZhbGlkYXRvcnMgZnJvbSBhIGdpdmVuIGZpZWxkIG5hbWUgYW5kIGNoZWNrIHRoZW0uXG4gKiBJZiBhIHZhbGlkYXRvciBkb2VzIG5vdCBwYXNzLCBhZGQgYW4gZXJyb3IgbWVzc2FnZSB0byB0aGUgZmllbGQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gRERvUyBQcm90ZWN0b3IgcnVsZSBhdHRyaWJ1dGUgdGhlIGZpZWxkIHJlcHJlc2VudHNcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudCB8IEhUTUxTZWxlY3RFbGVtZW50fSBmaWVsZFJlZiAtIFJlZmVyZW5jZSB0byB0aGUgZmllbGQgaW4gdGhlIEhUTUwgZG9jdW1lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIE51bWVyaWMgSUQgb2YgdGhlIGZpZWxkIGluIEhUTUxcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVGaWVsZChmaWVsZE5hbWUsIGZpZWxkUmVmLCBpZCkge1xuICAgIGNvbnN0IHZhbGlkYXRvcnMgPSAoMCwgZGRwX3ByZXNldHNfMS5nZXRWYWxpZGF0b3JzQnlBdHRyaWJ1dGUpKGZpZWxkTmFtZSk7XG4gICAgaWYgKHZhbGlkYXRvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbWVzc2FnZXMgPSAnJztcbiAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgdiBvZiB2YWxpZGF0b3JzKSB7XG4gICAgICAgICAgICBpZiAoIXYudmFsaWRhdGUoZmllbGRSZWYudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyArPSB2LmludmFsaWRNZXNzYWdlKCkgKyAnPGJyPic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgKDAsIGRkcF9pbnB1dHNfMS5zZXRFcnJvck1lc3NhZ2UpKGlkLCBtZXNzYWdlcyk7XG4gICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgIGZpZWxkUmVmLmNsYXNzTGlzdC5hZGQoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkUmVmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWludmFsaWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVGaWVsZCA9IHZhbGlkYXRlRmllbGQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmlsbE9yZ2FuaXphdGlvbiA9IGV4cG9ydHMuc3dpdGNoRm9jdXNPbktleXByZXNzID0gZXhwb3J0cy5zaG93RmllbGRJZiA9IHZvaWQgMDtcbmNvbnN0IGJvb3RzdHJhcF8xID0gcmVxdWlyZShcImJvb3RzdHJhcFwiKTtcbi8qKipcbiAqIEFkZCB0aGUgJ2Qtbm9uZScgQ1NTIGNsYXNzIHRvIGEgc3BlY2lmaWVkIGVsZW1lbnQgYmFzZWQgb24gYSBjb25kaXRpb25cbiAqIHRoYXQgdGhlIHNvdXJjZVZhbHVlIGlzIG5vdCBlcXVhbCB0byB0aGUgc2hvd1ZhbHVlLiBPdGhlcndpc2UsIHJlbW92ZVxuICogdGhlICdkLW5vbmUnIENTUyBjbGFzcy5cbiAqXG4gKiBAcGFyYW0ge2FueX0gc291cmNlVmFsdWUgLSBWYWx1ZSBvZiB0aGUgZWxlbWVudCB0aGF0IHNwZWNpZmllcyB0aGUgY29uZGl0aW9uIHRvIHNob3cgdGhlIHRhcmdldCBlbGVtZW50LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5nLiB2YWx1ZSBvZiB0aGUgcHJvdG9jb2wgc2VsZWN0IGVsZW1lbnRcbiAqIEBwYXJhbSB7YW55fSBzaG93VmFsdWUgICAtIFZhbHVlIHRvIGNvbXBhcmUgdGhlIGNvbmRpdGlvbiBlbGVtZW50IHRvLiBJZiB0aGUgc291cmNlIHZhbHVlIGlzIGVxdWFsIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc2hvdyB2YWx1ZSwgdGhlIHRhcmdldCBlbGVtZW50IGlzIHZpc2libGUgKCdkLW5vbmUnIENTUyBjbGFzcyBpcyByZW1vdmVkKVxuICogQHBhcmFtIHtzdHJpbmd9IHRhcmdldElEIC0gSUQgb2YgdGhlIGVsZW1lbnQsIHRoYXQgdGhlICdkLW5vbmUnIGNsYXNzIHNob3VsZCBiZSBhZGRlZCB0by9yZW1vdmVkIGZyb20uXG4gKi9cbmZ1bmN0aW9uIHNob3dGaWVsZElmKHNvdXJjZVZhbHVlLCBzaG93VmFsdWUsIHRhcmdldElEKSB7XG4gICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldElEKTtcbiAgICBpZiAoc291cmNlVmFsdWUgIT0gc2hvd1ZhbHVlKSB7XG4gICAgICAgIGVsZW0gPT09IG51bGwgfHwgZWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbS5jbGFzc0xpc3QuYWRkKCdkLW5vbmUnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGVsZW0gPT09IG51bGwgfHwgZWxlbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkLW5vbmUnKTtcbiAgICB9XG59XG5leHBvcnRzLnNob3dGaWVsZElmID0gc2hvd0ZpZWxkSWY7XG4vKioqXG4gKiBDYW4gYmUgY2FsbGVkIGFzIGEga2V5cHJlc3MgZXZlbnQgbGlzdGVuZXIgb25hbnkgdGV4dCBpbnB1dC5cbiAqIExpc3RlbnMgdG8gYWxsIGtleSBwcmVzc2VzIGFuZCBpZiB0aGUga2V5IHZhbHVlIGlzXG4gKiBlcXVhbCB0byB0aGUgYGtleWAgcGFyYW1ldGVyLCB0aGUgZm9jdXMgaXMgc3dpdGNoZWQgdG8gYW4gaW5wdXQgZmllbGRcbiAqIGlkZW50aWZpZWQgYnkgdGhlIGBmb2N1c0lEYCBwYXJhbWV0ZXIuIFRoZSB0YXJnZXQga2V5IGlzIG5vdCBpbnB1dHRlZCB0byB0aGVcbiAqIG9yaWdpbmFsIGZpZWxkIG5vciB0aGUgdGFyZ2V0IGZpZWxkLlxuICpcbiAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gICBldmVudCAgIC0gRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgIGtleSAgICAgLSBLZXlwcmVzcyB0byBsaXN0ZW4gdG8sIHNob3VsZCBiZSB0aGUga2V5IG5hbWUgKHVzZXMgZXZlbnQua2V5KVxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgIGZvY3VzSWQgLSBJRCBvZiB0aGUgdGFyZ2V0IGlucHV0LCB0aGF0IHJlY2VpdmVzIGZvY3VzIGFmdGVyIHRoZSBrZXkgaXMgcHJlc3NlZFxuICovXG5mdW5jdGlvbiBzd2l0Y2hGb2N1c09uS2V5cHJlc3MoZXZlbnQsIGtleSwgZm9jdXNJZCkge1xuICAgIGlmIChldmVudC5rZXkgPT0ga2V5KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9jdXNJZCk7XG4gICAgICAgIGlmIChpbnB1dCkge1xuICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuc3dpdGNoRm9jdXNPbktleXByZXNzID0gc3dpdGNoRm9jdXNPbktleXByZXNzO1xuLyoqKlxuICogU2hvdyBhIGJvb3RzdHJhcCBtb2RhbCB3aW5kb3cgaWRlbnRpZmllZCBieSBjc3MgSUQgI29yZ1NlbGVjdE1vZGFsLlxuICogVGhlIG1vZGFsIGlzIHNwZWNpZmllZCBhcyBhIGppbmphIG1hY3JvIFwiZmlsbF9vcmdfZm9ybVwiIGluIHRoZVxuICogZmxvd2FwcC90ZW1wbGF0ZXMvZm9ybXMvbWFjcm9zLmoyIGZpbGUuXG4gKlxuICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIG9wZW5zIHRoZSBtb2RhbCBhbmQgcmVnaXN0ZXJzIGEgY2FsbGJhY2sgdG9cbiAqIGl0cyBcIlVzZSByYW5nZVwiIGJ1dHRvbi4gVGhlIGNhbGxiYWNrIHJlYWRzIHRoZSB2YWx1ZSBmcm9tIHRoZVxuICogcmFuZ2Ugc2VsZWN0aW9uIGlucHV0IGFuZCBhcHBsaWVzIGl0IHRvIGFwcHJvcHJpYXRlIGlucHV0IGZpZWxkcy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaXBJbnB1dElkICAgLSBpZCBvZiB0aGUgaW5wdXQgZmllbGQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBvcmdhbml6YXRpb24gSVAgYWRkcmVzcyBzaG91bGQgYmUgZmlsbGVkIHRvXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFza0lucHV0SWQgLSBpZCBvZiB0aGUgaW5wdXQgZmllbGQsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZSBvcmdhbml6YXRpb24gSVAgbWFzayBzaG91bGQgYmUgZmlsbGVkIHRvXG4gKi9cbmZ1bmN0aW9uIGZpbGxPcmdhbml6YXRpb24oaXBJbnB1dElkLCBtYXNrSW5wdXRJZCkge1xuICAgIGNvbnN0IG1vZGFsQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yZ1NlbGVjdE1vZGFsJyk7XG4gICAgaWYgKCFtb2RhbENvbnRhaW5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1vZGFsID0gbmV3IGJvb3RzdHJhcF8xLk1vZGFsKG1vZGFsQ29udGFpbmVyLCB7IGJhY2tkcm9wOiB0cnVlIH0pO1xuICAgIG1vZGFsLnNob3coKTtcbiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsbC1vcmctYnRuJyk7XG4gICAgaWYgKGJ0bikge1xuICAgICAgICBidG4ub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZpbGxPcmdWYWx1ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpcElucHV0SWQpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXNrSW5wdXRJZCkpO1xuICAgICAgICAgICAgbW9kYWwuaGlkZSgpO1xuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuZmlsbE9yZ2FuaXphdGlvbiA9IGZpbGxPcmdhbml6YXRpb247XG4vKioqXG4gKiBGaWxsIHZhbHVlIGZyb20gdGhlIHNlbGVjdGVkIG9yZ2FuaXphdGlvbiByYW5nZSB0byBhcHByb3ByaWF0ZSBmaWVsZHMuXG4gKiBJZiBhIGZpZWxkIGlzIG51bGwsIHRoZSB2YWx1ZSBpcyBza2lwcGVkLlxuICpcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudH0gaXBGaWVsZCAtIEEgZmllbGQgdG8gaW5wdXQgdGhlIElQIHZhbHVlIHRvXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IG1hc2tGaWVsZCAtIEEgZmllbGQgdG8gaW5wdXQgdGhlIG1hc2sgdmFsdWUgdG9cbiAqL1xuZnVuY3Rpb24gZmlsbE9yZ1ZhbHVlKGlwRmllbGQsIG1hc2tGaWVsZCkge1xuICAgIGNvbnN0IG9yZ19zZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JnU2VsZWN0Jyk7XG4gICAgaWYgKCFvcmdfc2VsZWN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsID0gb3JnX3NlbGVjdC52YWx1ZS5zcGxpdCgnLycpO1xuICAgIGlmIChpcEZpZWxkKSB7XG4gICAgICAgIGlwRmllbGQudmFsdWUgPSB2YWxbMF07XG4gICAgfVxuICAgIGlmIChtYXNrRmllbGQpIHtcbiAgICAgICAgbWFza0ZpZWxkLnZhbHVlID0gdmFsWzFdO1xuICAgIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZW5kRm9ybURhdGFUb0JhY2tlbmQgPSBleHBvcnRzLkhUVFBfTUVUSE9EID0gdm9pZCAwO1xudmFyIEhUVFBfTUVUSE9EO1xuKGZ1bmN0aW9uIChIVFRQX01FVEhPRCkge1xuICAgIEhUVFBfTUVUSE9EW1wiR0VUXCJdID0gXCJHRVRcIjtcbiAgICBIVFRQX01FVEhPRFtcIlBPU1RcIl0gPSBcIlBPU1RcIjtcbiAgICBIVFRQX01FVEhPRFtcIlBVVFwiXSA9IFwiUFVUXCI7XG4gICAgSFRUUF9NRVRIT0RbXCJERUxFVEVcIl0gPSBcIkRFTEVURVwiO1xuICAgIEhUVFBfTUVUSE9EW1wiUEFUQ0hcIl0gPSBcIlBBVENIXCI7XG59KShIVFRQX01FVEhPRCA9IGV4cG9ydHMuSFRUUF9NRVRIT0QgfHwgKGV4cG9ydHMuSFRUUF9NRVRIT0QgPSB7fSkpO1xuLyoqKlxuICogU2VuZCBGb3JtRGF0YSB0byBhIHNwZWNpZmllZCB1cmwuIElmIHRoZSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwsXG4gKiB0aGUgYGNhbGxiYWNrU3VjY2Vzc2AgY2FsbGJhY2sgaXMgY2FsbGVkLCBvdGhlcndpc2UgdGhlIGBjYWxsYmFja0ZhaWxgIGlzIGNhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge0Zvcm1EYXRhfSBkYXRhIC0gZGF0YSB0byBzZW5kIHRvIHRoZSBgdXJsYC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gc2VuZCB0aGUgZGF0YSB0by5cbiAqIEBwYXJhbSB7SFRUUF9NRVRIT0R9IG1ldGhvZCAtIEhUVFAgbWV0aG9kIHRvIHVzZSB0byBzZW5kIHRoZSBkYXRhLlxuICogKi9cbmZ1bmN0aW9uIHNlbmRGb3JtRGF0YVRvQmFja2VuZChkYXRhLCB1cmwsIG1ldGhvZCkge1xuICAgIGNvbnN0IHJlcXVlc3RPcHRzID0ge1xuICAgICAgICBtZXRob2Q6IG1ldGhvZC50b1N0cmluZygpLFxuICAgICAgICBib2R5OiBkYXRhXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2godXJsLCByZXF1ZXN0T3B0cyk7XG59XG5leHBvcnRzLnNlbmRGb3JtRGF0YVRvQmFja2VuZCA9IHNlbmRGb3JtRGF0YVRvQmFja2VuZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wb3NGcm9tTG9nYXJpdGhtaWNWYWx1ZSA9IGV4cG9ydHMubG9nYXJpdGhtaWNWYWx1ZUZyb21Qb3MgPSB2b2lkIDA7XG4vKioqXG4gKiBDb252ZXJ0IGEgbGluZWFyIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEwMCB0byBhIGxvZ2FyaXRobWljIHNjYWxlXG4gKiBpbiByYW5nZSBgbWluVmFsYCB0byBgbWF4VmFsYC4gVXNlZCB0byBjb252ZXJ0IGxpbmVhciByYW5nZSBzbGlkZXJzXG4gKiB0byBhIGxvZ2FyaXRobWljIHNjYWxlLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgICAgLSBQb3NpdGlvbiBvZiB0aGUgc2xpZGVyIChsaW5lYXJseSBzY2FsaW5nIG51bWJlciBmcm9tIDAgdG8gMTAwKVxuICogQHBhcmFtIHtudW1iZXJ9IG1pblZhbCAtIE1pbmltdW0gb3V0cHV0IHZhbHVlIC0gcG9zPTAgY29udmVydHMgdG8gdGhpcyB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heFZhbCAtIE1heGltdW0gb3V0cHV0IHZhbHVlIC0gcG9zPTEwMCBjb252ZXJ0cyB0byB0aGlzIHZhbHVlXG4gKlxuICogQHJldHVybnMge251bWJlcn0gLSBMb2dhcml0aG1pY2FsbHkgc2NhbGluZyBudW1iZXIgZnJvbSBgbWluVmFsYCB0byBgbWF4VmFsYCBiYXNlZCBvbiBgcG9zYC5cbiAqICovXG5mdW5jdGlvbiBsb2dhcml0aG1pY1ZhbHVlRnJvbVBvcyhwb3MsIG1pblZhbCwgbWF4VmFsKSB7XG4gICAgaWYgKHBvcyA8PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBtaW4gPSBNYXRoLmxvZyhNYXRoLm1heChtaW5WYWwsIDEpKTtcbiAgICBjb25zdCBtYXggPSBNYXRoLmxvZyhtYXhWYWwpO1xuICAgIGNvbnN0IHNjYWxlID0gKG1heCAtIG1pbikgLyAxMDA7IC8vIG1heC1taW4gdmFsdWUgLyBtYXgtbWluIHBvc2l0aW9uICgxMDAtMCA9IDApXG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5leHAocG9zICogc2NhbGUgKyBtaW4pKTtcbn1cbmV4cG9ydHMubG9nYXJpdGhtaWNWYWx1ZUZyb21Qb3MgPSBsb2dhcml0aG1pY1ZhbHVlRnJvbVBvcztcbi8qKipcbiAqIENvbnZlcnQgbG9nYXJpdGhtaWMgbnVtYmVyIGluIHJhbmdlIGZyb20gYG1pblZhbGAgdG8gYG1heFZhbGAgaW50byBhIG51bWJlclxuICogYmV0d2VlbiAwIC0gMTAwIGluIGEgbGluZWFyIHNjYWxlLiBDYW4gYmUgdXNlZCB0byBzZXQgYSByYW5nZSBzbGlkZXIgcG9zaXRpb25cbiAqIGJhc2VkIG9uIGEgbG9nYXJpdGhtaWMgbnVtYmVyLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgICAgLSBWYWx1ZSB0byBjb252ZXJ0IC0gaW4gcmFuZ2UgZnJvbSBgbWluVmFsYCB0byBgbWF4VmFsYFxuICogQHBhcmFtIHtudW1iZXJ9IG1pblZhbCAtIE1pbmltdW0gb3V0cHV0IHZhbHVlIC0gaWYgdmFsPW1pblZhbCwgcmV0dXJucyAwXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4VmFsIC0gTWF4aW11bSBvdXRwdXQgdmFsdWUgLSBpZiB2YWw9bWF4VmFsLCByZXR1cm5zIDEwMFxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gTGluZWFybHkgc2NhbGluZyBudW1iZXIgZnJvbSAwIHRvIDEwMCBiYXNlZCBvbiBgdmFsYC5cbiAqL1xuZnVuY3Rpb24gcG9zRnJvbUxvZ2FyaXRobWljVmFsdWUodmFsLCBtaW5WYWwsIG1heFZhbCkge1xuICAgIGlmICh2YWwgPD0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3QgbWluID0gTWF0aC5sb2coTWF0aC5tYXgobWluVmFsLCAxKSk7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5sb2cobWF4VmFsKTtcbiAgICBjb25zdCBzY2FsZSA9IChtYXggLSBtaW4pIC8gMTAwOyAvLyBtYXgtbWluIHZhbHVlIC8gbWF4LW1pbiBwb3NpdGlvbiAoMTAwLTAgPSAwKVxuICAgIHJldHVybiBNYXRoLnJvdW5kKChNYXRoLmxvZyh2YWwpIC0gbWluKSAvIHNjYWxlKTtcbn1cbmV4cG9ydHMucG9zRnJvbUxvZ2FyaXRobWljVmFsdWUgPSBwb3NGcm9tTG9nYXJpdGhtaWNWYWx1ZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZW1vdmVFbGVtZW50ID0gZXhwb3J0cy5jbGVhckFsbENoaWxkcmVuID0gZXhwb3J0cy5jcmVhdGVDaGlsZCA9IGV4cG9ydHMuYXR0YWNoSHRtbFRvID0gZXhwb3J0cy5hdHRhY2hIdG1sVG9SZWYgPSBleHBvcnRzLnN0cmluZ1RvSHRtbCA9IHZvaWQgMDtcbi8qKipcbiAqIENvbnZlcnQgSFRNTCBmb3JtYXR0ZWQgc3RyaW5nIHRvIEhUTUwgZWxlbWVudFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBzdHJpbmcgdG8gY29udmVydFxuICogQHJldHVybnMge0hUTUxDb2xsZWN0aW9ufSAtIGNvbGxlY3Rpb24gb2YgSFRNTCBlbGVtZW50cyBjcmVhdGVkIGZyb20gYHN0cmBcbiAqL1xuZnVuY3Rpb24gc3RyaW5nVG9IdG1sKHN0cikge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN0ciwgJ3RleHQvaHRtbCcpO1xuICAgIC8vIFBhcnNlciBhZGRzIGEgPGJvZHk+IHRhZyB0byB0aGUgZG9jdW1lbnQsIHdlIGp1c3Qgd2FudCB0aGUgY2hpbGRyZW5cbiAgICByZXR1cm4gZG9jLmJvZHkuY2hpbGRyZW47XG59XG5leHBvcnRzLnN0cmluZ1RvSHRtbCA9IHN0cmluZ1RvSHRtbDtcbi8qKipcbiAqIEF0dGFjaCBIVE1MIHRvIGFub3RoZXIgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgSFRNTENvbGxlY3Rpb259IGh0bWwgLSBIVE1MIG9iamVjdCB0byBhdHRhY2hcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgICAgICAgICAgcmVmICAtIEhUTUwgZWxlbWVudCB0byBhdHRhY2ggdGhlIG5ldyBIVE1MIHRvXG4gKi9cbmZ1bmN0aW9uIGF0dGFjaEh0bWxUb1JlZihodG1sLCByZWYpIHtcbiAgICBpZiAoaHRtbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHJlZi5hcHBlbmRDaGlsZChodG1sKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaHRtbCBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uKSB7XG4gICAgICAgIGxldCBhcnIgPSBBcnJheS5mcm9tKGh0bWwpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGFycltpXTtcbiAgICAgICAgICAgIHJlZi5hcHBlbmRDaGlsZChpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuYXR0YWNoSHRtbFRvUmVmID0gYXR0YWNoSHRtbFRvUmVmO1xuLyoqKlxuICogQXR0YWNoIEhUTUwgdG8gYW4gZXhpc3RpbmcgZWxlbWVudCBvbiBwYWdlIGlkZW50aWZpZWQgYnkgYW4gSURcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgSFRNTENvbGxlY3Rpb259IGh0bWwgICAgIC0gSFRNTCBvYmplY3QgdG8gYXR0YWNoXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgICAgICAgICAgICAgICAgICAgIHRhcmdldElEIC0gSUQgb2YgYW4gZXhpc3RpbmcgSFRNTCBlbGVtZW50IHRvIGF0dGFjaFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBuZXcgSFRNTCB0by4gTmV3IEhUTUwgd2lsbCBiZSBhdHRhY2hlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzIGNoaWxkcmVuIHRvIHRoZSBlbGVtZW50LiBJZiBhbiBlbGVtZW50IHdpdGhcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaXZlbiBJRCBkb2VzIG5vdCBleGlzdCwgSFRNTCB3aWxsIG5vdCBiZSBhZGRlZC5cbiAqL1xuZnVuY3Rpb24gYXR0YWNoSHRtbFRvKGh0bWwsIHRhcmdldElEKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0SUQpO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgYXR0YWNoSHRtbFRvUmVmKGh0bWwsIHRhcmdldCk7XG4gICAgfVxufVxuZXhwb3J0cy5hdHRhY2hIdG1sVG8gPSBhdHRhY2hIdG1sVG87XG4vKioqXG4gKiBDb252ZXJ0IHN0cmluZyBpbnRvIEhUTUwgYW5kIGF0dGFjaCBpdCBhcyBhIGNoaWxkIHRvIGFub3RoZXIgZWxlbWVudFxuICogaWRlbnRpZmllZCBieSBDU1MgSUQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFZhbGlkIEhUTUwgaW4gYSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJlbnRJRCAtIElEIG9mIHRoZSBlbGVtZW50IHRvIGF0dGFjaCB0aGUgbmV3IEhUTUwgdG9cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2hpbGQoc3RyLCBwYXJlbnRJRCkge1xuICAgIGF0dGFjaEh0bWxUbyhzdHJpbmdUb0h0bWwoc3RyKSwgcGFyZW50SUQpO1xufVxuZXhwb3J0cy5jcmVhdGVDaGlsZCA9IGNyZWF0ZUNoaWxkO1xuLyoqKlxuICogUmVtb3ZlIGFsbCBjaGlsZHJlbiBvZiBhIGdpdmVuIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IGEgQ1NTIGlkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkOiBDU1MgSUQgb2YgYW4gZWxlbWVudCwgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIHJlbW92ZWQuXG4gKiAqL1xuZnVuY3Rpb24gY2xlYXJBbGxDaGlsZHJlbihpZCkge1xuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgICAgZWxlbS5pbm5lckhUTUwgPSAnJztcbiAgICB9XG59XG5leHBvcnRzLmNsZWFyQWxsQ2hpbGRyZW4gPSBjbGVhckFsbENoaWxkcmVuO1xuLyoqKlxuICogUmVtb3ZlIGVsZW1lbnQgZnJvbSBwYWdlLiBEb2VzIG5vdCB3b3JrIGZvciB0b3AtbGV2ZWwgZWxlbWVudHMgdGhhdCBkbyBub3RcbiAqIGhhdmUgcGFyZW50IGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZiAtIEVsZW1lbnQgdG8gcmVtb3ZlXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQocmVmKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IHJlZi5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2hpbGQocmVmKTtcbn1cbmV4cG9ydHMucmVtb3ZlRWxlbWVudCA9IHJlbW92ZUVsZW1lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZm9ybWF0U0lVbml0TnVtYmVyID0gdm9pZCAwO1xuLyoqKlxuICogRm9ybWF0IGEgbnVtYmVyIHRvIGFuIFNJIHVuaXQgZm9ybWF0LiBPbmx5IHN1cHBvcnRzIHVuaXQgcHJlZml4ZXMgaywgTSwgRyBhbmQgVC5cbiAqIEBleGFtcGxlXG4gKiAvLyByZXR1cm5zICcyNS4xIE1icHMnXG4gKiBmb3JtYXRTSVVuaXROdW1iZXIoMjUxMDAwMTUsIDIsICdicHMnKTtcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtICAgICAgICAgLSBOdW1iZXIgdG8gZm9ybWF0XG4gKiBAcGFyYW0ge251bWJlcn0gbWF4RGVjaW1hbHMgLSBNYXhpbXVtIG51bWJlciBvZiBkZWNpbWFsIHNwYWNlc1xuICogQHBhcmFtIHtzdHJpbmd9IHVuaXQgICAgICAgIC0gT3B0aW9uYWwgdW5pdCB0byBwdXQgYWZ0ZXIgdGhlIG51bWJlci4gRW1wdHkgc3RyaW5nIGJ5IGRlZmF1bHQuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gICAgICAgICAgIC0gYG51bWAgd2l0aCBhbiBTSSBwcmVmaXgsIHJvdW5kZWQgdG8gc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFscy5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0U0lVbml0TnVtYmVyKG51bSwgbWF4RGVjaW1hbHMsIHVuaXQgPSAnJykge1xuICAgIGlmIChudW0gPj0gMTAwMDAwMDAwMDAwMCkge1xuICAgICAgICByZXR1cm4gKHJvdW5kVG9QcmVjaXNpb24obnVtIC8gMTAwMDAwMDAwMDAwMCwgbWF4RGVjaW1hbHMpKS50b1N0cmluZygpICsgJyBUJyArIHVuaXQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKG51bSA+PSAxMDAwMDAwMDAwKSB7XG4gICAgICAgIHJldHVybiAocm91bmRUb1ByZWNpc2lvbihudW0gLyAxMDAwMDAwMDAwLCBtYXhEZWNpbWFscykpLnRvU3RyaW5nKCkgKyAnIEcnICsgdW5pdDtcbiAgICB9XG4gICAgZWxzZSBpZiAobnVtID49IDEwMDAwMDApIHtcbiAgICAgICAgcmV0dXJuIChyb3VuZFRvUHJlY2lzaW9uKG51bSAvIDEwMDAwMDAsIG1heERlY2ltYWxzKSkudG9TdHJpbmcoKSArICcgTScgKyB1bml0O1xuICAgIH1cbiAgICBlbHNlIGlmIChudW0gPj0gMTAwMCkge1xuICAgICAgICByZXR1cm4gKHJvdW5kVG9QcmVjaXNpb24obnVtIC8gMTAwMCwgbWF4RGVjaW1hbHMpKS50b1N0cmluZygpICsgJyBrJyArIHVuaXQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKHJvdW5kVG9QcmVjaXNpb24obnVtLCBtYXhEZWNpbWFscykpLnRvU3RyaW5nKCkgKyAnICcgKyB1bml0O1xuICAgIH1cbn1cbmV4cG9ydHMuZm9ybWF0U0lVbml0TnVtYmVyID0gZm9ybWF0U0lVbml0TnVtYmVyO1xuLyoqKlxuICogUm91bmQgYSBudW1iZXIgdG8gdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgZGVjaW1hbHMuXG4gKiBAZXhhbXBsZVxuICogLy8gcmV0dXJucyAxMi4zNVxuICogcm91bmRUb1ByZWNpc2lvbigxMi4zNDU2Nzg5LCAyKVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAgICAgLSB2YWx1ZSB0byByb3VuZFxuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIG51bWJlciBvZiBkZWNpbWFscyB0byByb3VuZCB0b1xuICogQHJldHVybnMge251bWJlcn0gICAgICAgICAtIGB2YWx1ZWAgcm91bmRlZCB0byBgcHJlY2lzaW9uYCBkZWNpbWFsc1xuICovXG5mdW5jdGlvbiByb3VuZFRvUHJlY2lzaW9uKHZhbHVlLCBwcmVjaXNpb24pIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbiB8fCAwKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIG11bHRpcGxpZXIpIC8gbXVsdGlwbGllcjtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZpbGxPcmdhbml6YXRpb24gPSBleHBvcnRzLnN3aXRjaEZvY3VzT25LZXlwcmVzcyA9IGV4cG9ydHMuc2hvd0ZpZWxkSWYgPSBleHBvcnRzLnVwZGF0ZVJhbmdlVmFsVGV4dCA9IGV4cG9ydHMudmFsaWRhdGVGaWVsZCA9IGV4cG9ydHMuYmVmb3JlSVBGb3JtU2VuZCA9IGV4cG9ydHMuY2hhbmdlQWR2YW5jZWRPcHRpb25zVGV4dCA9IGV4cG9ydHMuRERQUHJlc2V0U2VsZWN0Rm9ybSA9IGV4cG9ydHMuRERQUHJlc2V0RWRpdEZvcm0gPSBleHBvcnRzLnNob3dQcmVzZXRNb2RhbCA9IHZvaWQgMDtcbmNvbnN0IGJvb3RzdHJhcF8xID0gcmVxdWlyZShcImJvb3RzdHJhcFwiKTtcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IHRvb2x0aXBUcmlnZ2VyTGlzdCA9IFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtYnMtdG9nZ2xlPVwidG9vbHRpcFwiXScpKTtcbiAgICBsZXQgdG9vbHRpcExpc3QgPSB0b29sdGlwVHJpZ2dlckxpc3QubWFwKGZ1bmN0aW9uICh0b29sdGlwVHJpZ2dlckVsKSB7XG4gICAgICAgIHJldHVybiBuZXcgYm9vdHN0cmFwXzEuVG9vbHRpcCh0b29sdGlwVHJpZ2dlckVsKTtcbiAgICB9KTtcbn07XG52YXIgZGRwX3ByZXNldHNfMSA9IHJlcXVpcmUoXCIuL2RkcC9kZHBfcHJlc2V0c1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNob3dQcmVzZXRNb2RhbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGRwX3ByZXNldHNfMS5zaG93UHJlc2V0TW9kYWw7IH0gfSk7XG52YXIgZGRwX3ByZXNldF9lZGl0X2Zvcm1fMSA9IHJlcXVpcmUoXCIuL2RkcC9kZHBfcHJlc2V0X2VkaXRfZm9ybVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkREUFByZXNldEVkaXRGb3JtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZHBfcHJlc2V0X2VkaXRfZm9ybV8xLkREUFByZXNldEVkaXRGb3JtOyB9IH0pO1xudmFyIGRkcF9wcmVzZXRfc2VsZWN0X2Zvcm1fMSA9IHJlcXVpcmUoXCIuL2RkcC9kZHBfcHJlc2V0X3NlbGVjdF9mb3JtXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRERQUHJlc2V0U2VsZWN0Rm9ybVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGRwX3ByZXNldF9zZWxlY3RfZm9ybV8xLkREUFByZXNldFNlbGVjdEZvcm07IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjaGFuZ2VBZHZhbmNlZE9wdGlvbnNUZXh0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkZHBfcHJlc2V0X3NlbGVjdF9mb3JtXzEuY2hhbmdlQWR2YW5jZWRPcHRpb25zVGV4dDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJlZm9yZUlQRm9ybVNlbmRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRkcF9wcmVzZXRfc2VsZWN0X2Zvcm1fMS5iZWZvcmVJUEZvcm1TZW5kOyB9IH0pO1xudmFyIHZhbGlkYXRvcnNfMSA9IHJlcXVpcmUoXCIuL2RkcC92YWxpZGF0b3JzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidmFsaWRhdGVGaWVsZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsaWRhdG9yc18xLnZhbGlkYXRlRmllbGQ7IH0gfSk7XG52YXIgZGRwX2lucHV0c18xID0gcmVxdWlyZShcIi4vZGRwL2RkcF9pbnB1dHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ1cGRhdGVSYW5nZVZhbFRleHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRkcF9pbnB1dHNfMS51cGRhdGVSYW5nZVZhbFRleHQ7IH0gfSk7XG52YXIgZm9ybXNfMSA9IHJlcXVpcmUoXCIuL2Zvcm1zXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic2hvd0ZpZWxkSWZcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZvcm1zXzEuc2hvd0ZpZWxkSWY7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzd2l0Y2hGb2N1c09uS2V5cHJlc3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZvcm1zXzEuc3dpdGNoRm9jdXNPbktleXByZXNzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmlsbE9yZ2FuaXphdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZm9ybXNfMS5maWxsT3JnYW5pemF0aW9uOyB9IH0pO1xuIl0sIm5hbWVzIjpbImJvdHRvbSIsInJpZ2h0IiwibGVmdCIsImF1dG8iLCJiYXNlUGxhY2VtZW50cyIsInN0YXJ0IiwiZW5kIiwiY2xpcHBpbmdQYXJlbnRzIiwidmlld3BvcnQiLCJwb3BwZXIiLCJyZWZlcmVuY2UiLCJ2YXJpYXRpb25QbGFjZW1lbnRzIiwicmVkdWNlIiwiYWNjIiwicGxhY2VtZW50IiwiY29uY2F0IiwiYmVmb3JlUmVhZCIsInJlYWQiLCJhZnRlclJlYWQiLCJiZWZvcmVNYWluIiwibWFpbiIsImFmdGVyTWFpbiIsImJlZm9yZVdyaXRlIiwid3JpdGUiLCJhZnRlcldyaXRlIiwibW9kaWZpZXJQaGFzZXMiLCJnZXROb2RlTmFtZSIsImVsZW1lbnQiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwiZ2V0V2luZG93Iiwibm9kZSIsIndpbmRvdyIsInRvU3RyaW5nIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiaXNFbGVtZW50IiwiRWxlbWVudCIsImlzSFRNTEVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImlzU2hhZG93Um9vdCIsIlNoYWRvd1Jvb3QiLCJuYW1lIiwiZW5hYmxlZCIsInBoYXNlIiwiZm4iLCJfcmVmIiwic3RhdGUiLCJPYmplY3QiLCJrZXlzIiwiZWxlbWVudHMiLCJmb3JFYWNoIiwic3R5bGUiLCJzdHlsZXMiLCJhdHRyaWJ1dGVzIiwiYXNzaWduIiwidmFsdWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJlZmZlY3QiLCJfcmVmMiIsImluaXRpYWxTdHlsZXMiLCJwb3NpdGlvbiIsIm9wdGlvbnMiLCJzdHJhdGVneSIsInRvcCIsIm1hcmdpbiIsImFycm93IiwiaGFzT3duUHJvcGVydHkiLCJwcm9wZXJ0eSIsImF0dHJpYnV0ZSIsInJlcXVpcmVzIiwiZ2V0QmFzZVBsYWNlbWVudCIsInNwbGl0IiwiTWF0aCIsIm1heCIsIm1pbiIsInJvdW5kIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiaW5jbHVkZVNjYWxlIiwicmVjdCIsInNjYWxlWCIsInNjYWxlWSIsIm9mZnNldEhlaWdodCIsIm9mZnNldFdpZHRoIiwid2lkdGgiLCJoZWlnaHQiLCJ4IiwieSIsImdldExheW91dFJlY3QiLCJjbGllbnRSZWN0IiwiYWJzIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsImNvbnRhaW5zIiwicGFyZW50IiwiY2hpbGQiLCJyb290Tm9kZSIsImdldFJvb3ROb2RlIiwibmV4dCIsImlzU2FtZU5vZGUiLCJwYXJlbnROb2RlIiwiaG9zdCIsImdldENvbXB1dGVkU3R5bGUiLCJpc1RhYmxlRWxlbWVudCIsImluZGV4T2YiLCJnZXREb2N1bWVudEVsZW1lbnQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImdldFBhcmVudE5vZGUiLCJhc3NpZ25lZFNsb3QiLCJnZXRUcnVlT2Zmc2V0UGFyZW50Iiwib2Zmc2V0UGFyZW50IiwiZ2V0T2Zmc2V0UGFyZW50IiwiaXNGaXJlZm94IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY3VycmVudE5vZGUiLCJjc3MiLCJ0cmFuc2Zvcm0iLCJwZXJzcGVjdGl2ZSIsImNvbnRhaW4iLCJ3aWxsQ2hhbmdlIiwiZmlsdGVyIiwiZ2V0Q29udGFpbmluZ0Jsb2NrIiwiZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50Iiwid2l0aGluIiwibWVyZ2VQYWRkaW5nT2JqZWN0IiwicGFkZGluZ09iamVjdCIsImV4cGFuZFRvSGFzaE1hcCIsImhhc2hNYXAiLCJrZXkiLCJfc3RhdGUkbW9kaWZpZXJzRGF0YSQiLCJhcnJvd0VsZW1lbnQiLCJwb3BwZXJPZmZzZXRzIiwibW9kaWZpZXJzRGF0YSIsImJhc2VQbGFjZW1lbnQiLCJheGlzIiwibGVuIiwicGFkZGluZyIsInJlY3RzIiwidG9QYWRkaW5nT2JqZWN0IiwiYXJyb3dSZWN0IiwibWluUHJvcCIsIm1heFByb3AiLCJlbmREaWZmIiwic3RhcnREaWZmIiwiYXJyb3dPZmZzZXRQYXJlbnQiLCJjbGllbnRTaXplIiwiY2xpZW50SGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjZW50ZXJUb1JlZmVyZW5jZSIsImNlbnRlciIsIm9mZnNldCIsImF4aXNQcm9wIiwiY2VudGVyT2Zmc2V0IiwiX29wdGlvbnMkZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJyZXF1aXJlc0lmRXhpc3RzIiwiZ2V0VmFyaWF0aW9uIiwidW5zZXRTaWRlcyIsIm1hcFRvU3R5bGVzIiwiX09iamVjdCRhc3NpZ24yIiwicG9wcGVyUmVjdCIsInZhcmlhdGlvbiIsIm9mZnNldHMiLCJncHVBY2NlbGVyYXRpb24iLCJhZGFwdGl2ZSIsInJvdW5kT2Zmc2V0cyIsImlzRml4ZWQiLCJfb2Zmc2V0cyR4IiwiX29mZnNldHMkeSIsIl9yZWYzIiwiaGFzWCIsImhhc1kiLCJzaWRlWCIsInNpZGVZIiwid2luIiwiaGVpZ2h0UHJvcCIsIndpZHRoUHJvcCIsInZpc3VhbFZpZXdwb3J0IiwiX09iamVjdCRhc3NpZ24iLCJjb21tb25TdHlsZXMiLCJfcmVmNCIsImRwciIsImRldmljZVBpeGVsUmF0aW8iLCJyb3VuZE9mZnNldHNCeURQUiIsIl9yZWY1IiwiX29wdGlvbnMkZ3B1QWNjZWxlcmF0IiwiX29wdGlvbnMkYWRhcHRpdmUiLCJfb3B0aW9ucyRyb3VuZE9mZnNldHMiLCJkYXRhIiwicGFzc2l2ZSIsImluc3RhbmNlIiwiX29wdGlvbnMkc2Nyb2xsIiwic2Nyb2xsIiwiX29wdGlvbnMkcmVzaXplIiwicmVzaXplIiwic2Nyb2xsUGFyZW50cyIsInNjcm9sbFBhcmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1cGRhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFzaCIsImdldE9wcG9zaXRlUGxhY2VtZW50IiwicmVwbGFjZSIsIm1hdGNoZWQiLCJnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudCIsImdldFdpbmRvd1Njcm9sbCIsInNjcm9sbExlZnQiLCJwYWdlWE9mZnNldCIsInNjcm9sbFRvcCIsInBhZ2VZT2Zmc2V0IiwiZ2V0V2luZG93U2Nyb2xsQmFyWCIsImlzU2Nyb2xsUGFyZW50IiwiX2dldENvbXB1dGVkU3R5bGUiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsInRlc3QiLCJnZXRTY3JvbGxQYXJlbnQiLCJib2R5IiwibGlzdFNjcm9sbFBhcmVudHMiLCJsaXN0IiwiX2VsZW1lbnQkb3duZXJEb2N1bWVuIiwiaXNCb2R5IiwidGFyZ2V0IiwidXBkYXRlZExpc3QiLCJyZWN0VG9DbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdEZyb21NaXhlZFR5cGUiLCJjbGlwcGluZ1BhcmVudCIsImh0bWwiLCJnZXRWaWV3cG9ydFJlY3QiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0IiwiZ2V0SW5uZXJCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aW5TY3JvbGwiLCJzY3JvbGxXaWR0aCIsInNjcm9sbEhlaWdodCIsImRpcmVjdGlvbiIsImdldERvY3VtZW50UmVjdCIsImNvbXB1dGVPZmZzZXRzIiwiY29tbW9uWCIsImNvbW1vblkiLCJtYWluQXhpcyIsImRldGVjdE92ZXJmbG93IiwiX29wdGlvbnMiLCJfb3B0aW9ucyRwbGFjZW1lbnQiLCJfb3B0aW9ucyRib3VuZGFyeSIsImJvdW5kYXJ5IiwiX29wdGlvbnMkcm9vdEJvdW5kYXJ5Iiwicm9vdEJvdW5kYXJ5IiwiX29wdGlvbnMkZWxlbWVudENvbnRlIiwiZWxlbWVudENvbnRleHQiLCJfb3B0aW9ucyRhbHRCb3VuZGFyeSIsImFsdEJvdW5kYXJ5IiwiX29wdGlvbnMkcGFkZGluZyIsImFsdENvbnRleHQiLCJjbGlwcGluZ0NsaWVudFJlY3QiLCJtYWluQ2xpcHBpbmdQYXJlbnRzIiwiY2xpcHBlckVsZW1lbnQiLCJnZXRDbGlwcGluZ1BhcmVudHMiLCJmaXJzdENsaXBwaW5nUGFyZW50IiwiY2xpcHBpbmdSZWN0IiwiYWNjUmVjdCIsImdldENsaXBwaW5nUmVjdCIsImNvbnRleHRFbGVtZW50IiwicmVmZXJlbmNlQ2xpZW50UmVjdCIsInBvcHBlckNsaWVudFJlY3QiLCJlbGVtZW50Q2xpZW50UmVjdCIsIm92ZXJmbG93T2Zmc2V0cyIsIm9mZnNldERhdGEiLCJtdWx0aXBseSIsIl9za2lwIiwiX29wdGlvbnMkbWFpbkF4aXMiLCJjaGVja01haW5BeGlzIiwiX29wdGlvbnMkYWx0QXhpcyIsImFsdEF4aXMiLCJjaGVja0FsdEF4aXMiLCJzcGVjaWZpZWRGYWxsYmFja1BsYWNlbWVudHMiLCJmYWxsYmFja1BsYWNlbWVudHMiLCJfb3B0aW9ucyRmbGlwVmFyaWF0aW8iLCJmbGlwVmFyaWF0aW9ucyIsImFsbG93ZWRBdXRvUGxhY2VtZW50cyIsInByZWZlcnJlZFBsYWNlbWVudCIsIm9wcG9zaXRlUGxhY2VtZW50IiwiZ2V0RXhwYW5kZWRGYWxsYmFja1BsYWNlbWVudHMiLCJwbGFjZW1lbnRzIiwiX29wdGlvbnMkYWxsb3dlZEF1dG9QIiwiYWxsb3dlZFBsYWNlbWVudHMiLCJsZW5ndGgiLCJvdmVyZmxvd3MiLCJzb3J0IiwiYSIsImIiLCJjb21wdXRlQXV0b1BsYWNlbWVudCIsInJlZmVyZW5jZVJlY3QiLCJjaGVja3NNYXAiLCJNYXAiLCJtYWtlRmFsbGJhY2tDaGVja3MiLCJmaXJzdEZpdHRpbmdQbGFjZW1lbnQiLCJpIiwiX2Jhc2VQbGFjZW1lbnQiLCJpc1N0YXJ0VmFyaWF0aW9uIiwiaXNWZXJ0aWNhbCIsIm1haW5WYXJpYXRpb25TaWRlIiwiYWx0VmFyaWF0aW9uU2lkZSIsImNoZWNrcyIsInB1c2giLCJldmVyeSIsImNoZWNrIiwic2V0IiwiX2xvb3AiLCJfaSIsImZpdHRpbmdQbGFjZW1lbnQiLCJmaW5kIiwiZ2V0Iiwic2xpY2UiLCJyZXNldCIsImdldFNpZGVPZmZzZXRzIiwicHJldmVudGVkT2Zmc2V0cyIsImlzQW55U2lkZUZ1bGx5Q2xpcHBlZCIsInNvbWUiLCJzaWRlIiwicHJldmVudE92ZXJmbG93IiwicmVmZXJlbmNlT3ZlcmZsb3ciLCJwb3BwZXJBbHRPdmVyZmxvdyIsInJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyIsInBvcHBlckVzY2FwZU9mZnNldHMiLCJpc1JlZmVyZW5jZUhpZGRlbiIsImhhc1BvcHBlckVzY2FwZWQiLCJfb3B0aW9ucyRvZmZzZXQiLCJpbnZlcnREaXN0YW5jZSIsInNraWRkaW5nIiwiZGlzdGFuY2UiLCJkaXN0YW5jZUFuZFNraWRkaW5nVG9YWSIsIl9kYXRhJHN0YXRlJHBsYWNlbWVudCIsIl9vcHRpb25zJHRldGhlciIsInRldGhlciIsIl9vcHRpb25zJHRldGhlck9mZnNldCIsInRldGhlck9mZnNldCIsImlzQmFzZVBsYWNlbWVudCIsInRldGhlck9mZnNldFZhbHVlIiwibm9ybWFsaXplZFRldGhlck9mZnNldFZhbHVlIiwib2Zmc2V0TW9kaWZpZXJTdGF0ZSIsIl9vZmZzZXRNb2RpZmllclN0YXRlJCIsIm1haW5TaWRlIiwiYWx0U2lkZSIsImFkZGl0aXZlIiwibWluTGVuIiwibWF4TGVuIiwiYXJyb3dQYWRkaW5nT2JqZWN0IiwiYXJyb3dQYWRkaW5nTWluIiwiYXJyb3dQYWRkaW5nTWF4IiwiYXJyb3dMZW4iLCJtaW5PZmZzZXQiLCJtYXhPZmZzZXQiLCJjbGllbnRPZmZzZXQiLCJvZmZzZXRNb2RpZmllclZhbHVlIiwidGV0aGVyTWF4IiwicHJldmVudGVkT2Zmc2V0IiwiX29mZnNldE1vZGlmaWVyU3RhdGUkMiIsIl9tYWluU2lkZSIsIl9hbHRTaWRlIiwiX29mZnNldCIsIl9sZW4iLCJfbWluIiwiX21heCIsImlzT3JpZ2luU2lkZSIsIl9vZmZzZXRNb2RpZmllclZhbHVlIiwiX3RldGhlck1pbiIsIl90ZXRoZXJNYXgiLCJfcHJldmVudGVkT2Zmc2V0IiwidiIsIndpdGhpbk1heENsYW1wIiwiZ2V0Q29tcG9zaXRlUmVjdCIsImVsZW1lbnRPclZpcnR1YWxFbGVtZW50IiwiaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQiLCJvZmZzZXRQYXJlbnRJc1NjYWxlZCIsImlzRWxlbWVudFNjYWxlZCIsIm9yZGVyIiwibW9kaWZpZXJzIiwibWFwIiwidmlzaXRlZCIsIlNldCIsInJlc3VsdCIsIm1vZGlmaWVyIiwiYWRkIiwiZGVwIiwiaGFzIiwiZGVwTW9kaWZpZXIiLCJERUZBVUxUX09QVElPTlMiLCJhcmVWYWxpZEVsZW1lbnRzIiwiYXJndW1lbnRzIiwiYXJncyIsIkFycmF5IiwiX2tleSIsInBvcHBlckdlbmVyYXRvciIsImdlbmVyYXRvck9wdGlvbnMiLCJfZ2VuZXJhdG9yT3B0aW9ucyIsIl9nZW5lcmF0b3JPcHRpb25zJGRlZiIsImRlZmF1bHRNb2RpZmllcnMiLCJfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyIiwiZGVmYXVsdE9wdGlvbnMiLCJwZW5kaW5nIiwib3JkZXJlZE1vZGlmaWVycyIsImVmZmVjdENsZWFudXBGbnMiLCJpc0Rlc3Ryb3llZCIsInNldE9wdGlvbnMiLCJzZXRPcHRpb25zQWN0aW9uIiwiY2xlYW51cE1vZGlmaWVyRWZmZWN0cyIsIm1lcmdlZCIsIm9yZGVyTW9kaWZpZXJzIiwiY3VycmVudCIsImV4aXN0aW5nIiwibSIsIl9yZWYzJG9wdGlvbnMiLCJjbGVhbnVwRm4iLCJmb3JjZVVwZGF0ZSIsIl9zdGF0ZSRlbGVtZW50cyIsImluZGV4IiwiX3N0YXRlJG9yZGVyZWRNb2RpZmllIiwiX3N0YXRlJG9yZGVyZWRNb2RpZmllMiIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInVuZGVmaW5lZCIsImRlc3Ryb3kiLCJvbkZpcnN0VXBkYXRlIiwiY3JlYXRlUG9wcGVyIiwiZXZlbnRMaXN0ZW5lcnMiLCJUUkFOU0lUSU9OX0VORCIsImdldFNlbGVjdG9yIiwic2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJocmVmQXR0cmlidXRlIiwiaW5jbHVkZXMiLCJzdGFydHNXaXRoIiwidHJpbSIsImdldFNlbGVjdG9yRnJvbUVsZW1lbnQiLCJnZXRFbGVtZW50RnJvbVNlbGVjdG9yIiwidHJpZ2dlclRyYW5zaXRpb25FbmQiLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJvYmplY3QiLCJqcXVlcnkiLCJub2RlVHlwZSIsImdldEVsZW1lbnQiLCJpc1Zpc2libGUiLCJnZXRDbGllbnRSZWN0cyIsImVsZW1lbnRJc1Zpc2libGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiY2xvc2VkRGV0YWlscyIsImNsb3Nlc3QiLCJzdW1tYXJ5IiwiaXNEaXNhYmxlZCIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJjbGFzc0xpc3QiLCJkaXNhYmxlZCIsImhhc0F0dHJpYnV0ZSIsImZpbmRTaGFkb3dSb290IiwiYXR0YWNoU2hhZG93Iiwicm9vdCIsIm5vb3AiLCJyZWZsb3ciLCJnZXRqUXVlcnkiLCJqUXVlcnkiLCJET01Db250ZW50TG9hZGVkQ2FsbGJhY2tzIiwiaXNSVEwiLCJkaXIiLCJkZWZpbmVKUXVlcnlQbHVnaW4iLCJwbHVnaW4iLCJjYWxsYmFjayIsIiQiLCJOQU1FIiwiSlFVRVJZX05PX0NPTkZMSUNUIiwialF1ZXJ5SW50ZXJmYWNlIiwiQ29uc3RydWN0b3IiLCJub0NvbmZsaWN0IiwicmVhZHlTdGF0ZSIsImV4ZWN1dGUiLCJleGVjdXRlQWZ0ZXJUcmFuc2l0aW9uIiwidHJhbnNpdGlvbkVsZW1lbnQiLCJ3YWl0Rm9yVHJhbnNpdGlvbiIsImVtdWxhdGVkRHVyYXRpb24iLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJ0cmFuc2l0aW9uRGVsYXkiLCJmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJmbG9hdFRyYW5zaXRpb25EZWxheSIsImdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50IiwiY2FsbGVkIiwiaGFuZGxlciIsInNldFRpbWVvdXQiLCJnZXROZXh0QWN0aXZlRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJzaG91bGRHZXROZXh0IiwiaXNDeWNsZUFsbG93ZWQiLCJsaXN0TGVuZ3RoIiwibmFtZXNwYWNlUmVnZXgiLCJzdHJpcE5hbWVSZWdleCIsInN0cmlwVWlkUmVnZXgiLCJldmVudFJlZ2lzdHJ5IiwidWlkRXZlbnQiLCJjdXN0b21FdmVudHMiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm5hdGl2ZUV2ZW50cyIsIm1ha2VFdmVudFVpZCIsInVpZCIsImdldEVsZW1lbnRFdmVudHMiLCJmaW5kSGFuZGxlciIsImV2ZW50cyIsImNhbGxhYmxlIiwiZGVsZWdhdGlvblNlbGVjdG9yIiwidmFsdWVzIiwiZXZlbnQiLCJub3JtYWxpemVQYXJhbWV0ZXJzIiwib3JpZ2luYWxUeXBlRXZlbnQiLCJkZWxlZ2F0aW9uRnVuY3Rpb24iLCJpc0RlbGVnYXRlZCIsInR5cGVFdmVudCIsImdldFR5cGVFdmVudCIsImFkZEhhbmRsZXIiLCJvbmVPZmYiLCJ3cmFwRnVuY3Rpb24iLCJyZWxhdGVkVGFyZ2V0IiwiZGVsZWdhdGVUYXJnZXQiLCJjYWxsIiwidGhpcyIsImhhbmRsZXJzIiwicHJldmlvdXNGdW5jdGlvbiIsImRvbUVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImRvbUVsZW1lbnQiLCJoeWRyYXRlT2JqIiwiRXZlbnRIYW5kbGVyIiwib2ZmIiwidHlwZSIsImFwcGx5IiwiYm9vdHN0cmFwRGVsZWdhdGlvbkhhbmRsZXIiLCJib290c3RyYXBIYW5kbGVyIiwicmVtb3ZlSGFuZGxlciIsIkJvb2xlYW4iLCJyZW1vdmVOYW1lc3BhY2VkSGFuZGxlcnMiLCJuYW1lc3BhY2UiLCJzdG9yZUVsZW1lbnRFdmVudCIsImhhbmRsZXJLZXkiLCJvbiIsIm9uZSIsImluTmFtZXNwYWNlIiwiaXNOYW1lc3BhY2UiLCJlbGVtZW50RXZlbnQiLCJrZXlIYW5kbGVycyIsInRyaWdnZXIiLCJqUXVlcnlFdmVudCIsImJ1YmJsZXMiLCJuYXRpdmVEaXNwYXRjaCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwiaXNEZWZhdWx0UHJldmVudGVkIiwiZXZ0IiwiY2FuY2VsYWJsZSIsInByZXZlbnREZWZhdWx0Iiwib2JqIiwibWV0YSIsImVudHJpZXMiLCJfdW51c2VkIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbGVtZW50TWFwIiwiRGF0YSIsImluc3RhbmNlTWFwIiwic2l6ZSIsImNvbnNvbGUiLCJlcnJvciIsImZyb20iLCJyZW1vdmUiLCJkZWxldGUiLCJub3JtYWxpemVEYXRhIiwiSlNPTiIsInBhcnNlIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwibm9ybWFsaXplRGF0YUtleSIsImNociIsIk1hbmlwdWxhdG9yIiwic2V0RGF0YUF0dHJpYnV0ZSIsInJlbW92ZURhdGFBdHRyaWJ1dGUiLCJnZXREYXRhQXR0cmlidXRlcyIsImJzS2V5cyIsImRhdGFzZXQiLCJwdXJlS2V5IiwiY2hhckF0IiwiZ2V0RGF0YUF0dHJpYnV0ZSIsIkNvbmZpZyIsIkRlZmF1bHQiLCJEZWZhdWx0VHlwZSIsIkVycm9yIiwiX2dldENvbmZpZyIsImNvbmZpZyIsIl9tZXJnZUNvbmZpZ09iaiIsIl9jb25maWdBZnRlck1lcmdlIiwiX3R5cGVDaGVja0NvbmZpZyIsImpzb25Db25maWciLCJjb25zdHJ1Y3RvciIsImNvbmZpZ1R5cGVzIiwiZXhwZWN0ZWRUeXBlcyIsInZhbHVlVHlwZSIsInByb3RvdHlwZSIsIm1hdGNoIiwiUmVnRXhwIiwiVHlwZUVycm9yIiwidG9VcHBlckNhc2UiLCJCYXNlQ29tcG9uZW50Iiwic3VwZXIiLCJfZWxlbWVudCIsIl9jb25maWciLCJEQVRBX0tFWSIsImRpc3Bvc2UiLCJFVkVOVF9LRVkiLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX3F1ZXVlQ2FsbGJhY2siLCJpc0FuaW1hdGVkIiwic3RhdGljIiwiZ2V0SW5zdGFuY2UiLCJWRVJTSU9OIiwiZW5hYmxlRGlzbWlzc1RyaWdnZXIiLCJjb21wb25lbnQiLCJtZXRob2QiLCJjbGlja0V2ZW50IiwidGFnTmFtZSIsImdldE9yQ3JlYXRlSW5zdGFuY2UiLCJBbGVydCIsImNsb3NlIiwiX2Rlc3Ryb3lFbGVtZW50IiwiZWFjaCIsIlNFTEVDVE9SX0RBVEFfVE9HR0xFJDUiLCJCdXR0b24iLCJ0b2dnbGUiLCJidXR0b24iLCJTZWxlY3RvckVuZ2luZSIsImZpbmRPbmUiLCJjaGlsZHJlbiIsIm1hdGNoZXMiLCJwYXJlbnRzIiwiYW5jZXN0b3IiLCJwcmV2IiwicHJldmlvdXMiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZm9jdXNhYmxlQ2hpbGRyZW4iLCJmb2N1c2FibGVzIiwiam9pbiIsImVsIiwiRGVmYXVsdCRjIiwiZW5kQ2FsbGJhY2siLCJsZWZ0Q2FsbGJhY2siLCJyaWdodENhbGxiYWNrIiwiRGVmYXVsdFR5cGUkYyIsIlN3aXBlIiwiaXNTdXBwb3J0ZWQiLCJfZGVsdGFYIiwiX3N1cHBvcnRQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50IiwiX2luaXRFdmVudHMiLCJfc3RhcnQiLCJfZXZlbnRJc1BvaW50ZXJQZW5Ub3VjaCIsImNsaWVudFgiLCJ0b3VjaGVzIiwiX2VuZCIsIl9oYW5kbGVTd2lwZSIsIl9tb3ZlIiwiYWJzRGVsdGFYIiwicG9pbnRlclR5cGUiLCJtYXhUb3VjaFBvaW50cyIsIk9SREVSX05FWFQiLCJPUkRFUl9QUkVWIiwiRElSRUNUSU9OX0xFRlQiLCJESVJFQ1RJT05fUklHSFQiLCJFVkVOVF9TTElEIiwiQ0xBU1NfTkFNRV9DQVJPVVNFTCIsIkNMQVNTX05BTUVfQUNUSVZFJDIiLCJLRVlfVE9fRElSRUNUSU9OIiwiRGVmYXVsdCRiIiwiaW50ZXJ2YWwiLCJrZXlib2FyZCIsInBhdXNlIiwicmlkZSIsInRvdWNoIiwid3JhcCIsIkRlZmF1bHRUeXBlJGIiLCJDYXJvdXNlbCIsIl9pbnRlcnZhbCIsIl9hY3RpdmVFbGVtZW50IiwiX2lzU2xpZGluZyIsInRvdWNoVGltZW91dCIsIl9zd2lwZUhlbHBlciIsIl9pbmRpY2F0b3JzRWxlbWVudCIsIl9hZGRFdmVudExpc3RlbmVycyIsImN5Y2xlIiwiX3NsaWRlIiwibmV4dFdoZW5WaXNpYmxlIiwiaGlkZGVuIiwiX2NsZWFySW50ZXJ2YWwiLCJfdXBkYXRlSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIl9tYXliZUVuYWJsZUN5Y2xlIiwidG8iLCJpdGVtcyIsIl9nZXRJdGVtcyIsImFjdGl2ZUluZGV4IiwiX2dldEl0ZW1JbmRleCIsIl9nZXRBY3RpdmUiLCJkZWZhdWx0SW50ZXJ2YWwiLCJfa2V5ZG93biIsIl9hZGRUb3VjaEV2ZW50TGlzdGVuZXJzIiwiaW1nIiwic3dpcGVDb25maWciLCJfZGlyZWN0aW9uVG9PcmRlciIsImNsZWFyVGltZW91dCIsIl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50IiwiYWN0aXZlSW5kaWNhdG9yIiwibmV3QWN0aXZlSW5kaWNhdG9yIiwiZWxlbWVudEludGVydmFsIiwicGFyc2VJbnQiLCJpc05leHQiLCJuZXh0RWxlbWVudCIsIm5leHRFbGVtZW50SW5kZXgiLCJ0cmlnZ2VyRXZlbnQiLCJldmVudE5hbWUiLCJfb3JkZXJUb0RpcmVjdGlvbiIsImlzQ3ljbGluZyIsImRpcmVjdGlvbmFsQ2xhc3NOYW1lIiwib3JkZXJDbGFzc05hbWUiLCJfaXNBbmltYXRlZCIsIlNFTEVDVE9SX0FDVElWRSIsImNsZWFySW50ZXJ2YWwiLCJjYXJvdXNlbCIsInNsaWRlSW5kZXgiLCJjYXJvdXNlbHMiLCJDTEFTU19OQU1FX1NIT1ckNyIsIkNMQVNTX05BTUVfQ09MTEFQU0UiLCJDTEFTU19OQU1FX0NPTExBUFNJTkciLCJTRUxFQ1RPUl9EQVRBX1RPR0dMRSQ0IiwiRGVmYXVsdCRhIiwiRGVmYXVsdFR5cGUkYSIsIkNvbGxhcHNlIiwiX2lzVHJhbnNpdGlvbmluZyIsIl90cmlnZ2VyQXJyYXkiLCJ0b2dnbGVMaXN0IiwiZWxlbSIsImZpbHRlckVsZW1lbnQiLCJmb3VuZEVsZW1lbnQiLCJfaW5pdGlhbGl6ZUNoaWxkcmVuIiwiX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsIl9pc1Nob3duIiwiaGlkZSIsInNob3ciLCJhY3RpdmVDaGlsZHJlbiIsIl9nZXRGaXJzdExldmVsQ2hpbGRyZW4iLCJhY3RpdmVJbnN0YW5jZSIsImRpbWVuc2lvbiIsIl9nZXREaW1lbnNpb24iLCJzY3JvbGxTaXplIiwic2VsZWN0ZWQiLCJ0cmlnZ2VyQXJyYXkiLCJpc09wZW4iLCJzZWxlY3RvckVsZW1lbnRzIiwiTkFNRSRhIiwiQVJST1dfVVBfS0VZJDEiLCJBUlJPV19ET1dOX0tFWSQxIiwiRVZFTlRfQ0xJQ0tfREFUQV9BUEkkMyIsIkVWRU5UX0tFWURPV05fREFUQV9BUEkiLCJDTEFTU19OQU1FX1NIT1ckNiIsIlNFTEVDVE9SX0RBVEFfVE9HR0xFJDMiLCJTRUxFQ1RPUl9EQVRBX1RPR0dMRV9TSE9XTiIsIlNFTEVDVE9SX01FTlUiLCJQTEFDRU1FTlRfVE9QIiwiUExBQ0VNRU5UX1RPUEVORCIsIlBMQUNFTUVOVF9CT1RUT00iLCJQTEFDRU1FTlRfQk9UVE9NRU5EIiwiUExBQ0VNRU5UX1JJR0hUIiwiUExBQ0VNRU5UX0xFRlQiLCJEZWZhdWx0JDkiLCJhdXRvQ2xvc2UiLCJkaXNwbGF5IiwicG9wcGVyQ29uZmlnIiwiRGVmYXVsdFR5cGUkOSIsIkRyb3Bkb3duIiwiX3BvcHBlciIsIl9wYXJlbnQiLCJfbWVudSIsIl9pbk5hdmJhciIsIl9kZXRlY3ROYXZiYXIiLCJfY3JlYXRlUG9wcGVyIiwiZm9jdXMiLCJfY29tcGxldGVIaWRlIiwicmVmZXJlbmNlRWxlbWVudCIsIl9nZXRQb3BwZXJDb25maWciLCJfZ2V0UGxhY2VtZW50IiwicGFyZW50RHJvcGRvd24iLCJpc0VuZCIsIl9nZXRPZmZzZXQiLCJwb3BwZXJEYXRhIiwiZGVmYXVsdEJzUG9wcGVyQ29uZmlnIiwiX3NlbGVjdE1lbnVJdGVtIiwib3BlblRvZ2dsZXMiLCJjb250ZXh0IiwiY29tcG9zZWRQYXRoIiwiaXNNZW51VGFyZ2V0IiwiaXNJbnB1dCIsImlzRXNjYXBlRXZlbnQiLCJpc1VwT3JEb3duRXZlbnQiLCJnZXRUb2dnbGVCdXR0b24iLCJzdG9wUHJvcGFnYXRpb24iLCJkYXRhQXBpS2V5ZG93bkhhbmRsZXIiLCJjbGVhck1lbnVzIiwiU0VMRUNUT1JfRklYRURfQ09OVEVOVCIsIlNFTEVDVE9SX1NUSUNLWV9DT05URU5UIiwiUFJPUEVSVFlfUEFERElORyIsIlBST1BFUlRZX01BUkdJTiIsIlNjcm9sbEJhckhlbHBlciIsImdldFdpZHRoIiwiZG9jdW1lbnRXaWR0aCIsImlubmVyV2lkdGgiLCJfZGlzYWJsZU92ZXJGbG93IiwiX3NldEVsZW1lbnRBdHRyaWJ1dGVzIiwiY2FsY3VsYXRlZFZhbHVlIiwiX3Jlc2V0RWxlbWVudEF0dHJpYnV0ZXMiLCJpc092ZXJmbG93aW5nIiwiX3NhdmVJbml0aWFsQXR0cmlidXRlIiwic3R5bGVQcm9wZXJ0eSIsInNjcm9sbGJhcldpZHRoIiwiX2FwcGx5TWFuaXB1bGF0aW9uQ2FsbGJhY2siLCJzZXRQcm9wZXJ0eSIsImFjdHVhbFZhbHVlIiwicmVtb3ZlUHJvcGVydHkiLCJjYWxsQmFjayIsInNlbCIsIkNMQVNTX05BTUVfU0hPVyQ1IiwiRVZFTlRfTU9VU0VET1dOIiwiRGVmYXVsdCQ4IiwiY2xhc3NOYW1lIiwiY2xpY2tDYWxsYmFjayIsInJvb3RFbGVtZW50IiwiRGVmYXVsdFR5cGUkOCIsIkJhY2tkcm9wIiwiX2lzQXBwZW5kZWQiLCJfYXBwZW5kIiwiX2dldEVsZW1lbnQiLCJfZW11bGF0ZUFuaW1hdGlvbiIsImJhY2tkcm9wIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsIkVWRU5UX0tFWSQ1IiwiVEFCX05BVl9CQUNLV0FSRCIsIkRlZmF1bHQkNyIsImF1dG9mb2N1cyIsInRyYXBFbGVtZW50IiwiRGVmYXVsdFR5cGUkNyIsIkZvY3VzVHJhcCIsIl9pc0FjdGl2ZSIsIl9sYXN0VGFiTmF2RGlyZWN0aW9uIiwiYWN0aXZhdGUiLCJfaGFuZGxlRm9jdXNpbiIsIl9oYW5kbGVLZXlkb3duIiwiZGVhY3RpdmF0ZSIsInNoaWZ0S2V5IiwiRVZFTlRfSElEREVOJDQiLCJFVkVOVF9TSE9XJDQiLCJDTEFTU19OQU1FX09QRU4iLCJDTEFTU19OQU1FX1NIT1ckNCIsIkNMQVNTX05BTUVfU1RBVElDIiwiRGVmYXVsdCQ2IiwiRGVmYXVsdFR5cGUkNiIsIk1vZGFsIiwiX2RpYWxvZyIsIl9iYWNrZHJvcCIsIl9pbml0aWFsaXplQmFja0Ryb3AiLCJfZm9jdXN0cmFwIiwiX2luaXRpYWxpemVGb2N1c1RyYXAiLCJfc2Nyb2xsQmFyIiwiX2FkanVzdERpYWxvZyIsIl9zaG93RWxlbWVudCIsIl9oaWRlTW9kYWwiLCJodG1sRWxlbWVudCIsImhhbmRsZVVwZGF0ZSIsIm1vZGFsQm9keSIsIl90cmlnZ2VyQmFja2Ryb3BUcmFuc2l0aW9uIiwiY3VycmVudFRhcmdldCIsIl9yZXNldEFkanVzdG1lbnRzIiwiaXNNb2RhbE92ZXJmbG93aW5nIiwiaW5pdGlhbE92ZXJmbG93WSIsImlzQm9keU92ZXJmbG93aW5nIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJzaG93RXZlbnQiLCJhbHJlYWR5T3BlbiIsIkNMQVNTX05BTUVfU0hPVyQzIiwiQ0xBU1NfTkFNRV9TSE9XSU5HJDEiLCJDTEFTU19OQU1FX0hJRElORyIsIk9QRU5fU0VMRUNUT1IiLCJFVkVOVF9ISURFX1BSRVZFTlRFRCIsIkVWRU5UX0hJRERFTiQzIiwiRGVmYXVsdCQ1IiwiRGVmYXVsdFR5cGUkNSIsIk9mZmNhbnZhcyIsImJsdXIiLCJ1cmlBdHRyaWJ1dGVzIiwiU0FGRV9VUkxfUEFUVEVSTiIsIkRBVEFfVVJMX1BBVFRFUk4iLCJhbGxvd2VkQXR0cmlidXRlIiwiYWxsb3dlZEF0dHJpYnV0ZUxpc3QiLCJhdHRyaWJ1dGVOYW1lIiwibm9kZVZhbHVlIiwiYXR0cmlidXRlUmVnZXgiLCJyZWdleCIsIkRlZmF1bHRBbGxvd2xpc3QiLCJhcmVhIiwiYnIiLCJjb2wiLCJjb2RlIiwiZGl2IiwiZW0iLCJociIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImxpIiwib2wiLCJwIiwicHJlIiwicyIsInNtYWxsIiwic3BhbiIsInN1YiIsInN1cCIsInN0cm9uZyIsInUiLCJ1bCIsIkRlZmF1bHQkNCIsImFsbG93TGlzdCIsImNvbnRlbnQiLCJleHRyYUNsYXNzIiwic2FuaXRpemUiLCJzYW5pdGl6ZUZuIiwidGVtcGxhdGUiLCJEZWZhdWx0VHlwZSQ0IiwiRGVmYXVsdENvbnRlbnRUeXBlIiwiZW50cnkiLCJUZW1wbGF0ZUZhY3RvcnkiLCJnZXRDb250ZW50IiwiX3Jlc29sdmVQb3NzaWJsZUZ1bmN0aW9uIiwiaGFzQ29udGVudCIsImNoYW5nZUNvbnRlbnQiLCJfY2hlY2tDb250ZW50IiwidG9IdG1sIiwidGVtcGxhdGVXcmFwcGVyIiwiaW5uZXJIVE1MIiwiX21heWJlU2FuaXRpemUiLCJ0ZXh0IiwiX3NldENvbnRlbnQiLCJhcmciLCJ0ZW1wbGF0ZUVsZW1lbnQiLCJfcHV0RWxlbWVudEluVGVtcGxhdGUiLCJ0ZXh0Q29udGVudCIsInVuc2FmZUh0bWwiLCJzYW5pdGl6ZUZ1bmN0aW9uIiwiY3JlYXRlZERvY3VtZW50IiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZWxlbWVudE5hbWUiLCJhdHRyaWJ1dGVMaXN0IiwiYWxsb3dlZEF0dHJpYnV0ZXMiLCJzYW5pdGl6ZUh0bWwiLCJESVNBTExPV0VEX0FUVFJJQlVURVMiLCJDTEFTU19OQU1FX0ZBREUkMiIsIkNMQVNTX05BTUVfU0hPVyQyIiwiU0VMRUNUT1JfTU9EQUwiLCJFVkVOVF9NT0RBTF9ISURFIiwiVFJJR0dFUl9IT1ZFUiIsIlRSSUdHRVJfRk9DVVMiLCJBdHRhY2htZW50TWFwIiwiQVVUTyIsIlRPUCIsIlJJR0hUIiwiQk9UVE9NIiwiTEVGVCIsIkRlZmF1bHQkMyIsImFuaW1hdGlvbiIsImNvbnRhaW5lciIsImN1c3RvbUNsYXNzIiwiZGVsYXkiLCJ0aXRsZSIsIkRlZmF1bHRUeXBlJDMiLCJUb29sdGlwIiwiX2lzRW5hYmxlZCIsIl90aW1lb3V0IiwiX2lzSG92ZXJlZCIsIl9hY3RpdmVUcmlnZ2VyIiwiX3RlbXBsYXRlRmFjdG9yeSIsIl9uZXdDb250ZW50IiwidGlwIiwiX3NldExpc3RlbmVycyIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiX2luaXRpYWxpemVPbkRlbGVnYXRlZFRhcmdldCIsImNsaWNrIiwiX2lzV2l0aEFjdGl2ZVRyaWdnZXIiLCJfZW50ZXIiLCJfbGVhdmUiLCJfaGlkZU1vZGFsSGFuZGxlciIsIl9kaXNwb3NlUG9wcGVyIiwiX2lzV2l0aENvbnRlbnQiLCJpc0luVGhlRG9tIiwiX2dldFRpcEVsZW1lbnQiLCJwcmV2aW91c0hvdmVyU3RhdGUiLCJfZ2V0VGl0bGUiLCJfY3JlYXRlVGlwRWxlbWVudCIsIl9nZXRDb250ZW50Rm9yVGVtcGxhdGUiLCJfZ2V0VGVtcGxhdGVGYWN0b3J5IiwidGlwSWQiLCJwcmVmaXgiLCJmbG9vciIsInJhbmRvbSIsImdldEVsZW1lbnRCeUlkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsIm9yaWdpbmFsVGl0bGUiLCJfZ2V0RGVsZWdhdGVDb25maWciLCJhdHRhY2htZW50IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJfZml4VGl0bGUiLCJfc2V0VGltZW91dCIsInRpbWVvdXQiLCJkYXRhQXR0cmlidXRlcyIsImRhdGFBdHRyaWJ1dGUiLCJEZWZhdWx0JDIiLCJEZWZhdWx0VHlwZSQyIiwiUG9wb3ZlciIsIl9nZXRDb250ZW50IiwiRVZFTlRfQ0xJQ0siLCJDTEFTU19OQU1FX0FDVElWRSQxIiwiU0VMRUNUT1JfVEFSR0VUX0xJTktTIiwiRGVmYXVsdCQxIiwicm9vdE1hcmdpbiIsInNtb290aFNjcm9sbCIsIkRlZmF1bHRUeXBlJDEiLCJTY3JvbGxTcHkiLCJfdGFyZ2V0TGlua3MiLCJfb2JzZXJ2YWJsZVNlY3Rpb25zIiwiX3Jvb3RFbGVtZW50IiwiX2FjdGl2ZVRhcmdldCIsIl9vYnNlcnZlciIsIl9wcmV2aW91c1Njcm9sbERhdGEiLCJ2aXNpYmxlRW50cnlUb3AiLCJwYXJlbnRTY3JvbGxUb3AiLCJyZWZyZXNoIiwiX2luaXRpYWxpemVUYXJnZXRzQW5kT2JzZXJ2YWJsZXMiLCJfbWF5YmVFbmFibGVTbW9vdGhTY3JvbGwiLCJkaXNjb25uZWN0IiwiX2dldE5ld09ic2VydmVyIiwic2VjdGlvbiIsIm9ic2VydmUiLCJvYnNlcnZhYmxlU2VjdGlvbiIsInNjcm9sbFRvIiwiYmVoYXZpb3IiLCJ0aHJlc2hvbGQiLCJfZ2V0Um9vdE1hcmdpbiIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiX29ic2VydmVyQ2FsbGJhY2siLCJ0YXJnZXRFbGVtZW50IiwiaWQiLCJfcHJvY2VzcyIsInVzZXJTY3JvbGxzRG93biIsImlzSW50ZXJzZWN0aW5nIiwiX2NsZWFyQWN0aXZlQ2xhc3MiLCJlbnRyeUlzTG93ZXJUaGFuUHJldmlvdXMiLCJ0YXJnZXRMaW5rcyIsImFuY2hvciIsIl9hY3RpdmF0ZVBhcmVudHMiLCJsaXN0R3JvdXAiLCJpdGVtIiwiYWN0aXZlTm9kZXMiLCJzcHkiLCJBUlJPV19MRUZUX0tFWSIsIkFSUk9XX1JJR0hUX0tFWSIsIkFSUk9XX1VQX0tFWSIsIkFSUk9XX0RPV05fS0VZIiwiQ0xBU1NfTkFNRV9BQ1RJVkUiLCJDTEFTU19OQU1FX0ZBREUkMSIsIkNMQVNTX05BTUVfU0hPVyQxIiwiU0VMRUNUT1JfREFUQV9UT0dHTEUiLCJTRUxFQ1RPUl9JTk5FUl9FTEVNIiwiVGFiIiwiX3NldEluaXRpYWxBdHRyaWJ1dGVzIiwiX2dldENoaWxkcmVuIiwiaW5uZXJFbGVtIiwiX2VsZW1Jc0FjdGl2ZSIsImFjdGl2ZSIsIl9nZXRBY3RpdmVFbGVtIiwiaGlkZUV2ZW50IiwiX2RlYWN0aXZhdGUiLCJfYWN0aXZhdGUiLCJyZWxhdGVkRWxlbSIsIl90b2dnbGVEcm9wRG93biIsIm5leHRBY3RpdmVFbGVtZW50IiwiX3NldEF0dHJpYnV0ZUlmTm90RXhpc3RzIiwiX3NldEluaXRpYWxBdHRyaWJ1dGVzT25DaGlsZCIsIl9nZXRJbm5lckVsZW1lbnQiLCJpc0FjdGl2ZSIsIm91dGVyRWxlbSIsIl9nZXRPdXRlckVsZW1lbnQiLCJfc2V0SW5pdGlhbEF0dHJpYnV0ZXNPblRhcmdldFBhbmVsIiwib3BlbiIsIkNMQVNTX05BTUVfSElERSIsIkNMQVNTX05BTUVfU0hPVyIsIkNMQVNTX05BTUVfU0hPV0lORyIsImF1dG9oaWRlIiwiVG9hc3QiLCJfaGFzTW91c2VJbnRlcmFjdGlvbiIsIl9oYXNLZXlib2FyZEludGVyYWN0aW9uIiwiX2NsZWFyVGltZW91dCIsIl9tYXliZVNjaGVkdWxlSGlkZSIsImlzU2hvd24iLCJfb25JbnRlcmFjdGlvbiIsImlzSW50ZXJhY3RpbmciLCJleHBvcnRzIiwidXBkYXRlUmFuZ2VWYWxUZXh0Iiwic2V0RXJyb3JNZXNzYWdlIiwiY3JlYXRlUHJlc2V0Rm9ybUZpZWxkIiwiY3JldGVFbnVtUHJlc2V0Rm9ybUZpZWxkIiwiY3JlYXRlUmFuZ2VQcmVzZXRGb3JtRmllbGQiLCJjcmV0ZUJvb2xQcmVzZXRGb3JtRmllbGQiLCJkZHBfcHJlc2V0c18xIiwibG9nc2NhbGVfMSIsInV0aWxzXzEiLCJ2YWxpZGF0b3JzXzEiLCJpbml0VmFsdWUiLCJib29sVG9EaXNhYmxlZEF0dHIiLCJmaWVsZCIsIlByZXNldEZpZWxkVHlwZSIsIlJBTkdFIiwib3B0cyIsIlNsaWRlclR5cGUiLCJMT0dBUklUSE1JQyIsInBvc0Zyb21Mb2dhcml0aG1pY1ZhbHVlIiwibG93IiwiaGlnaCIsImluaXRMYWJlbCIsIm1pbk1heFN0ciIsIkxJTkVBUiIsImZvcm1hdFNJVW5pdE51bWJlciIsInVuaXQiLCJsb2dhcml0aG1pY1ZhbHVlRnJvbVBvcyIsIkVOVU0iLCJtdWx0aSIsInZhbCIsImRlZmF1bHRWYWx1ZSIsInZhbGlkYXRvciIsInZhbGlkYXRvcnMiLCJURVhUIiwiTlVNQkVSIiwiQk9PTCIsImRlc2NyaXB0aW9uIiwibWVzc2FnZSIsImVycm9yRWxlbSIsInJhbmdlRWxlbSIsIm1pblZhbCIsIm1heFZhbCIsImlubmVyVGV4dCIsInZhbHVlQXNOdW1iZXIiLCJ2YWxpZGF0ZUZpZWxkIiwiRERQUHJlc2V0RWRpdEZvcm0iLCJkZHBfaW5wdXRzXzEiLCJyZW5kZXJlcl8xIiwiaHR0cF8xIiwiY29udGFpbmVySWQiLCJydWxlVHlwZVNlbGVjdElkIiwicHJlc2V0TmFtZUlucHV0SWQiLCJ2YXJOYW1lIiwiY2hhbmdlcyIsIl9tYXhJZCIsIl9ydWxlVHlwZSIsIkREUFJ1bGVUeXBlIiwiRklMVEVSIiwiX2FjdGl2ZUZpZWxkcyIsIl9hdmFpbGFibGVGaWVsZHMiLCJydWxlVHlwZVNlbGVjdCIsInByZXNldE5hbWVJbnB1dCIsIm9uUnVsZVR5cGVDaGFuZ2UiLCJpbml0RnJvbVByZXNldCIsInByZXNldCIsImZpZWxkcyIsInJ1bGVfdHlwZSIsImFkZEZpZWxkIiwiY2hlY2tlZCIsImVkaXRhYmxlIiwiY2hlY2tGaWVsZFJlcXVpcmVtZW50cyIsImdldFByZXNldEZpZWxkIiwiZmllbGRIVE1MIiwid3JhcHBlZCIsIl93cmFwRmllbGQiLCJmb3JtSWQiLCJjcmVhdGVDaGlsZCIsImNoZWNrRm9yRHVwbGljYXRlcyIsInJlbW92ZUZpZWxkIiwiX2EiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJmaW5kSW5kZXgiLCJfY2xlYXJJbnZhbGlkRHVwbGljYXRlV2FybmluZ3MiLCJzcGxpY2UiLCJ1cGRhdGVQcmVzZXRJbnB1dEZpZWxkIiwia2V5U2VsZWN0IiwiaWR4IiwiX2dldEZpZWxkSW5kZXhCeUlkIiwicHJldk5hbWUiLCJfcmVtb3ZlSW52YWxpZFNlbGVjdE9wdGlvbnMiLCJzYXZlIiwiY3NyZl90b2tlbiIsImNhbGxiYWNrVXJsIiwic3VjY2Vzc1JlZGlyZWN0VXJsIiwic2F2ZUJ0bklkIiwiX2Zvcm1IYXNFcnJvcnMiLCJhbGVydCIsIkZvcm1EYXRhIiwicHJlc2V0TmFtZSIsIl9nZXRQcmVzZXROYW1lIiwiX2NvbGxlY3RGb3JtRGF0YSIsImJ0bk9yaWdpbmFsQ29udGVudCIsImJ0biIsInNlbmRGb3JtRGF0YVRvQmFja2VuZCIsIkhUVFBfTUVUSE9EIiwiUE9TVCIsInJlc3BvbnNlIiwiX2hhbmRsZVNhdmVSZXNwb25zZSIsImNhdGNoIiwiZ2V0UHJlc2V0RmllbGRzQnlSdWxlVHlwZSIsIl9yZWJ1aWxkQXR0cmlidXRlU2VsZWN0RHJvcGRvd25zIiwib25QcmVzZXROYW1lQ2hhbmdlIiwibXNnIiwic2V0S2V5RXJyb3JNZXNzYWdlIiwic2VsZWN0RWxlbSIsImR1cGxpY2F0ZXMiLCJfZmluZER1cGxpY2F0ZUtleXMiLCJkIiwiX3NldEZpZWxkQXNEdXBsaWNhdGUiLCJmIiwicmVxdWlyZXNfZmllbGRzIiwicmVxcyIsIl9maW5kVW5zYXRpc2ZpZWRSZXF1aXJlbWVudHMiLCJyIiwid3JvbmdPcHQiLCJfZmllbGRFeGlzdHNJbkNhY2hlIiwic2VsZWN0ZWRJbmRleCIsIl9jcmVhdGVGaWVsZFNlbGVjdGlvbkRyb3Bkb3duT3B0aW9ucyIsImluaXRLZXkiLCJyZXR2YWwiLCJwcmludE5hbWUiLCJwcmVzZXROYW1lRXJyb3IiLCJzZWxlY3QiLCJzb3VyY2VJZCIsImNoZWNrZWRGaWVsZCIsIm5vdFNhdGlzZmllZCIsInJ1bGVfdHlwZXMiLCJyZWxhdGlvbnNoaXAiLCJQcmVzZXRGaWVsZFJlcXVpcmVtZW50UmVsYXRpb25zaGlwIiwiSXNTZXQiLCJfaGFuZGxlUmVxdWlyZW1lbnQiLCJJc05vdFNldCIsIklzR3JlYXRlciIsIklzTG93ZXIiLCJJc0dyZWF0ZXJPckVxdWFsIiwiSXNMb3dlck9yRXF1YWwiLCJJc0VxdWFsIiwiSXNOb3RFcXVhbCIsImN1cnJlbnRGaWVsZCIsImN1cnJlbnRLZXkiLCJ1c2VyRWRpdGFibGUiLCJoYXNDaGlsZE5vZGVzIiwiX2NoZWNrYm94ZXNUb1N0ciIsImMiLCJncmFuZGNoaWxkIiwic3RhdHVzIiwibG9jYXRpb24iLCJocmVmIiwiY2hhbmdlQWR2YW5jZWRPcHRpb25zVGV4dCIsImJlZm9yZUlQRm9ybVNlbmQiLCJERFBQcmVzZXRTZWxlY3RGb3JtIiwicGFyZW50SWQiLCJzZXRQcmVzZXQiLCJpbml0RGF0YSIsIl9wcmVzZXQiLCJyZW5kZXJGb3JtIiwiY2xlYXJBbGxDaGlsZHJlbiIsInByZXNldEZvcm0iLCJfcHJlc2V0VG9IdG1sIiwicnVsZVR5cGVQcmVzZXRGaWVsZCIsIkFNUExJRklDQVRJT04iLCJTWU5fRFJPUCIsIlRDUF9BVVRIRU5USUNBVE9SIiwicnVsZVR5cGVGaWVsZEh0bWwiLCJmaWVsZEh0bWwiLCJfaXNFZGl0YWJsZSIsImxhYmVsIiwiZWRpdGFibGVzIiwiZm9ybVJlZiIsInJhbmdlRmllbGRzIiwiZ2V0RmllbGRzQnlUeXBlIiwib3JpZ2luYWxFbGVtIiwicmVtb3ZlRWxlbWVudCIsImlucHV0IiwiYXR0YWNoSHRtbFRvUmVmIiwic3RyaW5nVG9IdG1sIiwiYWR2YW5jZWRPcHRzSWQiLCJzaG93UHJlc2V0TW9kYWwiLCJnZXRWYWxpZGF0b3JzQnlBdHRyaWJ1dGUiLCJBVkFJTEFCTEVfUFJFU0VUX0ZJRUxEUyIsImJvb3RzdHJhcF8xIiwiUmVnZXhQYXR0ZXJuVmFsaWRhdG9yIiwiTm9uWmVyb1ZhbGlkYXRvciIsIk51bWJlclJhbmdlVmFsaWRhdG9yIiwicnVsZVR5cGUiLCJ0aXRsZUVsZW0iLCJib2R5RWxlbSIsIm1vZGFsRWxlbSIsInJvdyIsImluc2VydFJvdyIsInJvd3MiLCJrZXlDZWxsIiwiaW5zZXJ0Q2VsbCIsInZhbENlbGwiLCJlZGl0YWJsZUNlbGwiLCJ2YWxpZGF0ZSIsInZhbGlkIiwiaW52YWxpZE1lc3NhZ2UiLCJoaW50IiwiZmllbGROYW1lIiwiZmllbGRSZWYiLCJtZXNzYWdlcyIsImZpbGxPcmdhbml6YXRpb24iLCJzd2l0Y2hGb2N1c09uS2V5cHJlc3MiLCJzaG93RmllbGRJZiIsInNvdXJjZVZhbHVlIiwic2hvd1ZhbHVlIiwidGFyZ2V0SUQiLCJmb2N1c0lkIiwiaXBJbnB1dElkIiwibWFza0lucHV0SWQiLCJtb2RhbENvbnRhaW5lciIsIm1vZGFsIiwib25jbGljayIsImlwRmllbGQiLCJtYXNrRmllbGQiLCJvcmdfc2VsZWN0IiwiZmlsbE9yZ1ZhbHVlIiwidXJsIiwicmVxdWVzdE9wdHMiLCJmZXRjaCIsInBvcyIsImxvZyIsInNjYWxlIiwiZXhwIiwic3RyIiwicmVmIiwiYXBwZW5kQ2hpbGQiLCJIVE1MQ29sbGVjdGlvbiIsImFyciIsImF0dGFjaEh0bWxUbyIsInBhcmVudElEIiwicm91bmRUb1ByZWNpc2lvbiIsInByZWNpc2lvbiIsIm11bHRpcGxpZXIiLCJwb3ciLCJudW0iLCJtYXhEZWNpbWFscyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkZWZpbml0aW9uIiwibyIsImVudW1lcmFibGUiLCJwcm9wIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJvbmxvYWQiLCJ0b29sdGlwVHJpZ2dlckVsIiwiZGRwX3ByZXNldF9lZGl0X2Zvcm1fMSIsImRkcF9wcmVzZXRfc2VsZWN0X2Zvcm1fMSIsImZvcm1zXzEiXSwic291cmNlUm9vdCI6IiJ9